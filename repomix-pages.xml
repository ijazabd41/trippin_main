This file is a merged representation of a subset of the codebase, containing specifically included files and files not matching ignore patterns, combined into a single document by Repomix.

<file_summary>
This section contains a summary of this file.

<purpose>
This file contains a packed representation of a subset of the repository's contents that is considered the most important context.
It is designed to be easily consumable by AI systems for analysis, code review,
or other automated processes.
</purpose>

<file_format>
The content is organized as follows:
1. This summary section
2. Repository information
3. Directory structure
4. Repository files (if enabled)
5. Multiple file entries, each consisting of:
  - File path as an attribute
  - Full contents of the file
</file_format>

<usage_guidelines>
- This file should be treated as read-only. Any changes should be made to the
  original repository files, not this packed version.
- When processing this file, use the file path to distinguish
  between different files in the repository.
- Be aware that this file may contain sensitive information. Handle it with
  the same level of security as you would the original repository.
</usage_guidelines>

<notes>
- Some files may have been excluded based on .gitignore rules and Repomix's configuration
- Binary files are not included in this packed representation. Please refer to the Repository Structure section for a complete list of file paths, including binary files
- Only files matching these patterns are included: src/pages/**/*.{js,jsx,ts,tsx}
- Files matching these patterns are excluded: **/TripDetail.tsx, **/ChatBot.tsx
- Files matching patterns in .gitignore are excluded
- Files matching default ignore patterns are excluded
- Files are sorted by Git change count (files with more changes are at the bottom)
</notes>

</file_summary>

<directory_structure>
src/
  pages/
    AdminDashboard.tsx
    AuthPage.tsx
    BillingManagement.tsx
    BookingManagement.tsx
    CheckoutPage.tsx
    CookiePolicy.tsx
    Dashboard.tsx
    ErrorPages.tsx
    ESIMManagement.tsx
    HelpFAQ.tsx
    LandingPage.tsx
    LegalPages.tsx
    LocaleSettings.tsx
    MapNavigation.tsx
    NotificationSettings.tsx
    OfflineSupport.tsx
    PaymentSuccess.tsx
    PlanGeneration.tsx
    PrivacyPolicy.tsx
    ProfileSettings.tsx
    QuestionnaireFlow.tsx
    ReviewsRatings.tsx
    TermsOfService.tsx
    TranslationTool.tsx
    TripEdit.tsx
    TripShare.tsx
    TripTemplates.tsx
</directory_structure>

<files>
This section contains the contents of the repository's files.

<file path="src/pages/AdminDashboard.tsx">
import React, { useState, useEffect } from 'react';
import { motion } from 'framer-motion';
import { Users, DollarSign, TrendingUp, Activity, Eye, Settings, Download, RefreshCw } from 'lucide-react';
import { useLanguage } from '../contexts/LanguageContext';

const AdminDashboard: React.FC = () => {
  const { t } = useLanguage();
  const [stats, setStats] = useState({
    totalUsers: 0,
    activeUsers: 0,
    revenue: 0,
    trips: 0,
    esimSales: 0,
    conversionRate: 0
  });
  const [isLoading, setIsLoading] = useState(true);

  useEffect(() => {
    loadDashboardData();
  }, []);

  const loadDashboardData = async () => {
    try {
      // Mock admin dashboard data
      const mockStats = {
        totalUsers: 12543,
        activeUsers: 8921,
        revenue: 2847500,
        trips: 5632,
        esimSales: 3421,
        conversionRate: 23.4
      };
      
      setStats(mockStats);
    } catch (error) {
      console.error('Failed to load dashboard data:', error);
    } finally {
      setIsLoading(false);
    }
  };

  if (isLoading) {
    return (
      <div className="min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 pt-20 flex items-center justify-center">
        <div className="text-center">
          <div className="w-16 h-16 border-4 border-purple-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"></div>
          <p className="text-gray-600">ç®¡ç†ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã¿ä¸­...</p>
        </div>
      </div>
    );
  }

  return (
    <div className="min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 pt-20">
      <div className="max-w-7xl mx-auto px-6 py-8">
        {/* Header */}
        <motion.div
          className="text-center mb-8"
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ duration: 0.8 }}
        >
          <h1 className="text-4xl font-bold text-gray-800 mb-4">ç®¡ç†è€…ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰</h1>
          <p className="text-lg text-gray-600">TRIPPINã‚µãƒ¼ãƒ“ã‚¹ã®é‹å–¶çŠ¶æ³</p>
        </motion.div>

        {/* Stats Grid */}
        <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
          <motion.div
            className="bg-white rounded-3xl shadow-lg p-6"
            initial={{ opacity: 0, y: 20 }}
            animate={{ opacity: 1, y: 0 }}
            transition={{ duration: 0.5, delay: 0.1 }}
          >
            <div className="flex items-center justify-between mb-4">
              <div className="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center">
                <Users className="w-6 h-6 text-blue-600" />
              </div>
              <span className="text-sm text-green-600 font-medium">+12.5%</span>
            </div>
            <h3 className="text-2xl font-bold text-gray-800">{stats.totalUsers.toLocaleString()}</h3>
            <p className="text-gray-600">ç·ãƒ¦ãƒ¼ã‚¶ãƒ¼æ•°</p>
          </motion.div>

          <motion.div
            className="bg-white rounded-3xl shadow-lg p-6"
            initial={{ opacity: 0, y: 20 }}
            animate={{ opacity: 1, y: 0 }}
            transition={{ duration: 0.5, delay: 0.2 }}
          >
            <div className="flex items-center justify-between mb-4">
              <div className="w-12 h-12 bg-green-100 rounded-full flex items-center justify-center">
                <Activity className="w-6 h-6 text-green-600" />
              </div>
              <span className="text-sm text-green-600 font-medium">+8.3%</span>
            </div>
            <h3 className="text-2xl font-bold text-gray-800">{stats.activeUsers.toLocaleString()}</h3>
            <p className="text-gray-600">ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ¦ãƒ¼ã‚¶ãƒ¼</p>
          </motion.div>

          <motion.div
            className="bg-white rounded-3xl shadow-lg p-6"
            initial={{ opacity: 0, y: 20 }}
            animate={{ opacity: 1, y: 0 }}
            transition={{ duration: 0.5, delay: 0.3 }}
          >
            <div className="flex items-center justify-between mb-4">
              <div className="w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center">
                <DollarSign className="w-6 h-6 text-purple-600" />
              </div>
              <span className="text-sm text-green-600 font-medium">+15.7%</span>
            </div>
            <h3 className="text-2xl font-bold text-gray-800">Â¥{stats.revenue.toLocaleString()}</h3>
            <p className="text-gray-600">æœˆé–“å£²ä¸Š</p>
          </motion.div>

          <motion.div
            className="bg-white rounded-3xl shadow-lg p-6"
            initial={{ opacity: 0, y: 20 }}
            animate={{ opacity: 1, y: 0 }}
            transition={{ duration: 0.5, delay: 0.4 }}
          >
            <div className="flex items-center justify-between mb-4">
              <div className="w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center">
                <TrendingUp className="w-6 h-6 text-orange-600" />
              </div>
              <span className="text-sm text-green-600 font-medium">+22.1%</span>
            </div>
            <h3 className="text-2xl font-bold text-gray-800">{stats.trips.toLocaleString()}</h3>
            <p className="text-gray-600">ä½œæˆã•ã‚ŒãŸæ—…ç¨‹</p>
          </motion.div>

          <motion.div
            className="bg-white rounded-3xl shadow-lg p-6"
            initial={{ opacity: 0, y: 20 }}
            animate={{ opacity: 1, y: 0 }}
            transition={{ duration: 0.5, delay: 0.5 }}
          >
            <div className="flex items-center justify-between mb-4">
              <div className="w-12 h-12 bg-pink-100 rounded-full flex items-center justify-center">
                <Eye className="w-6 h-6 text-pink-600" />
              </div>
              <span className="text-sm text-green-600 font-medium">+18.9%</span>
            </div>
            <h3 className="text-2xl font-bold text-gray-800">{stats.esimSales.toLocaleString()}</h3>
            <p className="text-gray-600">eSIMè²©å£²æ•°</p>
          </motion.div>

          <motion.div
            className="bg-white rounded-3xl shadow-lg p-6"
            initial={{ opacity: 0, y: 20 }}
            animate={{ opacity: 1, y: 0 }}
            transition={{ duration: 0.5, delay: 0.6 }}
          >
            <div className="flex items-center justify-between mb-4">
              <div className="w-12 h-12 bg-indigo-100 rounded-full flex items-center justify-center">
                <TrendingUp className="w-6 h-6 text-indigo-600" />
              </div>
              <span className="text-sm text-green-600 font-medium">+5.2%</span>
            </div>
            <h3 className="text-2xl font-bold text-gray-800">{stats.conversionRate}%</h3>
            <p className="text-gray-600">ã‚³ãƒ³ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç‡</p>
          </motion.div>
        </div>

        {/* Management Actions */}
        <div className="grid lg:grid-cols-2 gap-8">
          {/* System Management */}
          <motion.div
            className="bg-white rounded-3xl shadow-lg p-6"
            initial={{ opacity: 0, x: -20 }}
            animate={{ opacity: 1, x: 0 }}
            transition={{ duration: 0.5, delay: 0.7 }}
          >
            <h2 className="text-xl font-bold text-gray-800 mb-6">ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†</h2>
            
            <div className="space-y-4">
              <button className="w-full flex items-center space-x-3 p-4 bg-blue-50 text-blue-700 rounded-xl hover:bg-blue-100 transition-colors">
                <Settings className="w-5 h-5" />
                <span>ã‚·ã‚¹ãƒ†ãƒ è¨­å®š</span>
              </button>
              
              <button className="w-full flex items-center space-x-3 p-4 bg-green-50 text-green-700 rounded-xl hover:bg-green-100 transition-colors">
                <RefreshCw className="w-5 h-5" />
                <span>ãƒ‡ãƒ¼ã‚¿åŒæœŸ</span>
              </button>
              
              <button className="w-full flex items-center space-x-3 p-4 bg-purple-50 text-purple-700 rounded-xl hover:bg-purple-100 transition-colors">
                <Download className="w-5 h-5" />
                <span>ãƒ¬ãƒãƒ¼ãƒˆå‡ºåŠ›</span>
              </button>
            </div>
          </motion.div>

          {/* Recent Activity */}
          <motion.div
            className="bg-white rounded-3xl shadow-lg p-6"
            initial={{ opacity: 0, x: 20 }}
            animate={{ opacity: 1, x: 0 }}
            transition={{ duration: 0.5, delay: 0.8 }}
          >
            <h2 className="text-xl font-bold text-gray-800 mb-6">æœ€è¿‘ã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£</h2>
            
            <div className="space-y-4">
              <div className="flex items-center space-x-3 p-3 bg-gray-50 rounded-lg">
                <div className="w-2 h-2 bg-green-500 rounded-full"></div>
                <div className="flex-1">
                  <p className="text-sm font-medium text-gray-800">æ–°è¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²</p>
                  <p className="text-xs text-gray-500">2åˆ†å‰</p>
                </div>
              </div>
              
              <div className="flex items-center space-x-3 p-3 bg-gray-50 rounded-lg">
                <div className="w-2 h-2 bg-blue-500 rounded-full"></div>
                <div className="flex-1">
                  <p className="text-sm font-medium text-gray-800">eSIMè³¼å…¥å®Œäº†</p>
                  <p className="text-xs text-gray-500">5åˆ†å‰</p>
                </div>
              </div>
              
              <div className="flex items-center space-x-3 p-3 bg-gray-50 rounded-lg">
                <div className="w-2 h-2 bg-purple-500 rounded-full"></div>
                <div className="flex-1">
                  <p className="text-sm font-medium text-gray-800">æ—…ç¨‹ç”Ÿæˆå®Œäº†</p>
                  <p className="text-xs text-gray-500">8åˆ†å‰</p>
                </div>
              </div>
            </div>
          </motion.div>
        </div>
      </div>
    </div>
  );
};

export default AdminDashboard;
</file>

<file path="src/pages/AuthPage.tsx">
import React from 'react';
import { motion } from 'framer-motion';
import { Routes, Route } from 'react-router-dom';
import Login from '../components/auth/Login';
import Register from '../components/auth/Register';

const AuthPage: React.FC = () => {
  return (
    <div className="min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50">
      <Routes>
        <Route path="/login" element={<Login />} />
        <Route path="/register" element={<Register />} />
        <Route path="/" element={<Login />} />
      </Routes>
    </div>
  );
};

export default AuthPage;
</file>

<file path="src/pages/BillingManagement.tsx">
import React, { useState, useEffect } from 'react';
import { motion } from 'framer-motion';
import { CreditCard, Download, Calendar, DollarSign, AlertCircle, CheckCircle, Edit } from 'lucide-react';
import { useLanguage } from '../contexts/LanguageContext';

interface Invoice {
  id: string;
  date: string;
  amount: number;
  currency: string;
  status: 'paid' | 'pending' | 'failed';
  description: string;
  downloadUrl?: string;
}

interface PaymentMethod {
  id: string;
  type: 'card' | 'paypal' | 'bank';
  last4?: string;
  brand?: string;
  expiryMonth?: number;
  expiryYear?: number;
  isDefault: boolean;
}

const BillingManagement: React.FC = () => {
  const { t } = useLanguage();
  const [invoices, setInvoices] = useState<Invoice[]>([]);
  const [paymentMethods, setPaymentMethods] = useState<PaymentMethod[]>([]);
  const [currentPlan, setCurrentPlan] = useState<any>(null);
  const [isLoading, setIsLoading] = useState(true);

  useEffect(() => {
    loadBillingData();
  }, []);

  const loadBillingData = async () => {
    try {
      // Mock billing data
      const mockInvoices: Invoice[] = [
        {
          id: 'inv_001',
          date: '2024-04-01',
          amount: 2500,
          currency: 'JPY',
          status: 'paid',
          description: 'ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ãƒ—ãƒ©ãƒ³ - 4æœˆ',
          downloadUrl: '#'
        },
        {
          id: 'inv_002',
          date: '2024-03-01',
          amount: 2500,
          currency: 'JPY',
          status: 'paid',
          description: 'ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ãƒ—ãƒ©ãƒ³ - 3æœˆ',
          downloadUrl: '#'
        },
        {
          id: 'inv_003',
          date: '2024-02-01',
          amount: 2500,
          currency: 'JPY',
          status: 'failed',
          description: 'ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ãƒ—ãƒ©ãƒ³ - 2æœˆ',
          downloadUrl: '#'
        }
      ];

      const mockPaymentMethods: PaymentMethod[] = [
        {
          id: 'pm_001',
          type: 'card',
          last4: '4242',
          brand: 'Visa',
          expiryMonth: 12,
          expiryYear: 2025,
          isDefault: true
        },
        {
          id: 'pm_002',
          type: 'card',
          last4: '0005',
          brand: 'Mastercard',
          expiryMonth: 8,
          expiryYear: 2026,
          isDefault: false
        }
      ];

      const mockCurrentPlan = {
        name: 'ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ãƒ—ãƒ©ãƒ³',
        price: 2500,
        currency: 'JPY',
        interval: 'month',
        nextBillingDate: '2024-05-01',
        status: 'active'
      };

      setInvoices(mockInvoices);
      setPaymentMethods(mockPaymentMethods);
      setCurrentPlan(mockCurrentPlan);
    } catch (error) {
      console.error('Failed to load billing data:', error);
    } finally {
      setIsLoading(false);
    }
  };

  const getStatusColor = (status: string) => {
    switch (status) {
      case 'paid': return 'text-green-600 bg-green-100';
      case 'pending': return 'text-yellow-600 bg-yellow-100';
      case 'failed': return 'text-red-600 bg-red-100';
      default: return 'text-gray-600 bg-gray-100';
    }
  };

  const getStatusText = (status: string) => {
    switch (status) {
      case 'paid': return 'æ”¯æ‰•æ¸ˆã¿';
      case 'pending': return 'ä¿ç•™ä¸­';
      case 'failed': return 'å¤±æ•—';
      default: return 'ä¸æ˜';
    }
  };

  const getStatusIcon = (status: string) => {
    switch (status) {
      case 'paid': return <CheckCircle className="w-4 h-4" />;
      case 'pending': return <AlertCircle className="w-4 h-4" />;
      case 'failed': return <AlertCircle className="w-4 h-4" />;
      default: return <AlertCircle className="w-4 h-4" />;
    }
  };

  const getCardIcon = (brand: string) => {
    switch (brand?.toLowerCase()) {
      case 'visa': return 'ğŸ’³';
      case 'mastercard': return 'ğŸ’³';
      case 'amex': return 'ğŸ’³';
      default: return 'ğŸ’³';
    }
  };

  if (isLoading) {
    return (
      <div className="min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 pt-20 flex items-center justify-center">
        <div className="text-center">
          <div className="w-16 h-16 border-4 border-purple-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"></div>
          <p className="text-gray-600">è«‹æ±‚æƒ…å ±ã‚’èª­ã¿è¾¼ã¿ä¸­...</p>
        </div>
      </div>
    );
  }

  return (
    <div className="min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 pt-20">
      <div className="max-w-6xl mx-auto px-6 py-8">
        {/* Header */}
        <motion.div
          className="text-center mb-8"
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ duration: 0.8 }}
        >
          <h1 className="text-4xl font-bold text-gray-800 mb-4">æ”¯æ‰•ã„ãƒ»è«‹æ±‚ç®¡ç†</h1>
          <p className="text-lg text-gray-600">ãƒ—ãƒ©ãƒ³ã¨æ”¯æ‰•ã„æ–¹æ³•ã‚’ç®¡ç†</p>
        </motion.div>

        <div className="grid lg:grid-cols-3 gap-8">
          {/* Current Plan */}
          <motion.div
            className="bg-white rounded-3xl shadow-lg p-6"
            initial={{ opacity: 0, y: 20 }}
            animate={{ opacity: 1, y: 0 }}
            transition={{ duration: 0.5, delay: 0.1 }}
          >
            <h2 className="text-xl font-bold text-gray-800 mb-4">ç¾åœ¨ã®ãƒ—ãƒ©ãƒ³</h2>
            
            {currentPlan && (
              <div className="space-y-4">
                <div className="text-center p-4 bg-gradient-to-br from-purple-50 to-pink-50 rounded-2xl">
                  <h3 className="text-lg font-bold text-gray-800">{currentPlan.name}</h3>
                  <div className="text-3xl font-bold text-purple-600 mt-2">
                    Â¥{currentPlan.price.toLocaleString()}
                  </div>
                  <div className="text-sm text-gray-600">/{currentPlan.interval === 'month' ? 'æœˆ' : 'å¹´'}</div>
                </div>

                <div className="space-y-3 text-sm">
                  <div className="flex justify-between">
                    <span className="text-gray-600">ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹:</span>
                    <span className="font-medium text-green-600">ã‚¢ã‚¯ãƒ†ã‚£ãƒ–</span>
                  </div>
                  <div className="flex justify-between">
                    <span className="text-gray-600">æ¬¡å›è«‹æ±‚æ—¥:</span>
                    <span className="font-medium">
                      {new Date(currentPlan.nextBillingDate).toLocaleDateString('ja-JP')}
                    </span>
                  </div>
                </div>

                <div className="space-y-3">
                  <button className="w-full bg-purple-600 text-white py-2 rounded-xl hover:bg-purple-700 transition-colors">
                    ãƒ—ãƒ©ãƒ³å¤‰æ›´
                  </button>
                  <button className="w-full bg-gray-100 text-gray-700 py-2 rounded-xl hover:bg-gray-200 transition-colors">
                    è§£ç´„
                  </button>
                </div>
              </div>
            )}
          </motion.div>

          {/* Payment Methods & Invoices */}
          <div className="lg:col-span-2 space-y-8">
            {/* Payment Methods */}
            <motion.div
              className="bg-white rounded-3xl shadow-lg p-6"
              initial={{ opacity: 0, y: 20 }}
              animate={{ opacity: 1, y: 0 }}
              transition={{ duration: 0.5, delay: 0.2 }}
            >
              <div className="flex items-center justify-between mb-6">
                <h2 className="text-xl font-bold text-gray-800">æ”¯æ‰•ã„æ–¹æ³•</h2>
                <button className="px-4 py-2 bg-purple-600 text-white rounded-xl hover:bg-purple-700 transition-colors">
                  è¿½åŠ 
                </button>
              </div>

              <div className="space-y-4">
                {paymentMethods.map((method, index) => (
                  <motion.div
                    key={method.id}
                    className={`p-4 border rounded-xl ${
                      method.isDefault ? 'border-purple-500 bg-purple-50' : 'border-gray-200'
                    }`}
                    initial={{ opacity: 0, x: -20 }}
                    animate={{ opacity: 1, x: 0 }}
                    transition={{ duration: 0.3, delay: index * 0.1 }}
                  >
                    <div className="flex items-center justify-between">
                      <div className="flex items-center space-x-3">
                        <div className="text-2xl">{getCardIcon(method.brand || '')}</div>
                        <div>
                          <div className="font-medium text-gray-800">
                            {method.brand} â€¢â€¢â€¢â€¢ {method.last4}
                          </div>
                          <div className="text-sm text-gray-600">
                            æœ‰åŠ¹æœŸé™: {method.expiryMonth}/{method.expiryYear}
                          </div>
                        </div>
                      </div>
                      <div className="flex items-center space-x-2">
                        {method.isDefault && (
                          <span className="px-2 py-1 bg-purple-100 text-purple-700 text-xs rounded-full">
                            ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ
                          </span>
                        )}
                        <button className="p-1 text-gray-500 hover:text-purple-600 transition-colors">
                          <Edit className="w-4 h-4" />
                        </button>
                      </div>
                    </div>
                  </motion.div>
                ))}
              </div>
            </motion.div>

            {/* Billing History */}
            <motion.div
              className="bg-white rounded-3xl shadow-lg p-6"
              initial={{ opacity: 0, y: 20 }}
              animate={{ opacity: 1, y: 0 }}
              transition={{ duration: 0.5, delay: 0.3 }}
            >
              <h2 className="text-xl font-bold text-gray-800 mb-6">è«‹æ±‚å±¥æ­´</h2>

              <div className="space-y-4">
                {invoices.map((invoice, index) => (
                  <motion.div
                    key={invoice.id}
                    className="flex items-center justify-between p-4 border border-gray-200 rounded-xl hover:border-purple-300 transition-colors"
                    initial={{ opacity: 0, y: 20 }}
                    animate={{ opacity: 1, y: 0 }}
                    transition={{ duration: 0.3, delay: index * 0.1 }}
                  >
                    <div className="flex items-center space-x-4">
                      <div className="w-12 h-12 bg-gradient-to-br from-purple-100 to-blue-100 rounded-full flex items-center justify-center">
                        <DollarSign className="w-6 h-6 text-purple-600" />
                      </div>
                      <div>
                        <h3 className="font-medium text-gray-800">{invoice.description}</h3>
                        <div className="flex items-center space-x-2 text-sm text-gray-600">
                          <Calendar className="w-4 h-4" />
                          <span>{new Date(invoice.date).toLocaleDateString('ja-JP')}</span>
                        </div>
                      </div>
                    </div>

                    <div className="flex items-center space-x-4">
                      <div className="text-right">
                        <div className="font-bold text-gray-800">
                          Â¥{invoice.amount.toLocaleString()}
                        </div>
                        <div className={`flex items-center space-x-1 text-sm px-2 py-1 rounded-full ${getStatusColor(invoice.status)}`}>
                          {getStatusIcon(invoice.status)}
                          <span>{getStatusText(invoice.status)}</span>
                        </div>
                      </div>
                      {invoice.status === 'paid' && (
                        <button className="p-2 text-gray-500 hover:text-purple-600 transition-colors">
                          <Download className="w-4 h-4" />
                        </button>
                      )}
                    </div>
                  </motion.div>
                ))}
              </div>

              <div className="mt-6 text-center">
                <button className="text-purple-600 hover:text-purple-700 font-medium">
                  ã™ã¹ã¦ã®å±¥æ­´ã‚’è¡¨ç¤º
                </button>
              </div>
            </motion.div>
          </div>
        </div>
      </div>
    </div>
  );
};

export default BillingManagement;
</file>

<file path="src/pages/BookingManagement.tsx">
import React, { useState, useEffect } from 'react';
import { motion } from 'framer-motion';
import { Calendar, MapPin, Clock, Star, Edit, Trash2, Download, Filter } from 'lucide-react';
import { useLanguage } from '../contexts/LanguageContext';

interface Booking {
  id: string;
  type: 'flight' | 'hotel' | 'activity' | 'transport';
  title: string;
  date: string;
  time?: string;
  location: string;
  status: 'confirmed' | 'pending' | 'cancelled';
  price: number;
  currency: string;
  confirmationNumber: string;
  details: any;
}

const BookingManagement: React.FC = () => {
  const { t } = useLanguage();
  const [bookings, setBookings] = useState<Booking[]>([]);
  const [filter, setFilter] = useState<string>('all');
  const [isLoading, setIsLoading] = useState(true);

  useEffect(() => {
    loadBookings();
  }, []);

  const loadBookings = async () => {
    try {
      // Mock booking data
      const mockBookings: Booking[] = [
        {
          id: 'booking_1',
          type: 'flight',
          title: 'æ±äº¬ â†’ å¤§é˜ª',
          date: '2024-04-01',
          time: '09:30',
          location: 'ç¾½ç”°ç©ºæ¸¯',
          status: 'confirmed',
          price: 15000,
          currency: 'JPY',
          confirmationNumber: 'JL123456',
          details: {
            airline: 'JAL',
            flightNumber: 'JL123',
            seat: '12A'
          }
        },
        {
          id: 'booking_2',
          type: 'hotel',
          title: 'ã‚°ãƒ©ãƒ³ãƒ‰ãƒ›ãƒ†ãƒ«æ±äº¬',
          date: '2024-04-01',
          location: 'æ±äº¬',
          status: 'confirmed',
          price: 25000,
          currency: 'JPY',
          confirmationNumber: 'HTL789012',
          details: {
            checkIn: '2024-04-01',
            checkOut: '2024-04-03',
            roomType: 'ãƒ‡ãƒ©ãƒƒã‚¯ã‚¹ãƒ«ãƒ¼ãƒ ',
            guests: 2
          }
        },
        {
          id: 'booking_3',
          type: 'activity',
          title: 'æµ…è‰å¯ºã‚¬ã‚¤ãƒ‰ãƒ„ã‚¢ãƒ¼',
          date: '2024-04-02',
          time: '14:00',
          location: 'æµ…è‰',
          status: 'pending',
          price: 3500,
          currency: 'JPY',
          confirmationNumber: 'ACT345678',
          details: {
            duration: '2æ™‚é–“',
            language: 'è‹±èª',
            groupSize: 'æœ€å¤§15å'
          }
        }
      ];
      
      setBookings(mockBookings);
    } catch (error) {
      console.error('Failed to load bookings:', error);
    } finally {
      setIsLoading(false);
    }
  };

  const getStatusColor = (status: string) => {
    switch (status) {
      case 'confirmed': return 'text-green-600 bg-green-100';
      case 'pending': return 'text-yellow-600 bg-yellow-100';
      case 'cancelled': return 'text-red-600 bg-red-100';
      default: return 'text-gray-600 bg-gray-100';
    }
  };

  const getTypeIcon = (type: string) => {
    switch (type) {
      case 'flight': return 'âœˆï¸';
      case 'hotel': return 'ğŸ¨';
      case 'activity': return 'ğŸ¯';
      case 'transport': return 'ğŸšŒ';
      default: return 'ğŸ“…';
    }
  };

  const getStatusText = (status: string) => {
    switch (status) {
      case 'confirmed': return 'ç¢ºå®š';
      case 'pending': return 'ä¿ç•™ä¸­';
      case 'cancelled': return 'ã‚­ãƒ£ãƒ³ã‚»ãƒ«';
      default: return 'ä¸æ˜';
    }
  };

  const filteredBookings = filter === 'all' 
    ? bookings 
    : bookings.filter(booking => booking.type === filter);

  if (isLoading) {
    return (
      <div className="min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 pt-20 flex items-center justify-center">
        <div className="text-center">
          <div className="w-16 h-16 border-4 border-purple-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"></div>
          <p className="text-gray-600">äºˆç´„æƒ…å ±ã‚’èª­ã¿è¾¼ã¿ä¸­...</p>
        </div>
      </div>
    );
  }

  return (
    <div className="min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 pt-20">
      <div className="max-w-6xl mx-auto px-6 py-8">
        {/* Header */}
        <motion.div
          className="text-center mb-8"
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ duration: 0.8 }}
        >
          <h1 className="text-4xl font-bold text-gray-800 mb-4">äºˆç´„ç®¡ç†</h1>
          <p className="text-lg text-gray-600">ã‚ãªãŸã®æ—…è¡Œäºˆç´„ã‚’ä¸€å…ƒç®¡ç†</p>
        </motion.div>

        {/* Filter Tabs */}
        <motion.div
          className="flex flex-wrap justify-center gap-4 mb-8"
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ duration: 0.5, delay: 0.1 }}
        >
          {[
            { key: 'all', label: 'ã™ã¹ã¦', icon: 'ğŸ“‹' },
            { key: 'flight', label: 'èˆªç©ºåˆ¸', icon: 'âœˆï¸' },
            { key: 'hotel', label: 'ãƒ›ãƒ†ãƒ«', icon: 'ğŸ¨' },
            { key: 'activity', label: 'ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£', icon: 'ğŸ¯' },
            { key: 'transport', label: 'äº¤é€š', icon: 'ğŸšŒ' }
          ].map((tab) => (
            <button
              key={tab.key}
              onClick={() => setFilter(tab.key)}
              className={`flex items-center space-x-2 px-6 py-3 rounded-xl font-medium transition-all ${
                filter === tab.key
                  ? 'bg-purple-600 text-white shadow-lg'
                  : 'bg-white text-gray-600 hover:bg-purple-50 hover:text-purple-600'
              }`}
            >
              <span>{tab.icon}</span>
              <span>{tab.label}</span>
            </button>
          ))}
        </motion.div>

        {/* Bookings List */}
        <div className="space-y-6">
          {filteredBookings.map((booking, index) => (
            <motion.div
              key={booking.id}
              className="bg-white rounded-3xl shadow-lg p-6"
              initial={{ opacity: 0, y: 20 }}
              animate={{ opacity: 1, y: 0 }}
              transition={{ duration: 0.5, delay: index * 0.1 }}
            >
              <div className="flex items-start justify-between mb-4">
                <div className="flex items-center space-x-4">
                  <div className="w-12 h-12 bg-gradient-to-br from-purple-100 to-blue-100 rounded-full flex items-center justify-center text-2xl">
                    {getTypeIcon(booking.type)}
                  </div>
                  <div>
                    <h3 className="text-xl font-bold text-gray-800">{booking.title}</h3>
                    <div className="flex items-center space-x-4 text-gray-600 mt-1">
                      <div className="flex items-center space-x-1">
                        <Calendar className="w-4 h-4" />
                        <span>{new Date(booking.date).toLocaleDateString('ja-JP')}</span>
                      </div>
                      {booking.time && (
                        <div className="flex items-center space-x-1">
                          <Clock className="w-4 h-4" />
                          <span>{booking.time}</span>
                        </div>
                      )}
                      <div className="flex items-center space-x-1">
                        <MapPin className="w-4 h-4" />
                        <span>{booking.location}</span>
                      </div>
                    </div>
                  </div>
                </div>
                
                <div className="flex items-center space-x-3">
                  <div className={`px-3 py-1 rounded-full text-sm font-medium ${getStatusColor(booking.status)}`}>
                    {getStatusText(booking.status)}
                  </div>
                  <div className="text-right">
                    <div className="text-2xl font-bold text-purple-600">
                      Â¥{booking.price.toLocaleString()}
                    </div>
                    <div className="text-sm text-gray-500">
                      ç¢ºèªç•ªå·: {booking.confirmationNumber}
                    </div>
                  </div>
                </div>
              </div>

              {/* Booking Details */}
              <div className="bg-gray-50 rounded-2xl p-4 mb-4">
                <div className="grid md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm">
                  {Object.entries(booking.details).map(([key, value]) => (
                    <div key={key}>
                      <span className="font-medium text-gray-700 capitalize">{key}:</span>
                      <br />
                      <span className="text-gray-600">{value}</span>
                    </div>
                  ))}
                </div>
              </div>

              {/* Actions */}
              <div className="flex flex-wrap gap-3">
                <button className="flex items-center space-x-2 px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors">
                  <Edit className="w-4 h-4" />
                  <span>å¤‰æ›´</span>
                </button>
                <button className="flex items-center space-x-2 px-4 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors">
                  <Download className="w-4 h-4" />
                  <span>ç¢ºèªæ›¸</span>
                </button>
                {booking.status !== 'cancelled' && (
                  <button className="flex items-center space-x-2 px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors">
                    <Trash2 className="w-4 h-4" />
                    <span>ã‚­ãƒ£ãƒ³ã‚»ãƒ«</span>
                  </button>
                )}
              </div>
            </motion.div>
          ))}
        </div>

        {filteredBookings.length === 0 && (
          <motion.div
            className="text-center py-12"
            initial={{ opacity: 0 }}
            animate={{ opacity: 1 }}
            transition={{ duration: 0.5 }}
          >
            <div className="text-6xl mb-4">ğŸ“…</div>
            <h3 className="text-xl font-semibold text-gray-800 mb-2">äºˆç´„ãŒã‚ã‚Šã¾ã›ã‚“</h3>
            <p className="text-gray-600">æ–°ã—ã„æ—…è¡Œã‚’è¨ˆç”»ã—ã¦äºˆç´„ã‚’è¿½åŠ ã—ã¾ã—ã‚‡ã†</p>
          </motion.div>
        )}
      </div>
    </div>
  );
};

export default BookingManagement;
</file>

<file path="src/pages/CheckoutPage.tsx">
import React, { useState, useEffect } from 'react';
import { motion } from 'framer-motion';
import { useNavigate } from 'react-router-dom';
import { CreditCard, Shield, Check, ArrowLeft, Loader } from 'lucide-react';
import { useAuth } from '../contexts/AuthContext';
import { useLanguage } from '../contexts/LanguageContext';
import { apiCall, API_CONFIG, APIError } from '../config/api';
import { handleAWSError, globalErrorHandler } from '../utils/errorHandler';

const CheckoutPage: React.FC = () => {
  const navigate = useNavigate();
  const { t } = useLanguage();
  const { user, isAuthenticated } = useAuth();
  const [isProcessing, setIsProcessing] = useState(false);
  const [error, setError] = useState<string | null>(null);

  const plans = [
    {
      id: 'premium',
      name: 'ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ãƒ—ãƒ©ãƒ³',
      price: 2500,
      currency: 'JPY',
      features: [
        'å®Œå…¨ãªæ—…ç¨‹ãƒ—ãƒ©ãƒ³',
        'ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæ©Ÿèƒ½',
        '24æ™‚é–“AIã‚µãƒãƒ¼ãƒˆ',
        'eSIMå‰²å¼•',
        'å„ªå…ˆã‚µãƒãƒ¼ãƒˆ'
      ]
    }
  ];

  const handlePayment = async () => {
    if (!isAuthenticated) {
      navigate('/auth/login');
      return;
    }

    setIsProcessing(true);
    setError(null);

    try {
      const result = await apiCall('/create-checkout-session', {
        method: 'POST',
        body: JSON.stringify({
          planId: 'premium',
          userId: user?.id,
          successUrl: `${window.location.origin}/payment-success`,
          cancelUrl: `${window.location.origin}/checkout`
        })
      });

      if (result.success && result.sessionUrl) {
        window.location.href = result.sessionUrl;
      } else {
        throw new Error(result.message || 'æ±ºæ¸ˆã‚»ãƒƒã‚·ãƒ§ãƒ³ã®ä½œæˆã«å¤±æ•—ã—ã¾ã—ãŸ');
      }
    } catch (error) {
      const apiError = error as APIError;
      
      globalErrorHandler.handleError(apiError, {
        page: 'CheckoutPage',
        action: 'createCheckoutSession',
        userAgent: navigator.userAgent,
        url: window.location.href
      });

      console.error('Checkout error:', apiError);
      
      const errorInfo = handleAWSError(apiError);
      setError(errorInfo.message || 'æ±ºæ¸ˆå‡¦ç†ã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„ã€‚');
    } finally {
      setIsProcessing(false);
    }
  };

  return (
    <div className="min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 pt-20">
      <div className="max-w-4xl mx-auto px-6 py-8">
        {/* Header */}
        <motion.div
          className="text-center mb-8"
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ duration: 0.8 }}
        >
          <h1 className="text-4xl font-bold text-gray-800 mb-4">ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ãƒ—ãƒ©ãƒ³ã«ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰</h1>
          <h1 className="text-4xl font-bold text-gray-800 mb-4">{t('checkout.title')}</h1>
          <p className="text-lg text-gray-600">{t('checkout.subtitle')}</p>
        </motion.div>

        <div className="grid lg:grid-cols-2 gap-8">
          {/* Plan Details */}
          <motion.div
            className="bg-white rounded-3xl shadow-lg p-8"
            initial={{ opacity: 0, x: -20 }}
            animate={{ opacity: 1, x: 0 }}
            transition={{ duration: 0.5, delay: 0.1 }}
          >
            <div className="text-center mb-6">
              <h2 className="text-2xl font-bold text-gray-800 mb-2">{t('checkout.planName')}</h2>
              <div className="text-4xl font-bold text-purple-600 mb-2">
                Â¥{plans[0].price.toLocaleString()}
              </div>
              <div className="text-gray-600">{t('checkout.monthly')}</div>
            </div>

            <div className="space-y-4">
              {[
                t('checkout.features.completeItinerary'),
                t('checkout.features.customization'),
                t('checkout.features.aiSupport'),
                t('checkout.features.esimDiscount'),
                t('checkout.features.prioritySupport')
              ].map((feature, index) => (
                <div key={index} className="flex items-center space-x-3">
                  <div className="w-6 h-6 bg-green-100 rounded-full flex items-center justify-center">
                    <Check className="w-4 h-4 text-green-600" />
                  </div>
                  <span className="text-gray-700">{feature}</span>
                </div>
              ))}
            </div>
          </motion.div>

          {/* Payment Form */}
          <motion.div
            className="bg-white rounded-3xl shadow-lg p-8"
            initial={{ opacity: 0, x: 20 }}
            animate={{ opacity: 1, x: 0 }}
            transition={{ duration: 0.5, delay: 0.2 }}
          >
            <h3 className="text-xl font-bold text-gray-800 mb-6">{t('checkout.paymentInfo')}</h3>

            {error && (
              <div className="mb-6 p-4 bg-red-50 border border-red-200 rounded-xl">
                <p className="text-red-700">{error}</p>
              </div>
            )}

            <div className="space-y-6">
              <div className="p-4 bg-blue-50 border border-blue-200 rounded-xl">
                <div className="flex items-center space-x-3">
                  <Shield className="w-6 h-6 text-blue-600" />
                  <div>
                    <h4 className="font-medium text-blue-800">{t('checkout.securePayment')}</h4>
                    <p className="text-sm text-blue-600">{t('checkout.stripeSecure')}</p>
                  </div>
                </div>
              </div>

              <button
                onClick={handlePayment}
                disabled={isProcessing}
                className="w-full flex items-center justify-center space-x-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white py-4 rounded-xl hover:from-purple-700 hover:to-pink-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed"
              >
                {isProcessing ? (
                  <>
                    <Loader className="w-5 h-5 animate-spin" />
                    <span>{t('checkout.processing')}</span>
                  </>
                ) : (
                  <>
                    <CreditCard className="w-5 h-5" />
                    <span>{t('checkout.proceedToPayment')}</span>
                  </>
                )}
              </button>

              <div className="text-center">
                <button
                  onClick={() => navigate('/dashboard')}
                  className="flex items-center space-x-2 text-gray-600 hover:text-gray-800 transition-colors mx-auto"
                >
                  <ArrowLeft className="w-4 h-4" />
                  <span>{t('checkout.payLater')}</span>
                </button>
              </div>
            </div>
          </motion.div>
        </div>
      </div>
    </div>
  );
};

export default CheckoutPage;
</file>

<file path="src/pages/CookiePolicy.tsx">
import React from 'react';
import { motion } from 'framer-motion';
import { ArrowLeft, Cookie } from 'lucide-react';
import { useNavigate } from 'react-router-dom';
import { useLanguage } from '../contexts/LanguageContext';

const CookiePolicy: React.FC = () => {
  const navigate = useNavigate();
  const { t } = useLanguage();

  return (
    <div className="min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 pt-24">
      <div className="max-w-4xl mx-auto px-6 py-8">
        {/* Header */}
        <motion.div
          className="flex items-center space-x-4 mb-8"
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ duration: 0.8 }}
        >
          <button
            onClick={() => navigate(-1)}
            className="flex items-center space-x-2 text-gray-600 hover:text-gray-800 transition-colors"
          >
            <ArrowLeft className="w-5 h-5" />
            <span>{t('common.back')}</span>
          </button>
          <div className="flex items-center space-x-3">
            <Cookie className="w-8 h-8 text-purple-600" />
            <h1 className="text-3xl font-bold text-gray-800">{t('legal.cookies.title')}</h1>
          </div>
        </motion.div>

        {/* Cookie Policy Content */}
        <motion.div
          className="bg-white rounded-3xl shadow-lg p-8"
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ duration: 0.5, delay: 0.1 }}
        >
          <div className="prose max-w-none">
            <p className="text-sm text-gray-500 mb-6">{t('legal.lastUpdated')}: 2024å¹´1æœˆ1æ—¥</p>

            <h2 className="text-2xl font-bold text-gray-800 mb-4">{t('legal.cookies.article1.title')}</h2>
            <p className="mb-4">
              {t('legal.cookies.article1.content')}
            </p>

            <h2 className="text-2xl font-bold text-gray-800 mb-4">ç¬¬2æ¡ï¼ˆã‚¯ãƒƒã‚­ãƒ¼ã®ä½¿ç”¨ç›®çš„ï¼‰</h2>
            <p className="mb-4">å½“ç¤¾ã§ã¯ã€ä»¥ä¸‹ã®ç›®çš„ã§ã‚¯ãƒƒã‚­ãƒ¼ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ï¼š</p>
            <ul className="list-disc pl-6 mb-4">
              <li>ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã®æ©Ÿèƒ½ã‚’æä¾›ã™ã‚‹ãŸã‚ï¼ˆå¿…é ˆã‚¯ãƒƒã‚­ãƒ¼ï¼‰</li>
              <li>ãŠå®¢æ§˜ã®è¨­å®šã‚„é¸æŠã‚’è¨˜æ†¶ã™ã‚‹ãŸã‚ï¼ˆæ©Ÿèƒ½æ€§ã‚¯ãƒƒã‚­ãƒ¼ï¼‰</li>
              <li>ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã®åˆ©ç”¨çŠ¶æ³ã‚’åˆ†æã™ã‚‹ãŸã‚ï¼ˆåˆ†æã‚¯ãƒƒã‚­ãƒ¼ï¼‰</li>
              <li>ãŠå®¢æ§˜ã«é–¢é€£ã™ã‚‹åºƒå‘Šã‚’è¡¨ç¤ºã™ã‚‹ãŸã‚ï¼ˆãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°ã‚¯ãƒƒã‚­ãƒ¼ï¼‰</li>
              <li>ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’å‘ä¸Šã•ã›ã‚‹ãŸã‚</li>
            </ul>

            <h2 className="text-2xl font-bold text-gray-800 mb-4">ç¬¬3æ¡ï¼ˆä½¿ç”¨ã™ã‚‹ã‚¯ãƒƒã‚­ãƒ¼ã®ç¨®é¡ï¼‰</h2>
            
            <h3 className="text-xl font-semibold text-gray-800 mb-3">å¿…é ˆã‚¯ãƒƒã‚­ãƒ¼</h3>
            <p className="mb-4">
              ã“ã‚Œã‚‰ã®ã‚¯ãƒƒã‚­ãƒ¼ã¯ã€ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã®åŸºæœ¬çš„ãªæ©Ÿèƒ½ã‚’æä¾›ã™ã‚‹ãŸã‚ã«å¿…è¦ã§ã™ã€‚ã“ã‚Œã‚‰ã®ã‚¯ãƒƒã‚­ãƒ¼ã‚’ç„¡åŠ¹ã«ã™ã‚‹ã¨ã€ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆãŒæ­£å¸¸ã«æ©Ÿèƒ½ã—ãªã„å ´åˆãŒã‚ã‚Šã¾ã™ã€‚
            </p>
            <div className="bg-gray-50 p-4 rounded-lg mb-4">
              <ul className="text-sm space-y-1">
                <li><strong>trippin-session</strong>: ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†</li>
                <li><strong>trippin-auth</strong>: èªè¨¼çŠ¶æ…‹ã®ä¿æŒ</li>
                <li><strong>trippin-language</strong>: è¨€èªè¨­å®šã®ä¿å­˜</li>
                <li><strong>trippin-csrf</strong>: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒˆãƒ¼ã‚¯ãƒ³</li>
              </ul>
            </div>

            <h3 className="text-xl font-semibold text-gray-800 mb-3">æ©Ÿèƒ½æ€§ã‚¯ãƒƒã‚­ãƒ¼</h3>
            <p className="mb-4">
              ã“ã‚Œã‚‰ã®ã‚¯ãƒƒã‚­ãƒ¼ã¯ã€ãŠå®¢æ§˜ã®è¨­å®šã‚„é¸æŠã‚’è¨˜æ†¶ã—ã€ã‚ˆã‚Šè‰¯ã„ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã‚’æä¾›ã—ã¾ã™ã€‚
            </p>
            <div className="bg-gray-50 p-4 rounded-lg mb-4">
              <ul className="text-sm space-y-1">
                <li><strong>trippin-preferences</strong>: ãƒ¦ãƒ¼ã‚¶ãƒ¼è¨­å®šã®ä¿å­˜</li>
                <li><strong>trippin-theme</strong>: ãƒ†ãƒ¼ãƒè¨­å®š</li>
                <li><strong>trippin-locale</strong>: åœ°åŸŸè¨­å®š</li>
                <li><strong>trippin-notifications</strong>: é€šçŸ¥è¨­å®š</li>
              </ul>
            </div>

            <h3 className="text-xl font-semibold text-gray-800 mb-3">åˆ†æã‚¯ãƒƒã‚­ãƒ¼</h3>
            <p className="mb-4">
              ã“ã‚Œã‚‰ã®ã‚¯ãƒƒã‚­ãƒ¼ã¯ã€ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã®åˆ©ç”¨çŠ¶æ³ã‚’åˆ†æã—ã€ã‚µãƒ¼ãƒ“ã‚¹ã®æ”¹å–„ã«å½¹ç«‹ã¦ã‚‹ãŸã‚ã«ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚
            </p>
            <div className="bg-gray-50 p-4 rounded-lg mb-4">
              <ul className="text-sm space-y-1">
                <li><strong>_ga</strong>: Google Analyticsï¼ˆè¨ªå•è€…ã®è­˜åˆ¥ï¼‰</li>
                <li><strong>_ga_*</strong>: Google Analyticsï¼ˆã‚»ãƒƒã‚·ãƒ§ãƒ³æƒ…å ±ï¼‰</li>
                <li><strong>trippin-analytics</strong>: ç‹¬è‡ªã®åˆ†æãƒ‡ãƒ¼ã‚¿</li>
              </ul>
            </div>

            <h3 className="text-xl font-semibold text-gray-800 mb-3">ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°ã‚¯ãƒƒã‚­ãƒ¼</h3>
            <p className="mb-4">
              ã“ã‚Œã‚‰ã®ã‚¯ãƒƒã‚­ãƒ¼ã¯ã€ãŠå®¢æ§˜ã®èˆˆå‘³ã«åŸºã¥ã„ãŸåºƒå‘Šã‚’è¡¨ç¤ºã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚
            </p>
            <div className="bg-gray-50 p-4 rounded-lg mb-4">
              <ul className="text-sm space-y-1">
                <li><strong>trippin-marketing</strong>: ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°è¨­å®š</li>
                <li><strong>trippin-ads</strong>: åºƒå‘Šè¡¨ç¤ºè¨­å®š</li>
              </ul>
            </div>

            <h2 className="text-2xl font-bold text-gray-800 mb-4">ç¬¬4æ¡ï¼ˆç¬¬ä¸‰è€…ã‚¯ãƒƒã‚­ãƒ¼ï¼‰</h2>
            <p className="mb-4">
              å½“ç¤¾ã®ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã§ã¯ã€ä»¥ä¸‹ã®ç¬¬ä¸‰è€…ã‚µãƒ¼ãƒ“ã‚¹ã®ã‚¯ãƒƒã‚­ãƒ¼ã‚‚ä½¿ç”¨ã•ã‚Œã¦ã„ã¾ã™ï¼š
            </p>
            <ul className="list-disc pl-6 mb-4">
              <li><strong>Google Analytics</strong>: ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã®åˆ©ç”¨çŠ¶æ³åˆ†æ</li>
              <li><strong>Google Maps</strong>: åœ°å›³æ©Ÿèƒ½ã®æä¾›</li>
              <li><strong>Stripe</strong>: æ±ºæ¸ˆå‡¦ç†</li>
              <li><strong>Auth0</strong>: èªè¨¼ã‚µãƒ¼ãƒ“ã‚¹</li>
            </ul>

            <h2 className="text-2xl font-bold text-gray-800 mb-4">ç¬¬5æ¡ï¼ˆã‚¯ãƒƒã‚­ãƒ¼ã®ç®¡ç†ï¼‰</h2>
            <p className="mb-4">
              ãŠå®¢æ§˜ã¯ã€ãƒ–ãƒ©ã‚¦ã‚¶ã®è¨­å®šã«ã‚ˆã‚Šã€ã‚¯ãƒƒã‚­ãƒ¼ã®å—ã‘å…¥ã‚Œã‚’æ‹’å¦ã—ãŸã‚Šã€ã‚¯ãƒƒã‚­ãƒ¼ã‚’å‰Šé™¤ã—ãŸã‚Šã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ãŸã ã—ã€ã‚¯ãƒƒã‚­ãƒ¼ã‚’ç„¡åŠ¹ã«ã—ãŸå ´åˆã€ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã®ä¸€éƒ¨æ©Ÿèƒ½ãŒåˆ©ç”¨ã§ããªããªã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚
            </p>

            <h3 className="text-xl font-semibold text-gray-800 mb-3">ä¸»è¦ãƒ–ãƒ©ã‚¦ã‚¶ã§ã®ã‚¯ãƒƒã‚­ãƒ¼è¨­å®šæ–¹æ³•</h3>
            <div className="space-y-4 mb-4">
              <div className="bg-gray-50 p-4 rounded-lg">
                <h4 className="font-semibold mb-2">Google Chrome</h4>
                <p className="text-sm text-gray-700">è¨­å®š â†’ ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ã¨ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ â†’ Cookieã¨ä»–ã®ã‚µã‚¤ãƒˆãƒ‡ãƒ¼ã‚¿</p>
              </div>
              <div className="bg-gray-50 p-4 rounded-lg">
                <h4 className="font-semibold mb-2">Mozilla Firefox</h4>
                <p className="text-sm text-gray-700">è¨­å®š â†’ ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ã¨ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ â†’ Cookieã¨ã‚µã‚¤ãƒˆãƒ‡ãƒ¼ã‚¿</p>
              </div>
              <div className="bg-gray-50 p-4 rounded-lg">
                <h4 className="font-semibold mb-2">Safari</h4>
                <p className="text-sm text-gray-700">ç’°å¢ƒè¨­å®š â†’ ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ â†’ Cookieã¨ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã®ãƒ‡ãƒ¼ã‚¿</p>
              </div>
            </div>

            <h2 className="text-2xl font-bold text-gray-800 mb-4">ç¬¬6æ¡ï¼ˆã‚¯ãƒƒã‚­ãƒ¼ãƒãƒªã‚·ãƒ¼ã®å¤‰æ›´ï¼‰</h2>
            <p className="mb-4">
              å½“ç¤¾ã¯ã€æ³•ä»¤ã®å¤‰æ›´ã‚„ã‚µãƒ¼ãƒ“ã‚¹ã®æ”¹å–„ç­‰ã«ã‚ˆã‚Šã€æœ¬ãƒãƒªã‚·ãƒ¼ã‚’å¤‰æ›´ã™ã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚å¤‰æ›´å¾Œã®ã‚¯ãƒƒã‚­ãƒ¼ãƒãƒªã‚·ãƒ¼ã¯ã€å½“ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã«æ²è¼‰ã—ãŸæ™‚ç‚¹ã‹ã‚‰åŠ¹åŠ›ã‚’ç”Ÿã˜ã‚‹ã‚‚ã®ã¨ã—ã¾ã™ã€‚
            </p>

            <h2 className="text-2xl font-bold text-gray-800 mb-4">ç¬¬7æ¡ï¼ˆãŠå•ã„åˆã‚ã›ï¼‰</h2>
            <p className="mb-4">
              æœ¬ãƒãƒªã‚·ãƒ¼ã«é–¢ã™ã‚‹ãŠå•ã„åˆã‚ã›ã¯ã€ä»¥ä¸‹ã¾ã§ã”é€£çµ¡ãã ã•ã„ï¼š
            </p>
            <div className="bg-gray-50 p-4 rounded-lg">
              <p className="font-semibold">TRIPPINæ ªå¼ä¼šç¤¾</p>
              <p>ä½æ‰€ï¼šã€’100-0001 æ±äº¬éƒ½åƒä»£ç”°åŒºåƒä»£ç”°1-1-1</p>
              <p>ä»£è¡¨è€…ï¼šä»£è¡¨å–ç· å½¹ å±±ç”°å¤ªéƒ</p>
              <p>æ‹…å½“éƒ¨ç½²ï¼šãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ä¿è­·æ‹…å½“</p>
              <p>Eãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ï¼šprivacy@trippin.co.jp</p>
            </div>
          </div>
        </motion.div>
      </div>
    </div>
  );
};

export default CookiePolicy;
</file>

<file path="src/pages/Dashboard.tsx">
import React, { useState, useRef } from 'react';
import { motion, AnimatePresence } from 'framer-motion';
import { useNavigate, Link } from 'react-router-dom';
import { Plus, Calendar, MapPin, Clock, Star, Smartphone, MessageCircle, HelpCircle, Languages, Camera, Upload, X, Loader, ArrowLeft, Eye, Edit } from 'lucide-react';
import { useAuth } from '../contexts/AuthContext';
import { useLanguage } from '../contexts/LanguageContext';
import { useTrip } from '../contexts/TripContext';
import { apiCall, API_CONFIG } from '../config/api';
import SEOHead from '../components/SEOHead';

const Dashboard: React.FC = () => {
  const navigate = useNavigate();
  const { user } = useAuth();
  const { t } = useLanguage();
  const { trips } = useTrip();
  const [showTranslator, setShowTranslator] = useState(false);
  const [imageFile, setImageFile] = useState<File | null>(null);
  const [imagePreview, setImagePreview] = useState<string | null>(null);
  const [translatedText, setTranslatedText] = useState('');
  const [isTranslating, setIsTranslating] = useState(false);
  const [targetLanguage, setTargetLanguage] = useState('en');
  const fileInputRef = useRef<HTMLInputElement>(null);
  const [isLoadingTrips, setIsLoadingTrips] = useState(true);

  const languages = [
    { code: 'en', name: 'English' },
    { code: 'ja', name: 'æ—¥æœ¬èª' },
    { code: 'zh', name: 'ä¸­æ–‡' },
    { code: 'ko', name: 'í•œêµ­ì–´' },
    { code: 'es', name: 'EspaÃ±ol' },
    { code: 'fr', name: 'FranÃ§ais' },
    { code: 'hi', name: 'à¤¹à¤¿à¤¨à¥à¤¦à¥€' },
    { code: 'ru', name: 'Ğ ÑƒÑÑĞºĞ¸Ğ¹' },
    { code: 'ar', name: 'Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©' },
    { code: 'id', name: 'Bahasa Indonesia' },
    { code: 'pt', name: 'PortuguÃªs' },
    { code: 'th', name: 'à¹„à¸—à¸¢' },
    { code: 'vi', name: 'Tiáº¿ng Viá»‡t' },
    { code: 'it', name: 'Italiano' }
  ];

  useEffect(() => {
    // Load trips and check for any stored trip data
    const loadTrips = async () => {
      try {
        // Check if there's a recently generated trip in localStorage
        const recentTripData = localStorage.getItem('trippin-recent-trip');
        if (recentTripData) {
          const recentTrip = JSON.parse(recentTripData);
          console.log('[Dashboard] Found recent trip data:', recentTrip);
          
          // Add to trips if not already present
          const existingTrip = trips.find(t => t.id === recentTrip.id);
          if (!existingTrip) {
            console.log('[Dashboard] Adding recent trip to context');
            // This would ideally be handled by the TripProvider
          }
        }
        
        console.log('[Dashboard] Current trips in context:', trips);
      } catch (error) {
        console.error('[Dashboard] Error loading trips:', error);
      } finally {
        setIsLoadingTrips(false);
      }
    };
    
    loadTrips();
  }, [trips]);

  // Use real trips from context, with enhanced fallback logic
  const displayTrips = React.useMemo(() => {
    console.log('[Dashboard] Computing display trips. Context trips:', trips.length);
    
    if (Array.isArray(trips) && trips.length > 0) {
      console.log('[Dashboard] Using trips from context:', trips);
      return trips.map(trip => ({
        ...trip,
        image: trip.image || 'https://images.pexels.com/photos/2070033/pexels-photo-2070033.jpeg'
      }));
    }
    
    // Check for any stored trip data as fallback
    const storedTrips = localStorage.getItem('trippin-trips');
    if (storedTrips) {
      try {
        const parsedTrips = JSON.parse(storedTrips);
        console.log('[Dashboard] Using stored trips:', parsedTrips);
        if (Array.isArray(parsedTrips) && parsedTrips.length > 0) {
          return parsedTrips.map((trip: any) => ({
            ...trip,
            image: trip.image || 'https://images.pexels.com/photos/2070033/pexels-photo-2070033.jpeg'
          }));
        }
      } catch (error) {
        console.error('[Dashboard] Error parsing stored trips:', error);
      }
    }
    
    // Final fallback to mock data
    console.log('[Dashboard] Using mock data as final fallback');
    return [
      {
        id: 'mock_1',
        title: t('dashboard.springCherryTrip'),
        destination: t('dashboard.tokyoKyoto'),
        startDate: '2024-04-01',
        endDate: '2024-04-05',
        status: 'upcoming',
        image: 'https://images.pexels.com/photos/2070033/pexels-photo-2070033.jpeg'
      },
      {
        id: 'mock_2',
        title: t('dashboard.osakaGourmetTour'),
        destination: t('dashboard.osaka'),
        startDate: '2024-03-15',
        endDate: '2024-03-18',
        status: 'completed',
        image: 'https://images.pexels.com/photos/2506923/pexels-photo-2506923.jpeg'
      }
    ];
  }, [trips, t]);

  const getStatusColor = (status: string) => {
    switch (status) {
      case 'upcoming': return 'bg-blue-100 text-blue-700';
      case 'ongoing': return 'bg-green-100 text-green-700';
      case 'completed': return 'bg-gray-100 text-gray-700';
      default: return 'bg-gray-100 text-gray-700';
    }
  };

  const getStatusText = (status: string) => {
    switch (status) {
      case 'upcoming': return t('dashboard.upcoming');
      case 'ongoing': return t('dashboard.ongoing');
      case 'completed': return t('dashboard.completed');
      default: return t('dashboard.unknown');
    }
  };

  const handleFileUpload = (event: React.ChangeEvent<HTMLInputElement>) => {
    const file = event.target.files?.[0];
    if (file) {
      setImageFile(file);
      
      // Create preview
      const reader = new FileReader();
      reader.onload = (e) => {
        setImagePreview(e.target?.result as string);
      };
      reader.readAsDataURL(file);
    }
  };
  
  const handleTranslate = async () => {
    if (!imageFile) return;
    
    setIsTranslating(true);
    try {
      // Convert file to base64
      const base64Image = await fileToBase64(imageFile);
      
      const result = await apiCall(API_CONFIG.ENDPOINTS.OPENAI_VISION, {
        method: 'POST',
        body: JSON.stringify({
          image: base64Image,
          targetLanguage: targetLanguage
        })
      });
      
      setTranslatedText(result.translation || 'Translation failed');
    } catch (error) {
      console.error('Image processing error:', error);
      setTranslatedText('Error processing image. Please try again.');
    } finally {
      setIsTranslating(false);
    }
  };
  
  const fileToBase64 = (file: File): Promise<string> => {
    return new Promise((resolve, reject) => {
      const reader = new FileReader();
      reader.readAsDataURL(file);
      reader.onload = () => {
        const base64String = reader.result as string;
        // Remove data URL prefix (e.g., "data:image/jpeg;base64,")
        const base64Content = base64String.split(',')[1];
        resolve(base64Content);
      };
      reader.onerror = error => reject(error);
    });
  };
  
  const formatFileSize = (bytes: number): string => {
    if (bytes === 0) return '0 Bytes';
    const k = 1024;
    const sizes = ['Bytes', 'KB', 'MB'];
    const i = Math.floor(Math.log(bytes) / Math.log(k));
    return parseFloat((bytes / Math.pow(k, i)).toFixed(1)) + ' ' + sizes[i];
  };

  return (
    <div className="min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 pt-20">
      <SEOHead
        title="ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰"
        description="ã‚ãªãŸã®æ—¥æœ¬æ—…è¡Œãƒ—ãƒ©ãƒ³ã¨äºˆç´„ã‚’ä¸€å…ƒç®¡ç†ã€‚AIã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆã€eSIMã€ç¿»è¨³ãƒ„ãƒ¼ãƒ«ã‚‚åˆ©ç”¨å¯èƒ½ã€‚"
        keywords={['æ—…è¡Œç®¡ç†', 'ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰', 'æ—¥æœ¬æ—…è¡Œ', 'AIæ—…è¡Œãƒ—ãƒ©ãƒ³']}
      />
      
      <div className="max-w-7xl mx-auto px-6 py-4">
        {/* Welcome Section */}
        <motion.div
          className="mb-8"
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ duration: 0.8 }}
        >
          <h2 className="text-3xl font-bold text-gray-800 mb-2">
            {t('dashboard.title')}
          </h2>
          <p className="text-gray-600">
            {t('dashboard.subtitle')}
          </p>
        </motion.div>

        <div className="grid lg:grid-cols-3 gap-8">
          {/* Main Content */}
          <div className="lg:col-span-2 space-y-8">
            {/* Quick Actions */}
            <motion.div
              className="bg-white rounded-3xl shadow-lg p-6"
              initial={{ opacity: 0, y: 20 }}
              animate={{ opacity: 1, y: 0 }}
              transition={{ duration: 0.5, delay: 0.1 }}
            >
              <h3 className="text-xl font-bold text-gray-800 mb-4">{t('dashboard.quickActions')}</h3>
              <div className="grid md:grid-cols-2 gap-4">
                <motion.button
                  onClick={() => navigate('/questionnaire/language')}
                  className="flex items-center space-x-3 p-4 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-2xl hover:from-purple-600 hover:to-pink-600 transition-all"
                  whileHover={{ scale: 1.02 }}
                  whileTap={{ scale: 0.98 }}
                >
                  <Plus className="w-6 h-6" />
                  <span className="font-medium">{t('dashboard.newTripPlan')}</span>
                </motion.button>
                
                <motion.button
                  onClick={() => navigate('/esim')}
                  className="flex items-center space-x-3 p-4 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-2xl hover:from-blue-600 hover:to-purple-600 transition-all"
                  whileHover={{ scale: 1.02 }}
                  whileTap={{ scale: 0.98 }}
                >
                  <Smartphone className="w-6 h-6" />
                  <span className="font-medium">{t('dashboard.purchaseEsim')}</span>
                </motion.button>
              </div>
            </motion.div>

            {/* Recent Trips */}
            <motion.div
              className="bg-white rounded-3xl shadow-lg p-6"
              initial={{ opacity: 0, y: 20 }}
              animate={{ opacity: 1, y: 0 }}
              transition={{ duration: 0.5, delay: 0.2 }}
            >
              <div className="flex items-center justify-between mb-6">
                <h3 className="text-xl font-bold text-gray-800">{t('dashboard.yourTrips')}</h3>
                <button className="text-purple-600 hover:text-purple-700 font-medium">
                  {t('dashboard.viewAll')}
                </button>
              </div>

              <div className="space-y-4">
                {displayTrips.map((trip, index) => (
                  <motion.div
                    key={trip.id}
                    className="flex items-center space-x-4 p-4 border border-gray-200 rounded-2xl hover:border-purple-300 hover:bg-purple-50 transition-all"
                    whileHover={{ scale: 1.01 }}
                    initial={{ opacity: 0, x: -20 }}
                    animate={{ opacity: 1, x: 0 }}
                    transition={{ duration: 0.5, delay: 0.1 * index }}
                  >
                    <div
                      className="w-16 h-16 bg-cover bg-center rounded-xl"
                      style={{ backgroundImage: `url(${trip.image})` }}
                    />
                    
                    <div className="flex-1 cursor-pointer" onClick={() => navigate(`/trip/${trip.id}`)}>
                      <div className="flex items-center space-x-2 mb-1">
                        <h4 className="font-semibold text-gray-800">{trip.title}</h4>
                        <span className={`px-2 py-1 rounded-full text-xs font-medium ${getStatusColor(trip.status)}`}>
                          {getStatusText(trip.status)}
                        </span>
                      </div>
                      <div className="flex items-center space-x-4 text-sm text-gray-600">
                        <div className="flex items-center space-x-1">
                          <MapPin className="w-4 h-4" />
                          <span>{trip.destination}</span>
                        </div>
                        <div className="flex items-center space-x-1">
                          <Calendar className="w-4 h-4" />
                          <span>{new Date(trip.startDate).toLocaleDateString('ja-JP')}</span>
                        </div>
                      </div>
                    </div>
                    
                    <div className="flex space-x-2">
                      <Link
                        to={`/trip/${trip.id}`}
                        className="p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors"
                        title="è©³ç´°ã‚’è¦‹ã‚‹"
                      >
                        <Eye className="w-5 h-5" />
                      </Link>
                      <Link
                        to={`/trip/${trip.id}/edit`}
                        className="p-2 text-purple-600 hover:bg-purple-50 rounded-lg transition-colors"
                        title="ç·¨é›†ã™ã‚‹"
                      >
                        <Edit className="w-5 h-5" />
                      </Link>
                    </div>
                  </motion.div>
                ))}
              </div>
            </motion.div>
          </div>

          {/* Sidebar */}
          <div className="space-y-6">
            {/* Stats */}
            <motion.div
              className="bg-white rounded-3xl shadow-lg p-6"
              initial={{ opacity: 0, x: 20 }}
              animate={{ opacity: 1, x: 0 }}
              transition={{ duration: 0.5, delay: 0.3 }}
            >
              <h3 className="text-lg font-bold text-gray-800 mb-4">{t('dashboard.statistics')}</h3>
              <div className="space-y-4">
                <div className="flex items-center justify-between">
                  <span className="text-gray-600">{t('dashboard.totalTrips')}</span>
                  <span className="text-2xl font-bold text-purple-600">2</span>
                </div>
                <div className="flex items-center justify-between">
                  <span className="text-gray-600">{t('dashboard.visitedCities')}</span>
                  <span className="text-2xl font-bold text-blue-600">3</span>
                </div>
                <div className="flex items-center justify-between">
                  <span className="text-gray-600">{t('dashboard.totalDays')}</span>
                  <span className="text-2xl font-bold text-green-600">7</span>
                </div>
              </div>
            </motion.div>

            {/* eSIM Status */}
            <motion.div
              className="bg-gradient-to-br from-blue-50 to-purple-50 rounded-3xl p-6 border border-blue-200"
              initial={{ opacity: 0, x: 20 }}
              animate={{ opacity: 1, x: 0 }}
              transition={{ duration: 0.5, delay: 0.4 }}
            >
              <div className="flex items-center space-x-3 mb-4">
                <Smartphone className="w-6 h-6 text-blue-600" />
                <h3 className="text-lg font-bold text-gray-800">{t('dashboard.esimStatus')}</h3>
              </div>
              <div className="space-y-3">
                <div className="flex justify-between">
                  <span className="text-gray-600">{t('dashboard.dataRemaining')}</span>
                  <span className="font-medium">2.5GB / 5GB</span>
                </div>
                <div className="w-full bg-gray-200 rounded-full h-2">
                  <div className="bg-blue-500 h-2 rounded-full" style={{ width: '50%' }} />
                </div>
                <p className="text-sm text-gray-600">
                  âœ¨ ç„¡æ–™ãƒ—ãƒ©ãƒ³ã§ã¯1æ—¥ç›®ã¨2æ—¥ç›®åˆå‰ä¸­ï¼ˆ12:00ã¾ã§ï¼‰ã®è©³ç´°ã‚’ã”è¦§ã„ãŸã ã‘ã¾ã™
                </p>
              </div>
            </motion.div>

            {/* Support */}
            <motion.div
              className="bg-white rounded-3xl shadow-lg p-6"
              initial={{ opacity: 0, x: 20 }}
              animate={{ opacity: 1, x: 0 }}
              transition={{ duration: 0.5, delay: 0.5 }}
            >
              <h3 className="text-lg font-bold text-gray-800 mb-4">{t('dashboard.support')}</h3>
              <div className="space-y-3">
                <button 
                  onClick={() => navigate('/translate')}
                  className="w-full text-left p-3 hover:bg-gray-50 rounded-xl transition-colors"
                >
                  <div className="flex items-center space-x-3">
                    <Languages className="w-5 h-5 text-blue-600" />
                    <span className="text-gray-700">{t('dashboard.translation')}</span>
                  </div>
                </button>
                <button 
                  onClick={() => navigate('/chat')}
                  className="w-full text-left p-3 hover:bg-gray-50 rounded-xl transition-colors"
                >
                  <div className="flex items-center space-x-3">
                    <MessageCircle className="w-5 h-5 text-green-600" />
                    <span className="text-gray-700">{t('dashboard.aiChat')}</span>
                  </div>
                </button>
                <button 
                  onClick={() => navigate('/translate?mode=camera')}
                  className="w-full text-left p-3 hover:bg-gray-50 rounded-xl transition-colors"
                >
                  <div className="flex items-center space-x-3">
                    <Upload className="w-5 h-5 text-indigo-600" />
                    <span className="text-gray-700">{t('dashboard.photoUploadTranslation') || 'Upload & Translate Photo'}</span>
                  </div>
                </button>
                <button 
                  onClick={() => navigate('/translate?mode=camera')}
                  className="w-full text-left p-3 hover:bg-gray-50 rounded-xl transition-colors"
                >
                  <div className="flex items-center space-x-3">
                    <Camera className="w-5 h-5 text-purple-600" />
                    <span className="text-gray-700">{t('dashboard.photoTranslation')}</span>
                  </div>
                </button>
                <button
                  onClick={() => setShowTranslator(true)}
                  className="w-full text-left p-3 hover:bg-gray-50 rounded-xl transition-colors"
                >
                  <div className="flex items-center space-x-3">
                    <HelpCircle className="w-5 h-5 text-yellow-600" />
                    <span className="text-gray-700">{t('dashboard.helpCenter')}</span>
                  </div>
                </button>
              </div>
            </motion.div>
          </div>
        </div>
      </div>
      
      {/* Photo Translation Modal */}
      <AnimatePresence>
        {showTranslator && (
          <motion.div
            className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"
            initial={{ opacity: 0 }}
            animate={{ opacity: 1 }}
            exit={{ opacity: 0 }}
          >
            <motion.div
              className="bg-white rounded-3xl p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto"
              initial={{ scale: 0.9, opacity: 0 }}
              animate={{ scale: 1, opacity: 1 }}
              exit={{ scale: 0.9, opacity: 0 }}
              transition={{ duration: 0.3 }}
            >
              <div className="flex justify-between items-center mb-4">
                <h2 className="text-2xl font-bold text-gray-800">{t('translation.photoTitle') || 'Photo Translation'}</h2>
                <button
                  onClick={() => {
                    setShowTranslator(false);
                    setImageFile(null);
                    setImagePreview(null);
                    setTranslatedText('');
                  }}
                  className="p-2 text-gray-500 hover:text-gray-700 rounded-full hover:bg-gray-100"
                >
                  <X className="w-5 h-5" />
                </button>
              </div>
              
              <div className="space-y-4">
                {/* Language Selection */}
                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-2">
                    {t('translation.targetLanguage') || 'Translate to:'}
                  </label>
                  <select
                    value={targetLanguage}
                    onChange={(e) => setTargetLanguage(e.target.value)}
                    className="w-full px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent"
                  >
                    {languages.map((lang) => (
                      <option key={lang.code} value={lang.code}>
                        {lang.name}
                      </option>
                    ))}
                  </select>
                </div>
                
                {/* Image Upload */}
                {!imagePreview ? (
                  <div
                    onClick={() => fileInputRef.current?.click()}
                    className="border-2 border-dashed border-gray-300 rounded-xl p-8 text-center cursor-pointer hover:border-purple-300 transition-colors"
                  >
                    <Upload className="w-12 h-12 text-gray-400 mx-auto mb-4" />
                    <p className="text-gray-600 mb-2">{t('translation.dragAndDrop') || 'Drag & drop an image'}</p>
                    <p className="text-sm text-gray-500">{t('translation.orClickToUpload') || 'or click to upload'}</p>
                    <input
                      type="file"
                      ref={fileInputRef}
                      onChange={handleFileUpload}
                      accept="image/*"
                      className="hidden"
                    />
                  </div>
                ) : (
                  <div className="space-y-4">
                    <div className="relative">
                      <img
                        src={imagePreview}
                        alt="Uploaded"
                        className="w-full h-auto rounded-xl border border-gray-300"
                      />
                      <button
                        onClick={() => {
                          setImageFile(null);
                          setImagePreview(null);
                        }}
                        className="absolute top-2 right-2 p-1 bg-white rounded-full shadow-md"
                      >
                        <X className="w-4 h-4 text-gray-600" />
                      </button>
                    </div>
                    
                    <button
                      onClick={handleTranslate}
                      disabled={isTranslating}
                      className="w-full flex items-center justify-center space-x-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white py-3 rounded-xl hover:from-purple-700 hover:to-pink-700 transition-all disabled:opacity-70"
                    >
                      {isTranslating ? (
                        <>
                          <Loader className="w-5 h-5 animate-spin" />
                          <span>{t('translation.translating') || 'Translating...'}</span>
                        </>
                      ) : (
                        <>
                          <Languages className="w-5 h-5" />
                          <span>{t('translation.translate') || 'Translate'}</span>
                        </>
                      )}
                    </button>
                  </div>
                )}
                
                {/* Translation Result */}
                {translatedText && (
                  <div className="mt-4">
                    <h3 className="text-lg font-semibold text-gray-800 mb-2">{t('translation.result') || 'Translation Result'}</h3>
                    <div className="p-4 bg-gray-50 rounded-xl border border-gray-200">
                      <p className="whitespace-pre-wrap">{translatedText}</p>
                    </div>
                  </div>
                )}
              </div>
            </motion.div>
          </motion.div>
        )}
      </AnimatePresence>
    </div>
  );
};

export default Dashboard;
</file>

<file path="src/pages/ErrorPages.tsx">
import React from 'react';
import { motion } from 'framer-motion';
import { AlertTriangle, Home, RefreshCw, ArrowLeft } from 'lucide-react';
import { useNavigate } from 'react-router-dom';

interface ErrorPagesProps {
  type: '404' | '500' | '503';
}

const ErrorPages: React.FC<ErrorPagesProps> = ({ type }) => {
  const navigate = useNavigate();

  const getErrorContent = () => {
    switch (type) {
      case '404':
        return {
          title: 'ãƒšãƒ¼ã‚¸ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“',
          description: 'ãŠæ¢ã—ã®ãƒšãƒ¼ã‚¸ã¯å­˜åœ¨ã—ãªã„ã‹ã€ç§»å‹•ã•ã‚ŒãŸå¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚',
          icon: 'ğŸ”',
          actions: [
            { label: 'ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹', action: () => navigate('/'), icon: Home },
            { label: 'å‰ã®ãƒšãƒ¼ã‚¸ã«æˆ»ã‚‹', action: () => window.history.back(), icon: ArrowLeft }
          ]
        };
      case '500':
        return {
          title: 'ã‚µãƒ¼ãƒãƒ¼ã‚¨ãƒ©ãƒ¼',
          description: 'ã‚µãƒ¼ãƒãƒ¼ã§å•é¡ŒãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚ã—ã°ã‚‰ãã—ã¦ã‹ã‚‰ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„ã€‚',
          icon: 'âš ï¸',
          actions: [
            { label: 'ãƒšãƒ¼ã‚¸ã‚’å†èª­ã¿è¾¼ã¿', action: () => window.location.reload(), icon: RefreshCw },
            { label: 'ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹', action: () => navigate('/'), icon: Home }
          ]
        };
      case '503':
        return {
          title: 'ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ä¸­',
          description: 'ã‚µãƒ¼ãƒ“ã‚¹ã¯ç¾åœ¨ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ä¸­ã§ã™ã€‚ã—ã°ã‚‰ããŠå¾…ã¡ãã ã•ã„ã€‚',
          icon: 'ğŸ”§',
          actions: [
            { label: 'ãƒšãƒ¼ã‚¸ã‚’å†èª­ã¿è¾¼ã¿', action: () => window.location.reload(), icon: RefreshCw },
            { label: 'ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹', action: () => navigate('/'), icon: Home }
          ]
        };
      default:
        return {
          title: 'ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ',
          description: 'äºˆæœŸã—ãªã„ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚',
          icon: 'âŒ',
          actions: [
            { label: 'ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹', action: () => navigate('/'), icon: Home }
          ]
        };
    }
  };

  const errorContent = getErrorContent();

  return (
    <div className="min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 flex items-center justify-center p-6">
      <motion.div
        className="text-center max-w-md mx-auto"
        initial={{ opacity: 0, y: 20 }}
        animate={{ opacity: 1, y: 0 }}
        transition={{ duration: 0.8 }}
      >
        <motion.div
          className="text-8xl mb-6"
          initial={{ scale: 0 }}
          animate={{ scale: 1 }}
          transition={{ duration: 0.5, delay: 0.2 }}
        >
          {errorContent.icon}
        </motion.div>

        <motion.h1
          className="text-4xl font-bold text-gray-800 mb-4"
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ duration: 0.8, delay: 0.3 }}
        >
          {errorContent.title}
        </motion.h1>

        <motion.p
          className="text-lg text-gray-600 mb-8"
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ duration: 0.8, delay: 0.4 }}
        >
          {errorContent.description}
        </motion.p>

        <motion.div
          className="space-y-4"
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ duration: 0.8, delay: 0.5 }}
        >
          {errorContent.actions.map((action, index) => (
            <motion.button
              key={index}
              onClick={action.action}
              className="flex items-center justify-center space-x-2 w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white py-3 px-6 rounded-xl hover:from-purple-700 hover:to-pink-700 transition-all"
              whileHover={{ scale: 1.02 }}
              whileTap={{ scale: 0.98 }}
            >
              <action.icon className="w-5 h-5" />
              <span>{action.label}</span>
            </motion.button>
          ))}
        </motion.div>

        <motion.div
          className="mt-8 text-sm text-gray-500"
          initial={{ opacity: 0 }}
          animate={{ opacity: 1 }}
          transition={{ duration: 0.8, delay: 0.6 }}
        >
          ã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰: {type}
        </motion.div>
      </motion.div>
    </div>
  );
};

export default ErrorPages;
</file>

<file path="src/pages/ESIMManagement.tsx">
import React, { useState, useEffect } from 'react';
import { motion } from 'framer-motion';
import { Smartphone, Wifi, Download, Settings, Plus, CheckCircle, AlertCircle } from 'lucide-react';
import { useLanguage } from '../contexts/LanguageContext'; 
import { apiCall, API_CONFIG, APIError } from '../config/api';
import { handleAWSError, globalErrorHandler } from '../utils/errorHandler';
import MockDataNotice from '../components/MockDataNotice';

interface ESIMPlan {
  id: string;
  name: string;
  dataAmount: string;
  validity: string;
  price: { amount: number; currency: string };
  status: 'active' | 'inactive' | 'expired';
  usage: { used: number; total: number };
  activationDate?: string;
  expiryDate?: string;
}

const ESIMManagement: React.FC = () => {
  const { t } = useLanguage();
  const [esimPlans, setESIMPlans] = useState<ESIMPlan[]>([]);
  const [availablePlans, setAvailablePlans] = useState<any[]>([]);
  const [isLoading, setIsLoading] = useState(true);
  const [showMockNotice, setShowMockNotice] = useState(false);

  useEffect(() => {
    loadESIMData();
  }, []);

  const loadESIMData = async () => {
    try {
      // Load user's eSIM plans
      const userPlans: ESIMPlan[] = [
        {
          id: 'esim_1',
          name: 'Japan 5GB - 30 Days',
          dataAmount: '5GB',
          validity: '30æ—¥',
          price: { amount: 5500, currency: 'JPY' },
          status: 'active',
          usage: { used: 2.3, total: 5 },
          activationDate: '2024-01-15',
          expiryDate: '2024-02-14'
        },
        {
          id: 'esim_2',
          name: 'Japan 1GB - 7 Days',
          dataAmount: '1GB',
          validity: '7æ—¥',
          price: { amount: 1500, currency: 'JPY' },
          status: 'expired',
          usage: { used: 1, total: 1 },
          activationDate: '2024-01-01',
          expiryDate: '2024-01-08'
        }
      ];
      setESIMPlans(userPlans);

      // Load available plans
      try {
        const result = await apiCall('/esim', {
          method: 'GET'
        });
        if (result.success && result.data) {
          // Check if this is mock data
          if (result.isMockData) {
            setShowMockNotice(true);
          }
          setAvailablePlans(result.data);
        } else {
          throw new Error(result.message || 'eSIMãƒ—ãƒ©ãƒ³æƒ…å ±ã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸ');
        }
      } catch (fetchError) {
        const apiError = fetchError as APIError;
        
        globalErrorHandler.handleError(apiError, {
          page: 'ESIMManagement',
          action: 'loadAvailablePlans',
          userAgent: navigator.userAgent,
          url: window.location.href
        });
        
        console.warn('Failed to load available plans from server, using fallback data:', apiError);
        
        // Use fallback data when server is not available
        const fallbackPlans = [
          {
            id: 'plan_1',
            name: 'Japan 3GB - 15 Days',
            description: 'æ—¥æœ¬å…¨å›½ã§ä½¿ãˆã‚‹15æ—¥é–“3GBãƒ—ãƒ©ãƒ³',
            dataAmount: '3GB',
            validity: '15æ—¥',
            price: { amount: 3500, currency: 'JPY' }
          },
          {
            id: 'plan_2',
            name: 'Japan 10GB - 30 Days',
            description: 'æ—¥æœ¬å…¨å›½ã§ä½¿ãˆã‚‹30æ—¥é–“10GBãƒ—ãƒ©ãƒ³',
            dataAmount: '10GB',
            validity: '30æ—¥',
            price: { amount: 8500, currency: 'JPY' }
          }
        ];
        setAvailablePlans(fallbackPlans);
      }
    } catch (error) {
      console.error('Failed to load eSIM data:', error);
    } finally {
      setIsLoading(false);
    }
  };

  const purchaseESIM = async (planId: string) => {
    try {
      const result = await apiCall('/esim', {
        method: 'POST',
        body: JSON.stringify({
          planId,
          customerInfo: {
            email: 'user@example.com',
            name: 'User Name'
          }
        })
      });

      if (result.success) {
        // Show QR code and activation instructions
        alert('eSIMè³¼å…¥ãŒå®Œäº†ã—ã¾ã—ãŸï¼QRã‚³ãƒ¼ãƒ‰ã‚’ã‚¹ã‚­ãƒ£ãƒ³ã—ã¦è¨­å®šã—ã¦ãã ã•ã„ã€‚');
        loadESIMData(); // Refresh data
      } else {
        throw new Error(result.message || 'eSIMè³¼å…¥ã«å¤±æ•—ã—ã¾ã—ãŸ');
      }
    } catch (error) {
      const apiError = error as APIError;
      
      globalErrorHandler.handleError(apiError, {
        page: 'ESIMManagement',
        action: 'purchaseESIM',
        userAgent: navigator.userAgent,
        url: window.location.href
      });
      
      console.error('Failed to purchase eSIM:', apiError);
      
      const errorInfo = handleAWSError(apiError);
      if (apiError.status === 402) {
        alert('æ±ºæ¸ˆã«å¤±æ•—ã—ã¾ã—ãŸã€‚æ”¯æ‰•ã„æ–¹æ³•ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚');
      } else if (apiError.status === 409) {
        alert('é¸æŠã•ã‚ŒãŸãƒ—ãƒ©ãƒ³ã¯åœ¨åº«åˆ‡ã‚Œã§ã™ã€‚ä»–ã®ãƒ—ãƒ©ãƒ³ã‚’ãŠè©¦ã—ãã ã•ã„ã€‚');
      } else {
        alert(errorInfo.message || 'eSIMè³¼å…¥ã«å¤±æ•—ã—ã¾ã—ãŸã€‚ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„ã€‚');
      }
    }
  };

  const getStatusColor = (status: string) => {
    switch (status) {
      case 'active': return 'text-green-600 bg-green-100';
      case 'inactive': return 'text-yellow-600 bg-yellow-100';
      case 'expired': return 'text-red-600 bg-red-100';
      default: return 'text-gray-600 bg-gray-100';
    }
  };

  const getStatusIcon = (status: string) => {
    switch (status) {
      case 'active': return <CheckCircle className="w-4 h-4" />;
      case 'inactive': return <AlertCircle className="w-4 h-4" />;
      case 'expired': return <AlertCircle className="w-4 h-4" />;
      default: return <AlertCircle className="w-4 h-4" />;
    }
  };

  if (isLoading) {
    return (
      <div className="min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 pt-20 flex items-center justify-center">
        <div className="text-center">
          <div className="w-16 h-16 border-4 border-purple-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"></div>
          <p className="text-gray-600">eSIMæƒ…å ±ã‚’èª­ã¿è¾¼ã¿ä¸­...</p>
        </div>
      </div>
    );
  }

  return (
    <div className="min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 pt-20">
      <div className="max-w-6xl mx-auto px-6 py-8">
        {/* Header */}
        <motion.div
          className="text-center mb-8"
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ duration: 0.8 }} 
        >
          <h1 className="text-4xl font-bold text-gray-800 mb-4">{t('esim.title')}</h1>
          <p className="text-lg text-gray-600">{t('esim.subtitle')}</p>
        </motion.div>
        
        {/* Mock Data Notice */}
        {showMockNotice && (
          <MockDataNotice 
            onRetry={() => setShowMockNotice(false)}
            className="max-w-6xl mx-auto mb-4"
          />
        )}

        <div className="grid lg:grid-cols-3 gap-8">
          {/* Current eSIM Plans */}
          <div className="lg:col-span-2 space-y-6">
            <h2 className="text-2xl font-bold text-gray-800">{t('esim.currentPlans')}</h2> 
            
            {esimPlans.map((plan, index) => (
              <motion.div
                key={plan.id}
                className="bg-white rounded-3xl shadow-lg p-6"
                initial={{ opacity: 0, y: 20 }}
                animate={{ opacity: 1, y: 0 }}
                transition={{ duration: 0.5, delay: index * 0.1 }}
              >
                <div className="flex items-start justify-between mb-4">
                  <div className="flex items-center space-x-3">
                    <div className="w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center">
                      <Smartphone className="w-6 h-6 text-white" />
                    </div>
                    <div>
                      <h3 className="text-xl font-bold text-gray-800">{plan.name}</h3>
                      <p className="text-gray-600">{plan.dataAmount} â€¢ {plan.validity}</p>
                    </div>
                  </div>
                  
                  <div className={`flex items-center space-x-1 px-3 py-1 rounded-full text-sm font-medium ${getStatusColor(plan.status)}`}>
                    {getStatusIcon(plan.status)}
                    <span>{plan.status === 'active' ? t('esim.active') : plan.status === 'expired' ? t('esim.expired') : t('esim.inactive')}</span>
                  </div>
                </div>

                {plan.status === 'active' && (
                  <div className="mb-4">
                    <div className="flex justify-between text-sm text-gray-600 mb-2">
                      <span>{t('esim.dataUsage')}</span>
                      <span>{plan.usage.used}GB / {plan.usage.total}GB</span>
                    </div>
                    <div className="w-full bg-gray-200 rounded-full h-2">
                      <div 
                        className="bg-gradient-to-r from-blue-500 to-purple-600 h-2 rounded-full transition-all"
                        style={{ width: `${(plan.usage.used / plan.usage.total) * 100}%` }}
                      />
                    </div>
                  </div>
                )}

                <div className="grid md:grid-cols-2 gap-4 text-sm text-gray-600">
                  <div>
                    <span className="font-medium">{t('esim.activationDate')}:</span>
                    <br />
                    {plan.activationDate ? new Date(plan.activationDate).toLocaleDateString('ja-JP') : '-'}
                  </div>
                  <div>
                    <span className="font-medium">{t('esim.expiryDate')}:</span>
                    <br />
                    {plan.expiryDate ? new Date(plan.expiryDate).toLocaleDateString('ja-JP') : '-'}
                  </div>
                </div>

                <div className="mt-4 flex space-x-3">
                  <button className="flex items-center space-x-2 px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors">
                    <Settings className="w-4 h-4" /> 
                    <span>{t('esim.settings')}</span>
                  </button>
                  <button className="flex items-center space-x-2 px-4 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors">
                    <Download className="w-4 h-4" />
                    <span>{t('esim.qrCode')}</span>
                  </button>
                </div>
              </motion.div>
            ))}
          </div>

          {/* Available Plans */}
          <div className="space-y-6">
            <h2 className="text-2xl font-bold text-gray-800">{t('esim.availablePlans')}</h2>
            
            {availablePlans.map((plan, index) => (
              <motion.div
                key={plan.id}
                className="bg-white rounded-2xl shadow-lg p-6"
                initial={{ opacity: 0, x: 20 }}
                animate={{ opacity: 1, x: 0 }}
                transition={{ duration: 0.5, delay: index * 0.1 }}
              >
                <h3 className="text-lg font-bold text-gray-800 mb-2">{plan.name}</h3>
                <p className="text-gray-600 text-sm mb-4">{plan.description}</p>
                
                <div className="space-y-2 text-sm text-gray-600 mb-4">
                  <div className="flex justify-between">
                    <span>{t('esim.dataCapacity')}:</span>
                    <span className="font-medium">{plan.dataAmount}</span>
                  </div>
                  <div className="flex justify-between">
                    <span>{t('esim.validityPeriod')}:</span>
                    <span className="font-medium">{plan.validity}</span>
                  </div>
                  <div className="flex justify-between">
                    <span>{t('esim.coverageArea')}:</span>
                    <span className="font-medium">{t('esim.japanNationwide')}</span>
                  </div>
                </div>

                <div className="text-2xl font-bold text-purple-600 mb-4">
                  Â¥{plan.price.amount.toLocaleString()}
                </div>

                <button
                  onClick={() => purchaseESIM(plan.id)}
                  className="w-full flex items-center justify-center space-x-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white py-3 rounded-xl font-medium hover:from-purple-700 hover:to-pink-700 transition-all"
                >
                  <Plus className="w-4 h-4" />
                  <span>{t('esim.purchase')}</span>
                </button>
              </motion.div>
            ))}
          </div>
        </div>
      </div>
    </div>
  );
};

export default ESIMManagement;
</file>

<file path="src/pages/HelpFAQ.tsx">
import React, { useState } from 'react';
import { motion, AnimatePresence } from 'framer-motion';
import { Search, ChevronDown, MessageCircle, Mail, Phone, Book } from 'lucide-react';
import { useLanguage } from '../contexts/LanguageContext'; 

interface FAQItem {
  id: string;
  question: string;
  answer: string;
  category: string;
}

const HelpFAQ: React.FC = () => {
  const { t } = useLanguage();
  const [searchQuery, setSearchQuery] = useState('');
  const [selectedCategory, setSelectedCategory] = useState('all');
  const [expandedItems, setExpandedItems] = useState<string[]>([]);

  const categories = [
    { key: 'all', label: t('help.allCategories') },
    { key: 'account', label: t('help.account') },
    { key: 'booking', label: t('help.booking') },
    { key: 'payment', label: t('help.payment') },
    { key: 'esim', label: t('help.esim') },
    { key: 'travel', label: t('help.travel') },
    { key: 'technical', label: t('help.technical') }
  ];

  const faqItems: FAQItem[] = [
    {
      id: 'faq_1',
      question: t('help.faq1.question') || 'ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½œæˆã™ã‚‹ã«ã¯ã©ã†ã™ã‚Œã°ã‚ˆã„ã§ã™ã‹ï¼Ÿ',
      answer: t('help.faq1.answer') || 'ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ã®ã€Œæ–°è¦ç™»éŒ²ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã€ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã¨ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚Googleã‚„Appleã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ã‚‚ç™»éŒ²ã§ãã¾ã™ã€‚',
      category: 'account'
    },
    {
      id: 'faq_2',
      question: t('help.faq2.question') || 'ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å¿˜ã‚ŒãŸå ´åˆã¯ã©ã†ã™ã‚Œã°ã‚ˆã„ã§ã™ã‹ï¼Ÿ',
      answer: t('help.faq2.answer') || 'ãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ã®ã€Œãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å¿˜ã‚ŒãŸæ–¹ã€ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã€ç™»éŒ²ã—ãŸãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒªã‚»ãƒƒãƒˆç”¨ã®ãƒªãƒ³ã‚¯ã‚’ãŠé€ã‚Šã—ã¾ã™ã€‚',
      category: 'account'
    },
    {
      id: 'faq_3',
      question: t('help.faq3.question') || 'ãƒ›ãƒ†ãƒ«ã®äºˆç´„ã‚’ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã§ãã¾ã™ã‹ï¼Ÿ',
      answer: t('help.faq3.answer') || 'ã¯ã„ã€äºˆç´„ç®¡ç†ãƒšãƒ¼ã‚¸ã‹ã‚‰ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã§ãã¾ã™ã€‚ãŸã ã—ã€ã‚­ãƒ£ãƒ³ã‚»ãƒ«æ–™é‡‘ã‚„æœŸé™ã¯ãƒ›ãƒ†ãƒ«ã«ã‚ˆã£ã¦ç•°ãªã‚Šã¾ã™ã®ã§ã€äºˆç´„è©³ç´°ã‚’ã”ç¢ºèªãã ã•ã„ã€‚',
      category: 'booking'
    },
    {
      id: 'faq_4',
      question: t('help.faq4.question') || 'æ”¯æ‰•ã„æ–¹æ³•ã¯ä½•ãŒåˆ©ç”¨ã§ãã¾ã™ã‹ï¼Ÿ',
      answer: t('help.faq4.answer') || 'ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰ï¼ˆVisaã€Mastercardã€JCBã€American Expressï¼‰ã€PayPalã€Apple Payã€Google PayãŒã”åˆ©ç”¨ã„ãŸã ã‘ã¾ã™ã€‚',
      category: 'payment'
    },
    {
      id: 'faq_5',
      question: t('help.faq5.question') || 'eSIMã¯ã©ã®ãƒ‡ãƒã‚¤ã‚¹ã§ä½¿ç”¨ã§ãã¾ã™ã‹ï¼Ÿ',
      answer: t('help.faq5.answer') || 'iPhone XSä»¥é™ã€Google Pixel 3ä»¥é™ã€Samsung Galaxy S20ä»¥é™ãªã©ã€eSIMå¯¾å¿œãƒ‡ãƒã‚¤ã‚¹ã§ã”åˆ©ç”¨ã„ãŸã ã‘ã¾ã™ã€‚è©³ç´°ãªå¯¾å¿œæ©Ÿç¨®ãƒªã‚¹ãƒˆã¯eSIMç®¡ç†ãƒšãƒ¼ã‚¸ã§ã”ç¢ºèªãã ã•ã„ã€‚',
      category: 'esim'
    },
    {
      id: 'faq_6',
      question: t('help.faq6.question') || 'eSIMã®è¨­å®šæ–¹æ³•ã‚’æ•™ãˆã¦ãã ã•ã„',
      answer: t('help.faq6.answer') || 'è³¼å…¥å¾Œã«QRã‚³ãƒ¼ãƒ‰ãŒç™ºè¡Œã•ã‚Œã¾ã™ã€‚è¨­å®šâ†’ãƒ¢ãƒã‚¤ãƒ«é€šä¿¡â†’ãƒ¢ãƒã‚¤ãƒ«é€šä¿¡ãƒ—ãƒ©ãƒ³ã‚’è¿½åŠ â†’QRã‚³ãƒ¼ãƒ‰ã‚’ã‚¹ã‚­ãƒ£ãƒ³ã®é †ã§è¨­å®šã—ã¦ãã ã•ã„ã€‚è©³ç´°ãªæ‰‹é †æ›¸ã‚‚ãŠé€ã‚Šã—ã¾ã™ã€‚',
      category: 'esim'
    },
    {
      id: 'faq_7',
      question: t('help.faq7.question') || 'AIãŒç”Ÿæˆã—ãŸæ—…ç¨‹ã‚’å¤‰æ›´ã§ãã¾ã™ã‹ï¼Ÿ',
      answer: t('help.faq7.answer') || 'ã¯ã„ã€æœ‰æ–™ãƒ—ãƒ©ãƒ³ã§ã¯æ—…ç¨‹ã®ç·¨é›†ãƒ»ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºãŒå¯èƒ½ã§ã™ã€‚ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ã®è¿½åŠ ãƒ»å‰Šé™¤ã€æ™‚é–“ã®å¤‰æ›´ã€æ–°ã—ã„ã‚¹ãƒãƒƒãƒˆã®ææ¡ˆãªã©ãŒã§ãã¾ã™ã€‚',
      category: 'travel'
    },
    {
      id: 'faq_8',
      question: t('help.faq8.question') || 'ã‚¢ãƒ—ãƒªãŒæ­£å¸¸ã«å‹•ä½œã—ãªã„å ´åˆã¯ã©ã†ã™ã‚Œã°ã‚ˆã„ã§ã™ã‹ï¼Ÿ',
      answer: t('help.faq8.answer') || 'ã¾ãšã‚¢ãƒ—ãƒªã‚’å†èµ·å‹•ã—ã¦ãã ã•ã„ã€‚ãã‚Œã§ã‚‚è§£æ±ºã—ãªã„å ´åˆã¯ã€ã‚¢ãƒ—ãƒªã‚’æœ€æ–°ç‰ˆã«æ›´æ–°ã™ã‚‹ã‹ã€ãƒ‡ãƒã‚¤ã‚¹ã‚’å†èµ·å‹•ã—ã¦ãã ã•ã„ã€‚å•é¡ŒãŒç¶šãå ´åˆã¯ã‚µãƒãƒ¼ãƒˆã«ãŠå•ã„åˆã‚ã›ãã ã•ã„ã€‚',
      category: 'technical'
    },
    {
      id: 'faq_9',
      question: t('help.faq9.question') || 'è¿”é‡‘ã¯ã§ãã¾ã™ã‹ï¼Ÿ',
      answer: t('help.faq9.answer') || 'ã‚µãƒ¼ãƒ“ã‚¹é–‹å§‹ã‹ã‚‰7æ—¥ä»¥å†…ã§ã‚ã‚Œã°ã€æœªä½¿ç”¨åˆ†ã«ã¤ã„ã¦è¿”é‡‘ãŒå¯èƒ½ã§ã™ã€‚è©³ç´°ã¯åˆ©ç”¨è¦ç´„ã‚’ã”ç¢ºèªã„ãŸã ãã‹ã€ã‚µãƒãƒ¼ãƒˆã¾ã§ãŠå•ã„åˆã‚ã›ãã ã•ã„ã€‚',
      category: 'payment'
    },
    {
      id: 'faq_10',
      question: t('help.faq10.question') || 'æ—…è¡Œä¸­ã«ã‚µãƒãƒ¼ãƒˆã‚’å—ã‘ã‚‹ã“ã¨ã¯ã§ãã¾ã™ã‹ï¼Ÿ',
      answer: t('help.faq10.answer') || 'ã¯ã„ã€24æ™‚é–“AIã‚³ãƒ³ã‚·ã‚§ãƒ«ã‚¸ãƒ¥ãŒã”åˆ©ç”¨ã„ãŸã ã‘ã¾ã™ã€‚ç·Šæ€¥æ™‚ã«ã¯å°‚ç”¨ã‚µãƒãƒ¼ãƒˆãƒ©ã‚¤ãƒ³ã‚‚ã”åˆ©ç”¨ãã ã•ã„ã€‚ãƒãƒ£ãƒƒãƒˆæ©Ÿèƒ½ã§å³åº§ã«ã‚µãƒãƒ¼ãƒˆã‚’å—ã‘ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚',
      category: 'travel'
    }
  ];

  const filteredFAQs = faqItems.filter(item => {
    const matchesSearch = item.question.toLowerCase().includes(searchQuery.toLowerCase()) ||
                         item.answer.toLowerCase().includes(searchQuery.toLowerCase());
    const matchesCategory = selectedCategory === 'all' || item.category === selectedCategory;
    return matchesSearch && matchesCategory;
  });

  const toggleExpanded = (itemId: string) => {
    setExpandedItems(prev =>
      prev.includes(itemId)
        ? prev.filter(id => id !== itemId)
        : [...prev, itemId]
    );
  };

  return (
    <div className="min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 pt-20">
      <div className="max-w-4xl mx-auto px-6 py-8">
        {/* Header */}
        <motion.div
          className="text-center mb-8"
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ duration: 0.8 }}
        >
          <h1 className="text-4xl font-bold text-gray-800 mb-4">{t('help.title')}</h1>
          <p className="text-lg text-gray-600">{t('help.subtitle')}</p>
        </motion.div>

        {/* Search and Filter */}
        <motion.div
          className="bg-white rounded-3xl shadow-lg p-6 mb-8"
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ duration: 0.5, delay: 0.1 }}
        >
          <div className="flex flex-col md:flex-row gap-4">
            <div className="flex-1 relative">
              <Search className="absolute left-3 top-3 w-5 h-5 text-gray-400" />
              <input
                type="text"
                value={searchQuery}
                onChange={(e) => setSearchQuery(e.target.value)}
                placeholder={t('help.searchPlaceholder')}
                className="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent"
              />
            </div>
            <select
              value={selectedCategory}
              onChange={(e) => setSelectedCategory(e.target.value)}
              className="px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent"
            >
              {categories.map((category) => (
                <option key={category.key} value={category.key}>
                  {category.key === 'all' ? t('help.allCategories') : 
                   category.key === 'account' ? t('help.account') :
                   category.key === 'booking' ? t('help.booking') :
                   category.key === 'payment' ? t('help.payment') :
                   category.key === 'esim' ? t('help.esim') :
                   category.key === 'travel' ? t('help.travel') :
                   category.key === 'technical' ? t('help.technical') : category.label}
                </option>
              ))}
            </select>
          </div>
        </motion.div>

        {/* FAQ Items */}
        <div className="space-y-4 mb-8">
          {filteredFAQs.map((item, index) => (
            <motion.div
              key={item.id}
              className="bg-white rounded-2xl shadow-lg overflow-hidden"
              initial={{ opacity: 0, y: 20 }}
              animate={{ opacity: 1, y: 0 }}
              transition={{ duration: 0.5, delay: index * 0.1 }}
            >
              <button
                onClick={() => toggleExpanded(item.id)}
                className="w-full p-6 text-left hover:bg-gray-50 transition-colors"
              >
                <div className="flex items-center justify-between">
                  <h3 className="text-lg font-semibold text-gray-800 pr-4">
                    {item.question}
                  </h3>
                  <ChevronDown
                    className={`w-5 h-5 text-gray-500 transition-transform ${
                      expandedItems.includes(item.id) ? 'rotate-180' : ''
                    }`}
                  />
                </div>
              </button>
              
              <AnimatePresence>
                {expandedItems.includes(item.id) && (
                  <motion.div
                    initial={{ height: 0, opacity: 0 }}
                    animate={{ height: 'auto', opacity: 1 }}
                    exit={{ height: 0, opacity: 0 }}
                    transition={{ duration: 0.3 }}
                  >
                    <div className="px-6 pb-6">
                      <div className="border-t border-gray-200 pt-4">
                        <p className="text-gray-700 leading-relaxed">{item.answer}</p>
                      </div>
                    </div>
                  </motion.div>
                )}
              </AnimatePresence>
            </motion.div>
          ))}
        </div>

        {filteredFAQs.length === 0 && (
          <motion.div
            className="text-center py-12"
            initial={{ opacity: 0 }}
            animate={{ opacity: 1 }}
            transition={{ duration: 0.5 }}
          >
            <div className="text-6xl mb-4">ğŸ”</div>
            <h3 className="text-xl font-semibold text-gray-800 mb-2">{t('help.noResults')}</h3>
            <p className="text-gray-600">{t('help.noResultsDescription')}</p>
          </motion.div>
        )}

        {/* Contact Support */}
        <motion.div
          className="bg-white rounded-3xl shadow-lg p-8"
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ duration: 0.5, delay: 0.3 }}
        >
          <h2 className="text-2xl font-bold text-gray-800 mb-6 text-center">
            {t('help.contactSupport')}
          </h2>
          
          <div className="grid md:grid-cols-3 gap-6">
            <motion.div
              className="text-center p-6 border border-gray-200 rounded-2xl hover:border-purple-300 hover:bg-purple-50 transition-all cursor-pointer"
              whileHover={{ scale: 1.02 }}
              whileTap={{ scale: 0.98 }}
              onClick={() => window.open('/chat', '_blank')}
            >
              <div className="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4">
                <MessageCircle className="w-8 h-8 text-blue-600" />
              </div>
              <h3 className="font-semibold text-gray-800 mb-2">{t('help.chatSupport')}</h3>
              <p className="text-sm text-gray-600 mb-4">{t('help.chatSupportDescription')}</p>
              <span className="text-blue-600 hover:text-blue-700 font-medium">
                {t('help.startChat')}
              </span>
            </motion.div>

            <motion.div
              className="text-center p-6 border border-gray-200 rounded-2xl hover:border-purple-300 hover:bg-purple-50 transition-all cursor-pointer"
              whileHover={{ scale: 1.02 }}
              whileTap={{ scale: 0.98 }}
              onClick={() => window.location.href = 'mailto:support@trippin.com'}
            >
              <div className="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                <Mail className="w-8 h-8 text-green-600" />
              </div>
              <h3 className="font-semibold text-gray-800 mb-2">{t('help.emailSupport')}</h3>
              <p className="text-sm text-gray-600 mb-4">{t('help.emailSupportDescription')}</p>
              <span className="text-green-600 hover:text-green-700 font-medium">
                {t('help.sendEmail')}
              </span>
            </motion.div>

            <motion.div
              className="text-center p-6 border border-gray-200 rounded-2xl hover:border-purple-300 hover:bg-purple-50 transition-all cursor-pointer"
              whileHover={{ scale: 1.02 }}
              whileTap={{ scale: 0.98 }}
              onClick={() => window.location.href = 'tel:+81-3-1234-5678'}
            >
              <div className="w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4">
                <Phone className="w-8 h-8 text-purple-600" />
              </div>
              <h3 className="font-semibold text-gray-800 mb-2">{t('help.phoneSupport')}</h3>
              <p className="text-sm text-gray-600 mb-4">{t('help.phoneSupportDescription')}</p>
              <span className="text-purple-600 hover:text-purple-700 font-medium">
                {t('help.makeCall')}
              </span>
            </motion.div>
          </div>
        </motion.div>

        {/* User Guide */}
        <motion.div
          className="mt-8 bg-gradient-to-br from-purple-50 to-pink-50 rounded-3xl p-8 border border-purple-200"
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ duration: 0.5, delay: 0.4 }}
        >
          <div className="flex items-center space-x-4 mb-4">
            <div className="w-12 h-12 bg-purple-500 rounded-full flex items-center justify-center">
              <Book className="w-6 h-6 text-white" />
            </div>
            <div>
              <h3 className="text-xl font-bold text-gray-800">{t('help.userGuide')}</h3>
              <p className="text-gray-600">{t('help.userGuideDescription')}</p>
            </div>
          </div>
          
          <div className="grid md:grid-cols-2 gap-4">
            <button className="text-left p-4 bg-white rounded-xl hover:bg-purple-50 transition-colors">
              <h4 className="font-medium text-gray-800 mb-1">{t('help.gettingStarted')}</h4>
              <p className="text-sm text-gray-600">{t('help.gettingStartedDescription')}</p>
            </button>
            <button className="text-left p-4 bg-white rounded-xl hover:bg-purple-50 transition-colors">
              <h4 className="font-medium text-gray-800 mb-1">{t('help.esimSetupGuide')}</h4>
              <p className="text-sm text-gray-600">{t('help.esimSetupDescription')}</p>
            </button>
            <button className="text-left p-4 bg-white rounded-xl hover:bg-purple-50 transition-colors">
              <h4 className="font-medium text-gray-800 mb-1">{t('help.customizeItinerary')}</h4>
              <p className="text-sm text-gray-600">{t('help.customizeDescription')}</p>
            </button>
            <button className="text-left p-4 bg-white rounded-xl hover:bg-purple-50 transition-colors">
              <h4 className="font-medium text-gray-800 mb-1">{t('help.troubleshooting')}</h4>
              <p className="text-sm text-gray-600">{t('help.troubleshootingDescription')}</p>
            </button>
          </div>
        </motion.div>
      </div>
    </div>
  );
};

export default HelpFAQ;
</file>

<file path="src/pages/LegalPages.tsx">
import React from 'react';
import { useTranslation } from 'react-i18next';
import { motion } from 'framer-motion';
import { FileText, Shield, Cookie, ArrowLeft } from 'lucide-react';
import { Link } from 'react-router-dom';

const LegalPages: React.FC = () => {
  const { t } = useTranslation();

  const legalSections = [
    {
      id: 'terms',
      title: t('legal.terms.title', 'åˆ©ç”¨è¦ç´„'),
      description: t('legal.terms.description', 'ã‚µãƒ¼ãƒ“ã‚¹ã®åˆ©ç”¨æ¡ä»¶ã«ã¤ã„ã¦'),
      icon: FileText,
      path: '/legal/terms'
    },
    {
      id: 'privacy',
      title: t('legal.privacy.title', 'ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼'),
      description: t('legal.privacy.description', 'å€‹äººæƒ…å ±ã®å–ã‚Šæ‰±ã„ã«ã¤ã„ã¦'),
      icon: Shield,
      path: '/legal/privacy'
    },
    {
      id: 'cookies',
      title: t('legal.cookies.title', 'ã‚¯ãƒƒã‚­ãƒ¼ãƒãƒªã‚·ãƒ¼'),
      description: t('legal.cookies.description', 'ã‚¯ãƒƒã‚­ãƒ¼ã®ä½¿ç”¨ã«ã¤ã„ã¦'),
      icon: Cookie,
      path: '/legal/cookies'
    }
  ];

  return (
    <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-12">
      <div className="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
        {/* Header */}
        <motion.div
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          className="text-center mb-12"
        >
          <h1 className="text-4xl font-bold text-gray-900 mb-4">
            {t('legal.title')}
          </h1>
          <p className="text-xl text-gray-600">
            {t('legal.subtitle')}
          </p>
        </motion.div>

        {/* Legal Sections */}
        <div className="grid md:grid-cols-3 gap-8 mb-12">
          {legalSections.map((section, index) => (
            <motion.div
              key={section.id}
              initial={{ opacity: 0, y: 20 }}
              animate={{ opacity: 1, y: 0 }}
              transition={{ delay: index * 0.1 }}
              className="bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow"
            >
              <div className="flex items-center mb-4">
                <section.icon className="w-8 h-8 text-blue-600 mr-3" />
                <h3 className="text-xl font-semibold text-gray-900">
                  {section.title}
                </h3>
              </div>
              <p className="text-gray-600 mb-6">
                {section.description}
              </p>
              <Link
                to={section.path}
                className="inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"
              >
                {t('legal.readMore')}
              </Link>
            </motion.div>
          ))}
        </div>

        {/* Back to Home */}
        <motion.div
          initial={{ opacity: 0 }}
          animate={{ opacity: 1 }}
          transition={{ delay: 0.4 }}
          className="text-center"
        >
          <Link
            to="/"
            className="inline-flex items-center px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors"
          >
            <ArrowLeft className="w-5 h-5 mr-2" />
            {t('common.backToHome')}
          </Link>
        </motion.div>
      </div>
    </div>
  );
};

export default LegalPages;
</file>

<file path="src/pages/LocaleSettings.tsx">
import React, { useState } from 'react';
import { motion } from 'framer-motion';
import { Globe, DollarSign, Clock, MapPin, Save } from 'lucide-react';
import { useLanguage } from '../contexts/LanguageContext';

const LocaleSettings: React.FC = () => {
  const { currentLanguage, changeLanguage, t } = useLanguage();
  const [settings, setSettings] = useState({
    language: currentLanguage,
    currency: 'JPY',
    timezone: 'Asia/Tokyo',
    region: 'JP',
    dateFormat: 'YYYY/MM/DD',
    timeFormat: '24h',
    numberFormat: 'comma'
  });

  const languages = [
    { code: 'ja', name: 'æ—¥æœ¬èª', flag: 'ğŸ‡¯ğŸ‡µ' },
    { code: 'en', name: 'English', flag: 'ğŸ‡ºğŸ‡¸' },
    { code: 'zh', name: 'ä¸­æ–‡', flag: 'ğŸ‡¨ğŸ‡³' },
    { code: 'ko', name: 'í•œêµ­ì–´', flag: 'ğŸ‡°ğŸ‡·' },
    { code: 'es', name: 'EspaÃ±ol', flag: 'ğŸ‡ªğŸ‡¸' },
    { code: 'fr', name: 'FranÃ§ais', flag: 'ğŸ‡«ğŸ‡·' },
    { code: 'hi', name: 'à¤¹à¤¿à¤¨à¥à¤¦à¥€', flag: 'ğŸ‡®ğŸ‡³' },
    { code: 'ru', name: 'Ğ ÑƒÑÑĞºĞ¸Ğ¹', flag: 'ğŸ‡·ğŸ‡º' },
    { code: 'ar', name: 'Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©', flag: 'ğŸ‡¸ğŸ‡¦' },
    { code: 'id', name: 'Bahasa Indonesia', flag: 'ğŸ‡®ğŸ‡©' },
    { code: 'pt', name: 'PortuguÃªs', flag: 'ğŸ‡µğŸ‡¹' },
    { code: 'th', name: 'à¹„à¸—à¸¢', flag: 'ğŸ‡¹ğŸ‡­' },
    { code: 'vi', name: 'Tiáº¿ng Viá»‡t', flag: 'ğŸ‡»ğŸ‡³' },
    { code: 'it', name: 'Italiano', flag: 'ğŸ‡®ğŸ‡¹' }
  ];

  const currencies = [
    { code: 'JPY', name: 'æ—¥æœ¬å††', symbol: 'Â¥' },
    { code: 'USD', name: 'ç±³ãƒ‰ãƒ«', symbol: '$' },
    { code: 'EUR', name: 'ãƒ¦ãƒ¼ãƒ­', symbol: 'â‚¬' },
    { code: 'GBP', name: 'è‹±ãƒãƒ³ãƒ‰', symbol: 'Â£' },
    { code: 'CNY', name: 'ä¸­å›½å…ƒ', symbol: 'Â¥' },
    { code: 'KRW', name: 'éŸ“å›½ã‚¦ã‚©ãƒ³', symbol: 'â‚©' },
    { code: 'THB', name: 'ã‚¿ã‚¤ãƒãƒ¼ãƒ„', symbol: 'à¸¿' },
    { code: 'SGD', name: 'ã‚·ãƒ³ã‚¬ãƒãƒ¼ãƒ«ãƒ‰ãƒ«', symbol: 'S$' }
  ];

  const timezones = [
    { code: 'Asia/Tokyo', name: 'æ—¥æœ¬æ¨™æº–æ™‚ (JST)', offset: '+09:00' },
    { code: 'America/New_York', name: 'æ±éƒ¨æ¨™æº–æ™‚ (EST)', offset: '-05:00' },
    { code: 'America/Los_Angeles', name: 'å¤ªå¹³æ´‹æ¨™æº–æ™‚ (PST)', offset: '-08:00' },
    { code: 'Europe/London', name: 'ã‚°ãƒªãƒ‹ãƒƒã‚¸æ¨™æº–æ™‚ (GMT)', offset: '+00:00' },
    { code: 'Asia/Shanghai', name: 'ä¸­å›½æ¨™æº–æ™‚ (CST)', offset: '+08:00' },
    { code: 'Asia/Seoul', name: 'éŸ“å›½æ¨™æº–æ™‚ (KST)', offset: '+09:00' },
    { code: 'Asia/Bangkok', name: 'ã‚¤ãƒ³ãƒ‰ã‚·ãƒŠæ™‚é–“ (ICT)', offset: '+07:00' },
    { code: 'Asia/Singapore', name: 'ã‚·ãƒ³ã‚¬ãƒãƒ¼ãƒ«æ¨™æº–æ™‚ (SGT)', offset: '+08:00' }
  ];

  const regions = [
    { code: 'JP', name: 'æ—¥æœ¬', flag: 'ğŸ‡¯ğŸ‡µ' },
    { code: 'US', name: 'ã‚¢ãƒ¡ãƒªã‚«', flag: 'ğŸ‡ºğŸ‡¸' },
    { code: 'CN', name: 'ä¸­å›½', flag: 'ğŸ‡¨ğŸ‡³' },
    { code: 'KR', name: 'éŸ“å›½', flag: 'ğŸ‡°ğŸ‡·' },
    { code: 'GB', name: 'ã‚¤ã‚®ãƒªã‚¹', flag: 'ğŸ‡¬ğŸ‡§' },
    { code: 'FR', name: 'ãƒ•ãƒ©ãƒ³ã‚¹', flag: 'ğŸ‡«ğŸ‡·' },
    { code: 'DE', name: 'ãƒ‰ã‚¤ãƒ„', flag: 'ğŸ‡©ğŸ‡ª' },
    { code: 'TH', name: 'ã‚¿ã‚¤', flag: 'ğŸ‡¹ğŸ‡­' }
  ];

  const handleSave = () => {
    changeLanguage(settings.language);
    // Save other settings to localStorage or API
    localStorage.setItem('trippin-locale-settings', JSON.stringify(settings));
  };

  const updateSetting = (key: string, value: string) => {
    setSettings({ ...settings, [key]: value });
  };

  const getPreviewText = () => {
    const now = new Date();
    const price = 25000;
    
    return {
      date: settings.dateFormat === 'YYYY/MM/DD' 
        ? now.toLocaleDateString('ja-JP') 
        : now.toLocaleDateString('en-US'),
      time: settings.timeFormat === '24h' 
        ? now.toLocaleTimeString('ja-JP', { hour12: false })
        : now.toLocaleTimeString('en-US', { hour12: true }),
      price: settings.numberFormat === 'comma' 
        ? `${currencies.find(c => c.code === settings.currency)?.symbol}${price.toLocaleString()}`
        : `${currencies.find(c => c.code === settings.currency)?.symbol}${price}`
    };
  };

  const preview = getPreviewText();

  return (
    <div className="min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 pt-20">
      <div className="max-w-4xl mx-auto px-6 py-8">
        {/* Header */}
        <motion.div
          className="text-center mb-8"
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ duration: 0.8 }}
        >
          <h1 className="text-4xl font-bold text-gray-800 mb-4">è¨€èªãƒ»åœ°åŸŸè¨­å®š</h1>
          <p className="text-lg text-gray-600">ã‚ãªãŸã®åœ°åŸŸã«åˆã‚ã›ã¦è¡¨ç¤ºã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º</p>
        </motion.div>

        <div className="grid lg:grid-cols-3 gap-8">
          {/* Settings */}
          <div className="lg:col-span-2 space-y-6">
            {/* Language Settings */}
            <motion.div
              className="bg-white rounded-3xl shadow-lg p-6"
              initial={{ opacity: 0, y: 20 }}
              animate={{ opacity: 1, y: 0 }}
              transition={{ duration: 0.5, delay: 0.1 }}
            >
              <div className="flex items-center space-x-3 mb-6">
                <div className="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center">
                  <Globe className="w-6 h-6 text-blue-600" />
                </div>
                <div>
                  <h2 className="text-xl font-bold text-gray-800">è¨€èªè¨­å®š</h2>
                  <p className="text-gray-600">è¡¨ç¤ºè¨€èªã‚’é¸æŠ</p>
                </div>
              </div>

              <div className="grid md:grid-cols-2 gap-4">
                {languages.map((lang) => (
                  <label
                    key={lang.code}
                    className={`flex items-center space-x-3 p-4 border rounded-xl cursor-pointer transition-all ${
                      settings.language === lang.code
                        ? 'border-purple-500 bg-purple-50'
                        : 'border-gray-200 hover:border-purple-300'
                    }`}
                  >
                    <input
                      type="radio"
                      name="language"
                      value={lang.code}
                      checked={settings.language === lang.code}
                      onChange={(e) => updateSetting('language', e.target.value)}
                      className="text-purple-600"
                    />
                    <span className="text-xl">{lang.flag}</span>
                    <span className="font-medium">{lang.name}</span>
                  </label>
                ))}
              </div>
            </motion.div>

            {/* Currency Settings */}
            <motion.div
              className="bg-white rounded-3xl shadow-lg p-6"
              initial={{ opacity: 0, y: 20 }}
              animate={{ opacity: 1, y: 0 }}
              transition={{ duration: 0.5, delay: 0.2 }}
            >
              <div className="flex items-center space-x-3 mb-6">
                <div className="w-12 h-12 bg-green-100 rounded-full flex items-center justify-center">
                  <DollarSign className="w-6 h-6 text-green-600" />
                </div>
                <div>
                  <h2 className="text-xl font-bold text-gray-800">é€šè²¨è¨­å®š</h2>
                  <p className="text-gray-600">ä¾¡æ ¼è¡¨ç¤ºã®é€šè²¨ã‚’é¸æŠ</p>
                </div>
              </div>

              <select
                value={settings.currency}
                onChange={(e) => updateSetting('currency', e.target.value)}
                className="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent"
              >
                {currencies.map((currency) => (
                  <option key={currency.code} value={currency.code}>
                    {currency.symbol} {currency.name} ({currency.code})
                  </option>
                ))}
              </select>
            </motion.div>

            {/* Time Settings */}
            <motion.div
              className="bg-white rounded-3xl shadow-lg p-6"
              initial={{ opacity: 0, y: 20 }}
              animate={{ opacity: 1, y: 0 }}
              transition={{ duration: 0.5, delay: 0.3 }}
            >
              <div className="flex items-center space-x-3 mb-6">
                <div className="w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center">
                  <Clock className="w-6 h-6 text-purple-600" />
                </div>
                <div>
                  <h2 className="text-xl font-bold text-gray-800">æ™‚é–“è¨­å®š</h2>
                  <p className="text-gray-600">ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ã¨æ™‚é–“å½¢å¼</p>
                </div>
              </div>

              <div className="space-y-4">
                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-2">ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³</label>
                  <select
                    value={settings.timezone}
                    onChange={(e) => updateSetting('timezone', e.target.value)}
                    className="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent"
                  >
                    {timezones.map((tz) => (
                      <option key={tz.code} value={tz.code}>
                        {tz.name} ({tz.offset})
                      </option>
                    ))}
                  </select>
                </div>

                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-2">æ™‚é–“å½¢å¼</label>
                  <div className="flex space-x-4">
                    <label className="flex items-center space-x-2">
                      <input
                        type="radio"
                        name="timeFormat"
                        value="24h"
                        checked={settings.timeFormat === '24h'}
                        onChange={(e) => updateSetting('timeFormat', e.target.value)}
                        className="text-purple-600"
                      />
                      <span>24æ™‚é–“å½¢å¼</span>
                    </label>
                    <label className="flex items-center space-x-2">
                      <input
                        type="radio"
                        name="timeFormat"
                        value="12h"
                        checked={settings.timeFormat === '12h'}
                        onChange={(e) => updateSetting('timeFormat', e.target.value)}
                        className="text-purple-600"
                      />
                      <span>12æ™‚é–“å½¢å¼</span>
                    </label>
                  </div>
                </div>
              </div>
            </motion.div>

            {/* Region Settings */}
            <motion.div
              className="bg-white rounded-3xl shadow-lg p-6"
              initial={{ opacity: 0, y: 20 }}
              animate={{ opacity: 1, y: 0 }}
              transition={{ duration: 0.5, delay: 0.4 }}
            >
              <div className="flex items-center space-x-3 mb-6">
                <div className="w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center">
                  <MapPin className="w-6 h-6 text-orange-600" />
                </div>
                <div>
                  <h2 className="text-xl font-bold text-gray-800">åœ°åŸŸè¨­å®š</h2>
                  <p className="text-gray-600">åœ°åŸŸå›ºæœ‰ã®è¨­å®š</p>
                </div>
              </div>

              <div className="space-y-4">
                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-2">åœ°åŸŸ</label>
                  <select
                    value={settings.region}
                    onChange={(e) => updateSetting('region', e.target.value)}
                    className="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent"
                  >
                    {regions.map((region) => (
                      <option key={region.code} value={region.code}>
                        {region.flag} {region.name}
                      </option>
                    ))}
                  </select>
                </div>

                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-2">æ—¥ä»˜å½¢å¼</label>
                  <div className="flex space-x-4">
                    <label className="flex items-center space-x-2">
                      <input
                        type="radio"
                        name="dateFormat"
                        value="YYYY/MM/DD"
                        checked={settings.dateFormat === 'YYYY/MM/DD'}
                        onChange={(e) => updateSetting('dateFormat', e.target.value)}
                        className="text-purple-600"
                      />
                      <span>YYYY/MM/DD</span>
                    </label>
                    <label className="flex items-center space-x-2">
                      <input
                        type="radio"
                        name="dateFormat"
                        value="MM/DD/YYYY"
                        checked={settings.dateFormat === 'MM/DD/YYYY'}
                        onChange={(e) => updateSetting('dateFormat', e.target.value)}
                        className="text-purple-600"
                      />
                      <span>MM/DD/YYYY</span>
                    </label>
                  </div>
                </div>

                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-2">æ•°å€¤å½¢å¼</label>
                  <div className="flex space-x-4">
                    <label className="flex items-center space-x-2">
                      <input
                        type="radio"
                        name="numberFormat"
                        value="comma"
                        checked={settings.numberFormat === 'comma'}
                        onChange={(e) => updateSetting('numberFormat', e.target.value)}
                        className="text-purple-600"
                      />
                      <span>ã‚«ãƒ³ãƒåŒºåˆ‡ã‚Š (1,000)</span>
                    </label>
                    <label className="flex items-center space-x-2">
                      <input
                        type="radio"
                        name="numberFormat"
                        value="space"
                        checked={settings.numberFormat === 'space'}
                        onChange={(e) => updateSetting('numberFormat', e.target.value)}
                        className="text-purple-600"
                      />
                      <span>ã‚¹ãƒšãƒ¼ã‚¹åŒºåˆ‡ã‚Š (1 000)</span>
                    </label>
                  </div>
                </div>
              </div>
            </motion.div>
          </div>

          {/* Preview */}
          <div className="space-y-6">
            <motion.div
              className="bg-white rounded-3xl shadow-lg p-6"
              initial={{ opacity: 0, x: 20 }}
              animate={{ opacity: 1, x: 0 }}
              transition={{ duration: 0.5, delay: 0.5 }}
            >
              <h3 className="text-xl font-bold text-gray-800 mb-4">ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼</h3>
              
              <div className="space-y-4 text-sm">
                <div>
                  <span className="font-medium text-gray-700">è¨€èª:</span>
                  <br />
                  <span className="text-gray-600">
                    {languages.find(l => l.code === settings.language)?.name}
                  </span>
                </div>

                <div>
                  <span className="font-medium text-gray-700">æ—¥ä»˜:</span>
                  <br />
                  <span className="text-gray-600">{preview.date}</span>
                </div>

                <div>
                  <span className="font-medium text-gray-700">æ™‚åˆ»:</span>
                  <br />
                  <span className="text-gray-600">{preview.time}</span>
                </div>

                <div>
                  <span className="font-medium text-gray-700">ä¾¡æ ¼:</span>
                  <br />
                  <span className="text-gray-600">{preview.price}</span>
                </div>

                <div>
                  <span className="font-medium text-gray-700">ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³:</span>
                  <br />
                  <span className="text-gray-600">
                    {timezones.find(tz => tz.code === settings.timezone)?.name}
                  </span>
                </div>
              </div>
            </motion.div>

            <motion.button
              onClick={handleSave}
              className="w-full flex items-center justify-center space-x-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white py-3 rounded-xl hover:from-purple-700 hover:to-pink-700 transition-all"
              initial={{ opacity: 0, x: 20 }}
              animate={{ opacity: 1, x: 0 }}
              transition={{ duration: 0.5, delay: 0.6 }}
            >
              <Save className="w-5 h-5" />
              <span>è¨­å®šã‚’ä¿å­˜</span>
            </motion.button>
          </div>
        </div>
      </div>
    </div>
  );
};

export default LocaleSettings;
</file>

<file path="src/pages/MapNavigation.tsx">
import React, { useState, useEffect } from 'react';
import { motion } from 'framer-motion';
import { MapPin, Navigation, Search, Star, Clock, Phone, Globe } from 'lucide-react';
import { useLanguage } from '../contexts/LanguageContext';
import { apiCall, API_CONFIG, buildApiUrl, APIError } from '../config/api';
import { handleAWSError, globalErrorHandler } from '../utils/errorHandler';
import MockDataNotice from '../components/MockDataNotice';

const MapNavigation: React.FC = () => {
  const { t, currentLanguage } = useLanguage();
  const [searchQuery, setSearchQuery] = useState('');
  const [currentLocation, setCurrentLocation] = useState<{ lat: number; lng: number } | null>(null);
  const [nearbyPlaces, setNearbyPlaces] = useState<any[]>([]);
  const [selectedPlace, setSelectedPlace] = useState<any>(null);
  const [isLoading, setIsLoading] = useState(false);
  const [showMockNotice, setShowMockNotice] = useState(false);

  // Multilingual content
  const getLocalizedContent = () => {
    switch (currentLanguage) {
      case 'en':
        return {
          title: 'Map & Navigation',
          subtitle: 'Explore tourist spots around your location',
          searchPlaceholder: 'Search for places...',
          searchButton: 'Search',
          nearbySpots: 'Nearby Spots',
          loading: 'Loading...',
          startNavigation: 'Start Navigation',
          detailInfo: 'Detail Info',
          interactiveMap: 'Interactive Map',
          mapDescription: 'Google Maps API will be integrated',
          currentLocation: 'Current Location'
        };
      case 'zh':
        return {
          title: 'åœ°å›¾å¯¼èˆª',
          subtitle: 'æ¢ç´¢æ‚¨å‘¨å›´çš„æ—…æ¸¸æ™¯ç‚¹',
          searchPlaceholder: 'æœç´¢åœ°ç‚¹...',
          searchButton: 'æœç´¢',
          nearbySpots: 'é™„è¿‘æ™¯ç‚¹',
          loading: 'åŠ è½½ä¸­...',
          startNavigation: 'å¼€å§‹å¯¼èˆª',
          detailInfo: 'è¯¦ç»†ä¿¡æ¯',
          interactiveMap: 'äº¤äº’å¼åœ°å›¾',
          mapDescription: 'å°†é›†æˆGoogle Maps API',
          currentLocation: 'å½“å‰ä½ç½®'
        };
      case 'ko':
        return {
          title: 'ì§€ë„ ë‚´ë¹„ê²Œì´ì…˜',
          subtitle: 'í˜„ì¬ ìœ„ì¹˜ ì£¼ë³€ì˜ ê´€ê´‘ ëª…ì†Œ íƒìƒ‰',
          searchPlaceholder: 'ì¥ì†Œ ê²€ìƒ‰...',
          searchButton: 'ê²€ìƒ‰',
          nearbySpots: 'ì£¼ë³€ ëª…ì†Œ',
          loading: 'ë¡œë”© ì¤‘...',
          startNavigation: 'ë‚´ë¹„ê²Œì´ì…˜ ì‹œì‘',
          detailInfo: 'ìƒì„¸ ì •ë³´',
          interactiveMap: 'ì¸í„°ë™í‹°ë¸Œ ì§€ë„',
          mapDescription: 'Google Maps APIê°€ í†µí•©ë©ë‹ˆë‹¤',
          currentLocation: 'í˜„ì¬ ìœ„ì¹˜'
        };
      case 'es':
        return {
          title: 'Mapa y NavegaciÃ³n',
          subtitle: 'Explora lugares turÃ­sticos alrededor de tu ubicaciÃ³n',
          searchPlaceholder: 'Buscar lugares...',
          searchButton: 'Buscar',
          nearbySpots: 'Lugares Cercanos',
          loading: 'Cargando...',
          startNavigation: 'Iniciar NavegaciÃ³n',
          detailInfo: 'InformaciÃ³n Detallada',
          interactiveMap: 'Mapa Interactivo',
          mapDescription: 'Se integrarÃ¡ la API de Google Maps',
          currentLocation: 'UbicaciÃ³n Actual'
        };
      case 'fr':
        return {
          title: 'Carte et Navigation',
          subtitle: 'Explorez les sites touristiques autour de votre position',
          searchPlaceholder: 'Rechercher des lieux...',
          searchButton: 'Rechercher',
          nearbySpots: 'Lieux Proches',
          loading: 'Chargement...',
          startNavigation: 'DÃ©marrer la Navigation',
          detailInfo: 'Informations DÃ©taillÃ©es',
          interactiveMap: 'Carte Interactive',
          mapDescription: 'L\'API Google Maps sera intÃ©grÃ©e',
          currentLocation: 'Position Actuelle'
        };
      case 'hi':
        return {
          title: 'à¤®à¥ˆà¤ª à¤”à¤° à¤¨à¥‡à¤µà¥€à¤—à¥‡à¤¶à¤¨',
          subtitle: 'à¤…à¤ªà¤¨à¥‡ à¤¸à¥à¤¥à¤¾à¤¨ à¤•à¥‡ à¤†à¤¸à¤ªà¤¾à¤¸ à¤ªà¤°à¥à¤¯à¤Ÿà¤¨ à¤¸à¥à¤¥à¤²à¥‹à¤‚ à¤•à¤¾ à¤…à¤¨à¥à¤µà¥‡à¤·à¤£ à¤•à¤°à¥‡à¤‚',
          searchPlaceholder: 'à¤¸à¥à¤¥à¤¾à¤¨ à¤–à¥‹à¤œà¥‡à¤‚...',
          searchButton: 'à¤–à¥‹à¤œà¥‡à¤‚',
          nearbySpots: 'à¤†à¤¸à¤ªà¤¾à¤¸ à¤•à¥‡ à¤¸à¥à¤¥à¤¾à¤¨',
          loading: 'à¤²à¥‹à¤¡ à¤¹à¥‹ à¤°à¤¹à¤¾ à¤¹à¥ˆ...',
          startNavigation: 'à¤¨à¥‡à¤µà¥€à¤—à¥‡à¤¶à¤¨ à¤¶à¥à¤°à¥‚ à¤•à¤°à¥‡à¤‚',
          detailInfo: 'à¤µà¤¿à¤¸à¥à¤¤à¥ƒà¤¤ à¤œà¤¾à¤¨à¤•à¤¾à¤°à¥€',
          interactiveMap: 'à¤‡à¤‚à¤Ÿà¤°à¥ˆà¤•à¥à¤Ÿà¤¿à¤µ à¤®à¥ˆà¤ª',
          mapDescription: 'Google Maps API à¤à¤•à¥€à¤•à¥ƒà¤¤ à¤•à¤¿à¤¯à¤¾ à¤œà¤¾à¤à¤—à¤¾',
          currentLocation: 'à¤µà¤°à¥à¤¤à¤®à¤¾à¤¨ à¤¸à¥à¤¥à¤¾à¤¨'
        };
      case 'ru':
        return {
          title: 'ĞšĞ°Ñ€Ñ‚Ğ° Ğ¸ ĞĞ°Ğ²Ğ¸Ğ³Ğ°Ñ†Ğ¸Ñ',
          subtitle: 'Ğ˜ÑÑĞ»ĞµĞ´ÑƒĞ¹Ñ‚Ğµ Ñ‚ÑƒÑ€Ğ¸ÑÑ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ğ¼ĞµÑÑ‚Ğ° Ğ²Ğ¾ĞºÑ€ÑƒĞ³ Ğ²Ğ°ÑˆĞµĞ³Ğ¾ Ğ¼ĞµÑÑ‚Ğ¾Ğ¿Ğ¾Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ',
          searchPlaceholder: 'ĞŸĞ¾Ğ¸ÑĞº Ğ¼ĞµÑÑ‚...',
          searchButton: 'ĞŸĞ¾Ğ¸ÑĞº',
          nearbySpots: 'Ğ‘Ğ»Ğ¸Ğ¶Ğ°Ğ¹ÑˆĞ¸Ğµ ĞœĞµÑÑ‚Ğ°',
          loading: 'Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ°...',
          startNavigation: 'ĞĞ°Ñ‡Ğ°Ñ‚ÑŒ ĞĞ°Ğ²Ğ¸Ğ³Ğ°Ñ†Ğ¸Ñ',
          detailInfo: 'ĞŸĞ¾Ğ´Ñ€Ğ¾Ğ±Ğ½Ğ°Ñ Ğ˜Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ',
          interactiveMap: 'Ğ˜Ğ½Ñ‚ĞµÑ€Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ°Ñ ĞšĞ°Ñ€Ñ‚Ğ°',
          mapDescription: 'Ğ‘ÑƒĞ´ĞµÑ‚ Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½ Google Maps API',
          currentLocation: 'Ğ¢ĞµĞºÑƒÑ‰ĞµĞµ ĞœĞµÑÑ‚Ğ¾Ğ¿Ğ¾Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ'
        };
      case 'ar':
        return {
          title: 'Ø§Ù„Ø®Ø±ÙŠØ·Ø© ÙˆØ§Ù„Ù…Ù„Ø§Ø­Ø©',
          subtitle: 'Ø§Ø³ØªÙƒØ´Ù Ø§Ù„Ù…Ø¹Ø§Ù„Ù… Ø§Ù„Ø³ÙŠØ§Ø­ÙŠØ© Ø­ÙˆÙ„ Ù…ÙˆÙ‚Ø¹Ùƒ',
          searchPlaceholder: 'Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø£Ù…Ø§ÙƒÙ†...',
          searchButton: 'Ø¨Ø­Ø«',
          nearbySpots: 'Ø§Ù„Ø£Ù…Ø§ÙƒÙ† Ø§Ù„Ù‚Ø±ÙŠØ¨Ø©',
          loading: 'Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...',
          startNavigation: 'Ø¨Ø¯Ø¡ Ø§Ù„Ù…Ù„Ø§Ø­Ø©',
          detailInfo: 'Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ù…ÙØµÙ„Ø©',
          interactiveMap: 'Ø®Ø±ÙŠØ·Ø© ØªÙØ§Ø¹Ù„ÙŠØ©',
          mapDescription: 'Ø³ÙŠØªÙ… Ø¯Ù…Ø¬ Google Maps API',
          currentLocation: 'Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø­Ø§Ù„ÙŠ'
        };
      case 'id':
        return {
          title: 'Peta dan Navigasi',
          subtitle: 'Jelajahi tempat wisata di sekitar lokasi Anda',
          searchPlaceholder: 'Cari tempat...',
          searchButton: 'Cari',
          nearbySpots: 'Tempat Terdekat',
          loading: 'Memuat...',
          startNavigation: 'Mulai Navigasi',
          detailInfo: 'Info Detail',
          interactiveMap: 'Peta Interaktif',
          mapDescription: 'Google Maps API akan diintegrasikan',
          currentLocation: 'Lokasi Saat Ini'
        };
      case 'pt':
        return {
          title: 'Mapa e NavegaÃ§Ã£o',
          subtitle: 'Explore pontos turÃ­sticos ao redor da sua localizaÃ§Ã£o',
          searchPlaceholder: 'Buscar lugares...',
          searchButton: 'Buscar',
          nearbySpots: 'Locais PrÃ³ximos',
          loading: 'Carregando...',
          startNavigation: 'Iniciar NavegaÃ§Ã£o',
          detailInfo: 'InformaÃ§Ãµes Detalhadas',
          interactiveMap: 'Mapa Interativo',
          mapDescription: 'A API do Google Maps serÃ¡ integrada',
          currentLocation: 'LocalizaÃ§Ã£o Atual'
        };
      case 'th':
        return {
          title: 'à¹à¸œà¸™à¸—à¸µà¹ˆà¹à¸¥à¸°à¸à¸²à¸£à¸™à¸³à¸—à¸²à¸‡',
          subtitle: 'à¸ªà¸³à¸£à¸§à¸ˆà¸ªà¸–à¸²à¸™à¸—à¸µà¹ˆà¸—à¹ˆà¸­à¸‡à¹€à¸—à¸µà¹ˆà¸¢à¸§à¸£à¸­à¸šà¸•à¸³à¹à¸«à¸™à¹ˆà¸‡à¸‚à¸­à¸‡à¸„à¸¸à¸“',
          searchPlaceholder: 'à¸„à¹‰à¸™à¸«à¸²à¸ªà¸–à¸²à¸™à¸—à¸µà¹ˆ...',
          searchButton: 'à¸„à¹‰à¸™à¸«à¸²',
          nearbySpots: 'à¸ªà¸–à¸²à¸™à¸—à¸µà¹ˆà¹ƒà¸à¸¥à¹‰à¹€à¸„à¸µà¸¢à¸‡',
          loading: 'à¸à¸³à¸¥à¸±à¸‡à¹‚à¸«à¸¥à¸”...',
          startNavigation: 'à¹€à¸£à¸´à¹ˆà¸¡à¸à¸²à¸£à¸™à¸³à¸—à¸²à¸‡',
          detailInfo: 'à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸£à¸²à¸¢à¸¥à¸°à¹€à¸­à¸µà¸¢à¸”',
          interactiveMap: 'à¹à¸œà¸™à¸—à¸µà¹ˆà¹à¸šà¸šà¹‚à¸•à¹‰à¸•à¸­à¸š',
          mapDescription: 'à¸ˆà¸°à¸£à¸§à¸¡ Google Maps API',
          currentLocation: 'à¸•à¸³à¹à¸«à¸™à¹ˆà¸‡à¸›à¸±à¸ˆà¸ˆà¸¸à¸šà¸±à¸™'
        };
      case 'vi':
        return {
          title: 'Báº£n Äá»“ vÃ  Äiá»u HÆ°á»›ng',
          subtitle: 'KhÃ¡m phÃ¡ cÃ¡c Ä‘iá»ƒm du lá»‹ch xung quanh vá»‹ trÃ­ cá»§a báº¡n',
          searchPlaceholder: 'TÃ¬m kiáº¿m Ä‘á»‹a Ä‘iá»ƒm...',
          searchButton: 'TÃ¬m kiáº¿m',
          nearbySpots: 'Äá»‹a Äiá»ƒm Gáº§n ÄÃ¢y',
          loading: 'Äang táº£i...',
          startNavigation: 'Báº¯t Äáº§u Äiá»u HÆ°á»›ng',
          detailInfo: 'ThÃ´ng Tin Chi Tiáº¿t',
          interactiveMap: 'Báº£n Äá»“ TÆ°Æ¡ng TÃ¡c',
          mapDescription: 'Google Maps API sáº½ Ä‘Æ°á»£c tÃ­ch há»£p',
          currentLocation: 'Vá»‹ TrÃ­ Hiá»‡n Táº¡i'
        };
      case 'it':
        return {
          title: 'Mappa e Navigazione',
          subtitle: 'Esplora i luoghi turistici intorno alla tua posizione',
          searchPlaceholder: 'Cerca luoghi...',
          searchButton: 'Cerca',
          nearbySpots: 'Luoghi Vicini',
          loading: 'Caricamento...',
          startNavigation: 'Inizia Navigazione',
          detailInfo: 'Informazioni Dettagliate',
          interactiveMap: 'Mappa Interattiva',
          mapDescription: 'L\'API di Google Maps sarÃ  integrata',
          currentLocation: 'Posizione Attuale'
        };
      default: // Japanese
        return {
          title: 'åœ°å›³ãƒ»ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³',
          subtitle: 'ç¾åœ¨åœ°å‘¨è¾ºã®è¦³å…‰ã‚¹ãƒãƒƒãƒˆã‚’æ¢ç´¢',
          searchPlaceholder: 'å ´æ‰€ã‚’æ¤œç´¢...',
          searchButton: 'æ¤œç´¢',
          nearbySpots: 'å‘¨è¾ºã‚¹ãƒãƒƒãƒˆ',
          loading: 'èª­ã¿è¾¼ã¿ä¸­...',
          startNavigation: 'ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³é–‹å§‹',
          detailInfo: 'è©³ç´°æƒ…å ±',
          interactiveMap: 'ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãƒãƒƒãƒ—',
          mapDescription: 'Google Maps APIãŒçµ±åˆã•ã‚Œã¾ã™',
          currentLocation: 'ç¾åœ¨åœ°'
        };
    }
  };

  const content = getLocalizedContent();

  useEffect(() => {
    getCurrentLocation();
    loadNearbyPlaces();
  }, []);

  const getCurrentLocation = () => {
    if (navigator.geolocation) {
      navigator.geolocation.getCurrentPosition(
        (position) => {
          setCurrentLocation({
            lat: position.coords.latitude,
            lng: position.coords.longitude
          });
        },
        (error) => {
          console.error('Geolocation error:', error);
          // Default to Tokyo
          setCurrentLocation({ lat: 35.6762, lng: 139.6503 });
        }
      );
    } else {
      // Default to Tokyo
      setCurrentLocation({ lat: 35.6762, lng: 139.6503 });
    }
  };

  const loadNearbyPlaces = async () => {
    setIsLoading(true);
    try {
      // Try to fetch from Google Places API
      try {
        const result = await apiCall('/google-maps', {
          method: 'POST',
          body: JSON.stringify({
            location: currentLocation ? `${currentLocation.lat},${currentLocation.lng}` : '35.6762,139.6503',
            radius: '5000',
            type: 'tourist_attraction'
          })
        });
        
        if (result.success && result.data) {
          setNearbyPlaces(result.data);
          return;
        }
      } catch (apiError) {
        console.warn('Failed to fetch from Google Places API, using fallback data:', apiError);
      }
      
      // Mock nearby places data
      const mockPlaces = [
        {
          id: '1',
          name: 'æµ…è‰å¯º',
          nameEn: 'Senso-ji Temple',
          category: 'temple',
          rating: 4.8,
          distance: '0.5km',
          address: 'æ±äº¬éƒ½å°æ±åŒºæµ…è‰2-3-1',
          phone: '03-3842-0181',
          hours: '6:00-17:00',
          description: 'æ±äº¬æœ€å¤ã®å¯ºé™¢',
          image: 'https://images.pexels.com/photos/161251/senso-ji-temple-asakusa-tokyo-japan-161251.jpeg'
        },
        {
          id: '2',
          name: 'æ±äº¬ã‚¹ã‚«ã‚¤ãƒ„ãƒªãƒ¼',
          nameEn: 'Tokyo Skytree',
          category: 'landmark',
          rating: 4.7,
          distance: '1.2km',
          address: 'æ±äº¬éƒ½å¢¨ç”°åŒºæŠ¼ä¸Š1-1-2',
          phone: '0570-55-0634',
          hours: '8:00-22:00',
          description: 'ä¸–ç•Œä¸€é«˜ã„é›»æ³¢å¡”',
          image: 'https://images.pexels.com/photos/2070033/pexels-photo-2070033.jpeg'
        },
        {
          id: '3',
          name: 'ç¯‰åœ°å ´å¤–å¸‚å ´',
          nameEn: 'Tsukiji Outer Market',
          category: 'market',
          rating: 4.6,
          distance: '2.1km',
          address: 'æ±äº¬éƒ½ä¸­å¤®åŒºç¯‰åœ°4-16-2',
          phone: '03-3541-9444',
          hours: '5:00-14:00',
          description: 'æ–°é®®ãªæµ·é®®ã¨ã‚°ãƒ«ãƒ¡ã®å¸‚å ´',
          image: 'https://images.pexels.com/photos/2506923/pexels-photo-2506923.jpeg'
        }
      ];
      
      setNearbyPlaces(mockPlaces);
    } catch (error) {
      console.error('Failed to load nearby places:', error);
    } finally {
      setIsLoading(false);
    }
  };

  const searchPlaces = async () => {
    if (!searchQuery.trim()) return;
    
    setIsLoading(true);
    try {
      // Try to search using Google Places API
      try {
        const result = await apiCall('/google-maps', {
          method: 'POST',
          body: JSON.stringify({
            query: searchQuery,
            location: currentLocation ? `${currentLocation.lat},${currentLocation.lng}` : '35.6762,139.6503'
          })
        });
        
        if (result.success && result.data) {
          setNearbyPlaces(result.data);
          return;
        }
      } catch (apiError) {
        console.warn('Search API failed, using fallback:', apiError);
      }
      
      // Mock search results
      const searchResults = nearbyPlaces.filter(place => 
        place.name.includes(searchQuery) || 
        place.nameEn.toLowerCase().includes(searchQuery.toLowerCase())
      );
      setNearbyPlaces(searchResults);
    } catch (error) {
      console.error('Search failed:', error);
    } finally {
      setIsLoading(false);
    }
  };

  const getCategoryIcon = (category: string) => {
    switch (category) {
      case 'temple': return 'â›©ï¸';
      case 'landmark': return 'ğŸ—¼';
      case 'market': return 'ğŸª';
      case 'restaurant': return 'ğŸœ';
      case 'shopping': return 'ğŸ›ï¸';
      default: return 'ğŸ“';
    }
  };

  const getCategoryColor = (category: string) => {
    switch (category) {
      case 'temple': return 'text-red-600 bg-red-100';
      case 'landmark': return 'text-blue-600 bg-blue-100';
      case 'market': return 'text-green-600 bg-green-100';
      case 'restaurant': return 'text-orange-600 bg-orange-100';
      case 'shopping': return 'text-purple-600 bg-purple-100';
      default: return 'text-gray-600 bg-gray-100';
    }
  };

  return (
    <div className="min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 pt-20">
      <div className="max-w-6xl mx-auto px-6 py-8">
        {/* Header */}
        <motion.div
          className="text-center mb-8"
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ duration: 0.8 }}
        >
          <h1 className="text-4xl font-bold text-gray-800 mb-4">{content.title}</h1>
          <p className="text-lg text-gray-600">{content.subtitle}</p>
        </motion.div>
        
        {/* Mock Data Notice */}
        {showMockNotice && (
          <MockDataNotice 
            onRetry={() => setShowMockNotice(false)}
            className="max-w-6xl mx-auto mb-4"
          />
        )}

        <div className="grid lg:grid-cols-3 gap-8">
          {/* Map Area */}
          <div className="lg:col-span-2">
            {/* Search Bar */}
            <motion.div
              className="bg-white rounded-2xl shadow-lg p-4 mb-6"
              initial={{ opacity: 0, y: 20 }}
              animate={{ opacity: 1, y: 0 }}
              transition={{ duration: 0.5, delay: 0.1 }}
            >
              <div className="flex space-x-3">
                <div className="flex-1 relative">
                  <Search className="absolute left-3 top-3 w-5 h-5 text-gray-400" />
                  <input
                    type="text"
                    value={searchQuery}
                    onChange={(e) => setSearchQuery(e.target.value)}
                    onKeyPress={(e) => e.key === 'Enter' && searchPlaces()}
                    placeholder={content.searchPlaceholder}
                    className="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent"
                  />
                </div>
                <button
                  onClick={searchPlaces}
                  className="px-6 py-3 bg-purple-600 text-white rounded-xl hover:bg-purple-700 transition-colors"
                >
                  {content.searchButton}
                </button>
              </div>
            </motion.div>

            {/* Map Placeholder */}
            <motion.div
              className="bg-white rounded-3xl shadow-lg overflow-hidden"
              initial={{ opacity: 0, y: 20 }}
              animate={{ opacity: 1, y: 0 }}
              transition={{ duration: 0.5, delay: 0.2 }}
            >
              <div className="h-96 bg-gradient-to-br from-blue-100 to-purple-100 flex items-center justify-center relative">
                <div className="text-center">
                  <MapPin className="w-16 h-16 text-purple-600 mx-auto mb-4" />
                  <h3 className="text-xl font-semibold text-gray-800 mb-2">{content.interactiveMap}</h3>
                  <p className="text-gray-600">{content.mapDescription}</p>
                </div>
                
                {/* Current Location Indicator */}
                {currentLocation && (
                  <div className="absolute top-4 left-4 bg-white rounded-lg p-3 shadow-lg">
                    <div className="flex items-center space-x-2">
                      <Navigation className="w-5 h-5 text-blue-600" />
                      <span className="text-sm font-medium">{content.currentLocation}</span>
                    </div>
                    <div className="text-xs text-gray-500 mt-1">
                      {currentLocation.lat.toFixed(4)}, {currentLocation.lng.toFixed(4)}
                    </div>
                  </div>
                )}
              </div>
            </motion.div>
          </div>

          {/* Places List */}
          <div className="space-y-6">
            <motion.div
              className="bg-white rounded-3xl shadow-lg p-6"
              initial={{ opacity: 0, x: 20 }}
              animate={{ opacity: 1, x: 0 }}
              transition={{ duration: 0.5, delay: 0.3 }}
            >
              <h2 className="text-xl font-bold text-gray-800 mb-4">{content.nearbySpots}</h2>
              
              {isLoading ? (
                <div className="text-center py-8">
                  <div className="w-8 h-8 border-2 border-purple-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"></div>
                  <p className="text-gray-600">{content.loading}</p>
                </div>
              ) : (
                <div className="space-y-4">
                  {nearbyPlaces.map((place, index) => (
                    <motion.div
                      key={place.id}
                      className={`p-4 border rounded-xl cursor-pointer transition-all ${
                        selectedPlace?.id === place.id
                          ? 'border-purple-500 bg-purple-50'
                          : 'border-gray-200 hover:border-purple-300 hover:bg-purple-50'
                      }`}
                      onClick={() => setSelectedPlace(place)}
                      initial={{ opacity: 0, y: 20 }}
                      animate={{ opacity: 1, y: 0 }}
                      transition={{ duration: 0.3, delay: index * 0.1 }}
                    >
                      <div className="flex items-start space-x-3">
                        <div className="text-2xl">{getCategoryIcon(place.category)}</div>
                        <div className="flex-1">
                          <h3 className="font-semibold text-gray-800">{place.name}</h3>
                          <p className="text-sm text-gray-600">{place.nameEn}</p>
                          <div className="flex items-center space-x-2 mt-2">
                            <div className="flex items-center space-x-1">
                              <Star className="w-4 h-4 text-yellow-500" />
                              <span className="text-sm">{place.rating}</span>
                            </div>
                            <span className="text-sm text-gray-500">â€¢</span>
                            <span className="text-sm text-gray-500">{place.distance}</span>
                          </div>
                        </div>
                      </div>
                    </motion.div>
                  ))}
                </div>
              )}
            </motion.div>

            {/* Selected Place Details */}
            {selectedPlace && (
              <motion.div
                className="bg-white rounded-3xl shadow-lg p-6"
                initial={{ opacity: 0, x: 20 }}
                animate={{ opacity: 1, x: 0 }}
                transition={{ duration: 0.5 }}
              >
                <div className="mb-4">
                  <div
                    className="h-32 bg-cover bg-center rounded-xl mb-4"
                    style={{ backgroundImage: `url(${selectedPlace.image})` }}
                  />
                  <h3 className="text-xl font-bold text-gray-800 mb-2">{selectedPlace.name}</h3>
                  <p className="text-gray-600 mb-4">{selectedPlace.description}</p>
                </div>

                <div className="space-y-3 text-sm">
                  <div className="flex items-center space-x-2">
                    <MapPin className="w-4 h-4 text-gray-500" />
                    <span>{selectedPlace.address}</span>
                  </div>
                  <div className="flex items-center space-x-2">
                    <Phone className="w-4 h-4 text-gray-500" />
                    <span>{selectedPlace.phone}</span>
                  </div>
                  <div className="flex items-center space-x-2">
                    <Clock className="w-4 h-4 text-gray-500" />
                    <span>{selectedPlace.hours}</span>
                  </div>
                </div>

                <div className="mt-6 space-y-3">
                  <button className="w-full bg-purple-600 text-white py-3 rounded-xl hover:bg-purple-700 transition-colors">
                    {content.startNavigation}
                  </button>
                  <button className="w-full bg-gray-100 text-gray-700 py-3 rounded-xl hover:bg-gray-200 transition-colors">
                    {content.detailInfo}
                  </button>
                </div>
              </motion.div>
            )}
          </div>
        </div>
      </div>
    </div>
  );
};

export default MapNavigation;
</file>

<file path="src/pages/NotificationSettings.tsx">
import React, { useState } from 'react';
import { motion } from 'framer-motion';
import { Bell, Mail, Smartphone, Clock, MapPin, CreditCard, Save } from 'lucide-react';
import { useLanguage } from '../contexts/LanguageContext';

const NotificationSettings: React.FC = () => {
  const { t } = useLanguage();
  const [settings, setSettings] = useState({
    email: {
      tripReminders: true,
      bookingConfirmations: true,
      paymentNotifications: true,
      promotions: false,
      newsletter: true
    },
    push: {
      tripReminders: true,
      emergencyAlerts: true,
      locationUpdates: false,
      chatMessages: true,
      promotions: false
    },
    sms: {
      emergencyOnly: true,
      bookingConfirmations: false,
      tripReminders: false
    },
    schedule: {
      quietHours: true,
      startTime: '22:00',
      endTime: '08:00',
      timezone: 'Asia/Tokyo'
    }
  });

  const handleSave = () => {
    // Save notification settings
    console.log('Saving notification settings:', settings);
  };

  const updateEmailSetting = (key: string, value: boolean) => {
    setSettings({
      ...settings,
      email: { ...settings.email, [key]: value }
    });
  };

  const updatePushSetting = (key: string, value: boolean) => {
    setSettings({
      ...settings,
      push: { ...settings.push, [key]: value }
    });
  };

  const updateSmsSetting = (key: string, value: boolean) => {
    setSettings({
      ...settings,
      sms: { ...settings.sms, [key]: value }
    });
  };

  const updateScheduleSetting = (key: string, value: any) => {
    setSettings({
      ...settings,
      schedule: { ...settings.schedule, [key]: value }
    });
  };

  return (
    <div className="min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 pt-20">
      <div className="max-w-4xl mx-auto px-6 py-8">
        {/* Header */}
        <motion.div
          className="text-center mb-8"
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ duration: 0.8 }}
        >
          <h1 className="text-4xl font-bold text-gray-800 mb-4">é€šçŸ¥è¨­å®š</h1>
          <p className="text-lg text-gray-600">é€šçŸ¥ã®å—ä¿¡æ–¹æ³•ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã—ã¾ã—ã‚‡ã†</p>
        </motion.div>

        <div className="space-y-8">
          {/* Email Notifications */}
          <motion.div
            className="bg-white rounded-3xl shadow-lg p-6"
            initial={{ opacity: 0, y: 20 }}
            animate={{ opacity: 1, y: 0 }}
            transition={{ duration: 0.5, delay: 0.1 }}
          >
            <div className="flex items-center space-x-3 mb-6">
              <div className="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center">
                <Mail className="w-6 h-6 text-blue-600" />
              </div>
              <div>
                <h2 className="text-xl font-bold text-gray-800">ãƒ¡ãƒ¼ãƒ«é€šçŸ¥</h2>
                <p className="text-gray-600">ãƒ¡ãƒ¼ãƒ«ã§å—ä¿¡ã™ã‚‹é€šçŸ¥ã‚’é¸æŠ</p>
              </div>
            </div>

            <div className="space-y-4">
              <label className="flex items-center justify-between">
                <div>
                  <span className="font-medium text-gray-800">æ—…è¡Œãƒªãƒã‚¤ãƒ³ãƒ€ãƒ¼</span>
                  <p className="text-sm text-gray-600">å‡ºç™ºå‰ã®æº–å‚™ãƒªãƒã‚¤ãƒ³ãƒ€ãƒ¼</p>
                </div>
                <input
                  type="checkbox"
                  checked={settings.email.tripReminders}
                  onChange={(e) => updateEmailSetting('tripReminders', e.target.checked)}
                  className="w-5 h-5 text-purple-600 rounded focus:ring-purple-500"
                />
              </label>

              <label className="flex items-center justify-between">
                <div>
                  <span className="font-medium text-gray-800">äºˆç´„ç¢ºèª</span>
                  <p className="text-sm text-gray-600">ãƒ›ãƒ†ãƒ«ãƒ»èˆªç©ºåˆ¸ã®äºˆç´„ç¢ºèª</p>
                </div>
                <input
                  type="checkbox"
                  checked={settings.email.bookingConfirmations}
                  onChange={(e) => updateEmailSetting('bookingConfirmations', e.target.checked)}
                  className="w-5 h-5 text-purple-600 rounded focus:ring-purple-500"
                />
              </label>

              <label className="flex items-center justify-between">
                <div>
                  <span className="font-medium text-gray-800">æ±ºæ¸ˆé€šçŸ¥</span>
                  <p className="text-sm text-gray-600">æ”¯æ‰•ã„å®Œäº†ãƒ»å¤±æ•—ã®é€šçŸ¥</p>
                </div>
                <input
                  type="checkbox"
                  checked={settings.email.paymentNotifications}
                  onChange={(e) => updateEmailSetting('paymentNotifications', e.target.checked)}
                  className="w-5 h-5 text-purple-600 rounded focus:ring-purple-500"
                />
              </label>

              <label className="flex items-center justify-between">
                <div>
                  <span className="font-medium text-gray-800">ãƒ—ãƒ­ãƒ¢ãƒ¼ã‚·ãƒ§ãƒ³</span>
                  <p className="text-sm text-gray-600">ç‰¹åˆ¥ã‚ªãƒ•ã‚¡ãƒ¼ã‚„ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³æƒ…å ±</p>
                </div>
                <input
                  type="checkbox"
                  checked={settings.email.promotions}
                  onChange={(e) => updateEmailSetting('promotions', e.target.checked)}
                  className="w-5 h-5 text-purple-600 rounded focus:ring-purple-500"
                />
              </label>

              <label className="flex items-center justify-between">
                <div>
                  <span className="font-medium text-gray-800">ãƒ‹ãƒ¥ãƒ¼ã‚¹ãƒ¬ã‚¿ãƒ¼</span>
                  <p className="text-sm text-gray-600">æ—…è¡Œæƒ…å ±ã‚„ã‚µãƒ¼ãƒ“ã‚¹æ›´æ–°</p>
                </div>
                <input
                  type="checkbox"
                  checked={settings.email.newsletter}
                  onChange={(e) => updateEmailSetting('newsletter', e.target.checked)}
                  className="w-5 h-5 text-purple-600 rounded focus:ring-purple-500"
                />
              </label>
            </div>
          </motion.div>

          {/* Push Notifications */}
          <motion.div
            className="bg-white rounded-3xl shadow-lg p-6"
            initial={{ opacity: 0, y: 20 }}
            animate={{ opacity: 1, y: 0 }}
            transition={{ duration: 0.5, delay: 0.2 }}
          >
            <div className="flex items-center space-x-3 mb-6">
              <div className="w-12 h-12 bg-green-100 rounded-full flex items-center justify-center">
                <Smartphone className="w-6 h-6 text-green-600" />
              </div>
              <div>
                <h2 className="text-xl font-bold text-gray-800">ãƒ—ãƒƒã‚·ãƒ¥é€šçŸ¥</h2>
                <p className="text-gray-600">ã‚¢ãƒ—ãƒªã‹ã‚‰ã®å³åº§ãªé€šçŸ¥</p>
              </div>
            </div>

            <div className="space-y-4">
              <label className="flex items-center justify-between">
                <div>
                  <span className="font-medium text-gray-800">æ—…è¡Œãƒªãƒã‚¤ãƒ³ãƒ€ãƒ¼</span>
                  <p className="text-sm text-gray-600">å‡ºç™ºæ™‚åˆ»ã‚„é›†åˆæ™‚é–“ã®é€šçŸ¥</p>
                </div>
                <input
                  type="checkbox"
                  checked={settings.push.tripReminders}
                  onChange={(e) => updatePushSetting('tripReminders', e.target.checked)}
                  className="w-5 h-5 text-purple-600 rounded focus:ring-purple-500"
                />
              </label>

              <label className="flex items-center justify-between">
                <div>
                  <span className="font-medium text-gray-800">ç·Šæ€¥ã‚¢ãƒ©ãƒ¼ãƒˆ</span>
                  <p className="text-sm text-gray-600">å®‰å…¨æƒ…å ±ã‚„ç·Šæ€¥é€£çµ¡</p>
                </div>
                <input
                  type="checkbox"
                  checked={settings.push.emergencyAlerts}
                  onChange={(e) => updatePushSetting('emergencyAlerts', e.target.checked)}
                  className="w-5 h-5 text-purple-600 rounded focus:ring-purple-500"
                />
              </label>

              <label className="flex items-center justify-between">
                <div>
                  <span className="font-medium text-gray-800">ä½ç½®æƒ…å ±æ›´æ–°</span>
                  <p className="text-sm text-gray-600">å‘¨è¾ºã‚¹ãƒãƒƒãƒˆã‚„ãŠã™ã™ã‚æƒ…å ±</p>
                </div>
                <input
                  type="checkbox"
                  checked={settings.push.locationUpdates}
                  onChange={(e) => updatePushSetting('locationUpdates', e.target.checked)}
                  className="w-5 h-5 text-purple-600 rounded focus:ring-purple-500"
                />
              </label>

              <label className="flex items-center justify-between">
                <div>
                  <span className="font-medium text-gray-800">ãƒãƒ£ãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸</span>
                  <p className="text-sm text-gray-600">AIã‚³ãƒ³ã‚·ã‚§ãƒ«ã‚¸ãƒ¥ã‹ã‚‰ã®è¿”ä¿¡</p>
                </div>
                <input
                  type="checkbox"
                  checked={settings.push.chatMessages}
                  onChange={(e) => updatePushSetting('chatMessages', e.target.checked)}
                  className="w-5 h-5 text-purple-600 rounded focus:ring-purple-500"
                />
              </label>

              <label className="flex items-center justify-between">
                <div>
                  <span className="font-medium text-gray-800">ãƒ—ãƒ­ãƒ¢ãƒ¼ã‚·ãƒ§ãƒ³</span>
                  <p className="text-sm text-gray-600">é™å®šã‚ªãƒ•ã‚¡ãƒ¼ã®å³æ™‚é€šçŸ¥</p>
                </div>
                <input
                  type="checkbox"
                  checked={settings.push.promotions}
                  onChange={(e) => updatePushSetting('promotions', e.target.checked)}
                  className="w-5 h-5 text-purple-600 rounded focus:ring-purple-500"
                />
              </label>
            </div>
          </motion.div>

          {/* SMS Notifications */}
          <motion.div
            className="bg-white rounded-3xl shadow-lg p-6"
            initial={{ opacity: 0, y: 20 }}
            animate={{ opacity: 1, y: 0 }}
            transition={{ duration: 0.5, delay: 0.3 }}
          >
            <div className="flex items-center space-x-3 mb-6">
              <div className="w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center">
                <Bell className="w-6 h-6 text-yellow-600" />
              </div>
              <div>
                <h2 className="text-xl font-bold text-gray-800">SMSé€šçŸ¥</h2>
                <p className="text-gray-600">é‡è¦ãªé€šçŸ¥ã®ã¿SMSã§å—ä¿¡</p>
              </div>
            </div>

            <div className="space-y-4">
              <label className="flex items-center justify-between">
                <div>
                  <span className="font-medium text-gray-800">ç·Šæ€¥æ™‚ã®ã¿</span>
                  <p className="text-sm text-gray-600">å®‰å…¨ã«é–¢ã‚ã‚‹é‡è¦ãªæƒ…å ±ã®ã¿</p>
                </div>
                <input
                  type="checkbox"
                  checked={settings.sms.emergencyOnly}
                  onChange={(e) => updateSmsSetting('emergencyOnly', e.target.checked)}
                  className="w-5 h-5 text-purple-600 rounded focus:ring-purple-500"
                />
              </label>

              <label className="flex items-center justify-between">
                <div>
                  <span className="font-medium text-gray-800">äºˆç´„ç¢ºèª</span>
                  <p className="text-sm text-gray-600">é‡è¦ãªäºˆç´„ã®ç¢ºèªé€šçŸ¥</p>
                </div>
                <input
                  type="checkbox"
                  checked={settings.sms.bookingConfirmations}
                  onChange={(e) => updateSmsSetting('bookingConfirmations', e.target.checked)}
                  className="w-5 h-5 text-purple-600 rounded focus:ring-purple-500"
                />
              </label>

              <label className="flex items-center justify-between">
                <div>
                  <span className="font-medium text-gray-800">æ—…è¡Œãƒªãƒã‚¤ãƒ³ãƒ€ãƒ¼</span>
                  <p className="text-sm text-gray-600">å‡ºç™ºå‰ã®æœ€çµ‚ç¢ºèª</p>
                </div>
                <input
                  type="checkbox"
                  checked={settings.sms.tripReminders}
                  onChange={(e) => updateSmsSetting('tripReminders', e.target.checked)}
                  className="w-5 h-5 text-purple-600 rounded focus:ring-purple-500"
                />
              </label>
            </div>
          </motion.div>

          {/* Schedule Settings */}
          <motion.div
            className="bg-white rounded-3xl shadow-lg p-6"
            initial={{ opacity: 0, y: 20 }}
            animate={{ opacity: 1, y: 0 }}
            transition={{ duration: 0.5, delay: 0.4 }}
          >
            <div className="flex items-center space-x-3 mb-6">
              <div className="w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center">
                <Clock className="w-6 h-6 text-purple-600" />
              </div>
              <div>
                <h2 className="text-xl font-bold text-gray-800">é€šçŸ¥ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«</h2>
                <p className="text-gray-600">é€šçŸ¥ã‚’å—ä¿¡ã™ã‚‹æ™‚é–“å¸¯ã‚’è¨­å®š</p>
              </div>
            </div>

            <div className="space-y-6">
              <label className="flex items-center justify-between">
                <div>
                  <span className="font-medium text-gray-800">ã‚µã‚¤ãƒ¬ãƒ³ãƒˆæ™‚é–“</span>
                  <p className="text-sm text-gray-600">æŒ‡å®šæ™‚é–“ã¯é€šçŸ¥ã‚’åœæ­¢</p>
                </div>
                <input
                  type="checkbox"
                  checked={settings.schedule.quietHours}
                  onChange={(e) => updateScheduleSetting('quietHours', e.target.checked)}
                  className="w-5 h-5 text-purple-600 rounded focus:ring-purple-500"
                />
              </label>

              {settings.schedule.quietHours && (
                <div className="grid md:grid-cols-2 gap-4 pl-6">
                  <div>
                    <label className="block text-sm font-medium text-gray-700 mb-2">é–‹å§‹æ™‚åˆ»</label>
                    <input
                      type="time"
                      value={settings.schedule.startTime}
                      onChange={(e) => updateScheduleSetting('startTime', e.target.value)}
                      className="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent"
                    />
                  </div>
                  <div>
                    <label className="block text-sm font-medium text-gray-700 mb-2">çµ‚äº†æ™‚åˆ»</label>
                    <input
                      type="time"
                      value={settings.schedule.endTime}
                      onChange={(e) => updateScheduleSetting('endTime', e.target.value)}
                      className="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent"
                    />
                  </div>
                </div>
              )}

              <div>
                <label className="block text-sm font-medium text-gray-700 mb-2">ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³</label>
                <select
                  value={settings.schedule.timezone}
                  onChange={(e) => updateScheduleSetting('timezone', e.target.value)}
                  className="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent"
                >
                  <option value="Asia/Tokyo">æ—¥æœ¬æ¨™æº–æ™‚ (JST)</option>
                  <option value="America/New_York">æ±éƒ¨æ¨™æº–æ™‚ (EST)</option>
                  <option value="America/Los_Angeles">å¤ªå¹³æ´‹æ¨™æº–æ™‚ (PST)</option>
                  <option value="Europe/London">ã‚°ãƒªãƒ‹ãƒƒã‚¸æ¨™æº–æ™‚ (GMT)</option>
                  <option value="Asia/Shanghai">ä¸­å›½æ¨™æº–æ™‚ (CST)</option>
                  <option value="Asia/Seoul">éŸ“å›½æ¨™æº–æ™‚ (KST)</option>
                </select>
              </div>
            </div>
          </motion.div>

          {/* Save Button */}
          <motion.div
            className="flex justify-center"
            initial={{ opacity: 0, y: 20 }}
            animate={{ opacity: 1, y: 0 }}
            transition={{ duration: 0.5, delay: 0.5 }}
          >
            <button
              onClick={handleSave}
              className="flex items-center space-x-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white px-8 py-3 rounded-xl hover:from-purple-700 hover:to-pink-700 transition-all"
            >
              <Save className="w-5 h-5" />
              <span>è¨­å®šã‚’ä¿å­˜</span>
            </button>
          </motion.div>
        </div>
      </div>
    </div>
  );
};

export default NotificationSettings;
</file>

<file path="src/pages/OfflineSupport.tsx">
import React, { useState, useEffect } from 'react';
import { useTranslation } from 'react-i18next';
import { motion } from 'framer-motion';
import { WifiOff, Download, FolderSync as Sync, MapPin, Phone, FileText, CheckCircle, AlertCircle, RefreshCw } from 'lucide-react';

const OfflineSupport: React.FC = () => {
  const { t } = useTranslation();
  const [isOnline, setIsOnline] = useState(navigator.onLine);
  const [syncQueue, setSyncQueue] = useState<any[]>([]);
  const [offlineData, setOfflineData] = useState<any>(null);

  useEffect(() => {
    const handleOnline = () => setIsOnline(true);
    const handleOffline = () => setIsOnline(false);

    window.addEventListener('online', handleOnline);
    window.addEventListener('offline', handleOffline);

    // Load offline data from localStorage
    const savedData = localStorage.getItem('trippin_offline_data');
    if (savedData) {
      setOfflineData(JSON.parse(savedData));
    }

    return () => {
      window.removeEventListener('online', handleOnline);
      window.removeEventListener('offline', handleOffline);
    };
  }, []);

  const downloadOfflineData = () => {
    // Simulate downloading offline data
    const offlinePackage = {
      trips: [],
      maps: [],
      emergencyContacts: [],
      translations: {},
      lastUpdated: new Date().toISOString()
    };
    
    localStorage.setItem('trippin_offline_data', JSON.stringify(offlinePackage));
    setOfflineData(offlinePackage);
  };

  const syncData = () => {
    // Simulate syncing data when back online
    if (isOnline && syncQueue.length > 0) {
      // Process sync queue
      setSyncQueue([]);
    }
  };

  return (
    <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-8">
      <div className="max-w-4xl mx-auto px-4">
        <motion.div
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          className="bg-white rounded-2xl shadow-xl p-8"
        >
          {/* Header */}
          <div className="text-center mb-8">
            <div className="flex items-center justify-center mb-4">
              {isOnline ? (
                <div className="flex items-center text-green-600">
                  <CheckCircle className="w-8 h-8 mr-2" />
                  <span className="text-lg font-semibold">{t('online')}</span>
                </div>
              ) : (
                <div className="flex items-center text-red-600">
                  <WifiOff className="w-8 h-8 mr-2" />
                  <span className="text-lg font-semibold">{t('offline')}</span>
                </div>
              )}
            </div>
            <h1 className="text-3xl font-bold text-gray-800 mb-2">
              {t('offline.title')}
            </h1>
            <p className="text-gray-600">
              {t('offline.subtitle')}
            </p>
          </div>

          {/* Offline Features */}
          <div className="grid md:grid-cols-2 gap-6 mb-8">
            {/* Download Offline Data */}
            <motion.div
              whileHover={{ scale: 1.02 }}
              className="bg-blue-50 rounded-xl p-6"
            >
              <div className="flex items-center mb-4">
                <Download className="w-6 h-6 text-blue-600 mr-3" />
                <h3 className="text-lg font-semibold text-gray-800">
                  {t('offline.downloadOfflineData')}
                </h3>
              </div>
              <p className="text-gray-600 mb-4">
                {t('offline.downloadOfflineDataDescription')}
              </p>
              <button
                onClick={downloadOfflineData}
                className="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors"
              >
                {t('offline.download')}
              </button>
            </motion.div>

            {/* Sync Data */}
            <motion.div
              whileHover={{ scale: 1.02 }}
              className="bg-green-50 rounded-xl p-6"
            >
              <div className="flex items-center mb-4">
                <Sync className="w-6 h-6 text-green-600 mr-3" />
                <h3 className="text-lg font-semibold text-gray-800">
                  {t('offline.syncData')}
                </h3>
              </div>
              <p className="text-gray-600 mb-4">
                {t('offline.syncDataDescription')}
              </p>
              <button
                onClick={syncData}
                disabled={!isOnline}
                className="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors disabled:bg-gray-400"
              >
                <RefreshCw className="w-4 h-4 inline mr-2" />
                {t('offline.sync')}
              </button>
            </motion.div>
          </div>

          {/* Available Offline Features */}
          <div className="mb-8">
            <h2 className="text-2xl font-bold text-gray-800 mb-6">
              {t('offline.availableOfflineFeatures')}
            </h2>
            <div className="grid md:grid-cols-3 gap-4">
              <div className="bg-gray-50 rounded-lg p-4">
                <MapPin className="w-6 h-6 text-indigo-600 mb-2" />
                <h4 className="font-semibold text-gray-800 mb-1">
                  {t('offline.offlineMaps')}
                </h4>
                <p className="text-sm text-gray-600">
                  {t('offline.offlineMapsDescription')}
                </p>
              </div>
              
              <div className="bg-gray-50 rounded-lg p-4">
                <FileText className="w-6 h-6 text-indigo-600 mb-2" />
                <h4 className="font-semibold text-gray-800 mb-1">
                  {t('offline.savedItineraries')}
                </h4>
                <p className="text-sm text-gray-600">
                  {t('offline.savedItinerariesDescription')}
                </p>
              </div>
              
              <div className="bg-gray-50 rounded-lg p-4">
                <Phone className="w-6 h-6 text-indigo-600 mb-2" />
                <h4 className="font-semibold text-gray-800 mb-1">
                  {t('offline.emergencyContacts')}
                </h4>
                <p className="text-sm text-gray-600">
                  {t('offline.emergencyContactsDescription')}
                </p>
              </div>
            </div>
          </div>

          {/* Sync Queue */}
          {syncQueue.length > 0 && (
            <div className="bg-yellow-50 rounded-xl p-6">
              <div className="flex items-center mb-4">
                <AlertCircle className="w-6 h-6 text-yellow-600 mr-3" />
                <h3 className="text-lg font-semibold text-gray-800">
                  {t('offline.pendingSync')}
                </h3>
              </div>
              <p className="text-gray-600 mb-4">
                {t('offline.pendingSyncDescription', { count: syncQueue.length })}
              </p>
              <div className="space-y-2">
                {syncQueue.map((item, index) => (
                  <div key={index} className="bg-white rounded-lg p-3 text-sm">
                    {item.type}: {item.description}
                  </div>
                ))}
              </div>
            </div>
          )}

          {/* Offline Data Status */}
          {offlineData && (
            <div className="bg-indigo-50 rounded-xl p-6">
              <h3 className="text-lg font-semibold text-gray-800 mb-4">
                {t('offline.offlineDataStatus')}
              </h3>
              <div className="grid md:grid-cols-2 gap-4 text-sm">
                <div>
                  <span className="font-medium text-gray-700">{t('offline.lastUpdated')}:</span>
                  <span className="ml-2 text-gray-600">
                    {new Date(offlineData.lastUpdated).toLocaleString()}
                  </span>
                </div>
                <div>
                  <span className="font-medium text-gray-700">{t('offline.dataSize')}:</span>
                  <span className="ml-2 text-gray-600">2.3 MB</span>
                </div>
              </div>
            </div>
          )}
        </motion.div>
      </div>
    </div>
  );
};

export default OfflineSupport;
</file>

<file path="src/pages/PaymentSuccess.tsx">
import React, { useEffect, useState } from 'react';
import { motion } from 'framer-motion';
import { useNavigate, useSearchParams } from 'react-router-dom';
import { CheckCircle, ArrowRight } from 'lucide-react';
import { useAuth } from '../contexts/AuthContext';
import { apiCall, API_CONFIG } from '../config/api';

const PaymentSuccess: React.FC = () => {
  const navigate = useNavigate();
  const [searchParams] = useSearchParams();
  const { upgradeToPremiun } = useAuth();
  const [isVerifying, setIsVerifying] = useState(true);
  const [error, setError] = useState<string | null>(null);

  useEffect(() => {
    const verifyPayment = async () => {
      try {
        const sessionId = searchParams.get('session_id');
        
        if (!sessionId) {
          setError('ã‚»ãƒƒã‚·ãƒ§ãƒ³IDãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“');
          setIsVerifying(false);
          return;
        }
        
        const data = await apiCall('/verify-payment', {
          method: 'POST',
          body: JSON.stringify({ sessionId })
        });
        
        if (data.success) {
          // Upgrade the user to premium
          await upgradeToPremiun();
          setIsVerifying(false);
        } else {
          throw new Error(data.message || 'æ”¯æ‰•ã„æ¤œè¨¼ã«å¤±æ•—ã—ã¾ã—ãŸ');
        }
      } catch (error) {
        console.error('Payment verification error:', error);
        setError(error instanceof Error ? error.message : 'æ”¯æ‰•ã„æ¤œè¨¼ã«å¤±æ•—ã—ã¾ã—ãŸ');
        setIsVerifying(false);
      }
    };
    
    verifyPayment();
  }, [searchParams, upgradeToPremiun]);

  const handleContinue = () => {
    navigate('/dashboard');
  };

  return (
    <div className="min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 flex items-center justify-center p-6">
      <motion.div
        className="bg-white rounded-3xl shadow-xl p-8 max-w-md w-full text-center"
        initial={{ opacity: 0, y: 20 }}
        animate={{ opacity: 1, y: 0 }}
        transition={{ duration: 0.5 }}
      >
        {isVerifying ? (
          <>
            <div className="w-16 h-16 border-4 border-purple-500 border-t-transparent rounded-full animate-spin mx-auto mb-6"></div>
            <h2 className="text-2xl font-bold text-gray-800 mb-4">æ”¯æ‰•ã„ã‚’ç¢ºèªä¸­...</h2>
            <p className="text-gray-600">ã—ã°ã‚‰ããŠå¾…ã¡ãã ã•ã„</p>
          </>
        ) : error ? (
          <>
            <div className="text-red-500 text-6xl mb-6">âš ï¸</div>
            <h2 className="text-2xl font-bold text-gray-800 mb-4">ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ</h2>
            <p className="text-gray-600 mb-6">{error}</p>
            <button
              onClick={() => navigate('/checkout')}
              className="px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors"
            >
              ã‚‚ã†ä¸€åº¦è©¦ã™
            </button>
          </>
        ) : (
          <>
            <div className="w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6">
              <CheckCircle className="w-12 h-12 text-green-600" />
            </div>
            <h2 className="text-2xl font-bold text-gray-800 mb-4">ãŠæ”¯æ‰•ã„ãŒå®Œäº†ã—ã¾ã—ãŸï¼</h2>
            <p className="text-gray-600 mb-8">
              ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ãƒ—ãƒ©ãƒ³ã¸ã®ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ãŒå®Œäº†ã—ã¾ã—ãŸã€‚ã™ã¹ã¦ã®æ©Ÿèƒ½ã‚’ãŠæ¥½ã—ã¿ãã ã•ã„ã€‚
            </p>
            <motion.button
              onClick={handleContinue}
              className="flex items-center justify-center space-x-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white px-8 py-3 rounded-xl mx-auto hover:from-purple-700 hover:to-pink-700 transition-all"
              whileHover={{ scale: 1.02 }}
              whileTap={{ scale: 0.98 }}
            >
              <span>ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã«é€²ã‚€</span>
              <ArrowRight className="w-5 h-5" />
            </motion.button>
          </>
        )}
      </motion.div>
    </div>
  );
};

export default PaymentSuccess;
</file>

<file path="src/pages/PlanGeneration.tsx">
import React, { useState, useEffect } from 'react';
import { motion, AnimatePresence } from 'framer-motion';
import { useNavigate } from 'react-router-dom';
import { Sparkles, Calendar, MapPin, Users, DollarSign, Clock, Check, Download, Share2, Star, Car, Hotel, Plane } from 'lucide-react';
import { useAuth } from '../contexts/AuthContext';
import { useLanguage } from '../contexts/LanguageContext';
import { useTrip } from '../contexts/TripContext';
import { apiCall, API_CONFIG, APIError } from '../config/api';
import { handleAWSError, handleOpenAIError, autoRecovery, globalErrorHandler } from '../utils/errorHandler';
import MockDataNotice from '../components/MockDataNotice';

// Debug logging helper
const logDebug = (message: string, data?: any) => {
  console.log(`[PlanGeneration] ${message}`, data || '');
};

const PlanGeneration: React.FC = () => {
  const navigate = useNavigate();
  const { t, currentLanguage } = useLanguage();
  const { isAuthenticated, isPremium } = useAuth();
  const { createTrip } = useTrip();
  const [isLoading, setIsLoading] = useState(true);
  const [progress, setProgress] = useState(0);
  const [generatedPlans, setGeneratedPlans] = useState<any[]>([]);
  const [selectedPlan, setSelectedPlan] = useState<any>(null);
  const [limitedPlan, setLimitedPlan] = useState<any>(null);
  const [error, setError] = useState<string | null>(null);
  const [showMockNotice, setShowMockNotice] = useState(false);
  const [selectedActivityForReview, setSelectedActivityForReview] = useState<any>(null);
  const [activityReviews, setActivityReviews] = useState<any>(null);
  const [isLoadingReviews, setIsLoadingReviews] = useState(false);

  useEffect(() => {
    const tripData = JSON.parse(localStorage.getItem('trippin-complete-data') || '{}');
    logDebug('Loaded trip data from localStorage', tripData);
    generatePlan(tripData);
  }, []);

  const generatePlan = async (tripData: any) => {
    setIsLoading(true);
    setProgress(0);
    logDebug('Starting plan generation process');
    
    // Simulate progress updates
    const progressInterval = setInterval(() => {
      setProgress(prev => {
        const newProgress = prev + Math.random() * 10;
        if (Math.floor(newProgress / 10) > Math.floor(prev / 10)) {
          logDebug(`Progress: ${Math.floor(newProgress)}%`);
        }
        return newProgress > 95 ? 95 : newProgress;
      });
    }, 1000);
    
    try {
      logDebug('Preparing to call OpenAI generate function');
      
      // Log the request payload for debugging
      const result = await apiCall(API_CONFIG.ENDPOINTS.OPENAI_GENERATE, {
        method: 'POST',
        body: JSON.stringify({ 
          tripData: { ...tripData, language: currentLanguage, generateMultiplePlans: true }
        })
      });


      logDebug('Received result from API', result);
      
      if (result.success) {
        // Check if this is mock data
        if (result.isMockData) {
          setShowMockNotice(true);
        }
        
        // Handle multiple plans or single plan
        if (Array.isArray(result.data)) {
          setGeneratedPlans(result.data);
          setSelectedPlan(result.data[0]);
        } else {
          setGeneratedPlans([result.data]);
          setSelectedPlan(result.data);
        }
        logDebug('Plans generated successfully', result.data);
        
        // Create a limited version of the plan for free users
        const planToLimit = Array.isArray(result.data) ? result.data[0] : result.data;
        if (planToLimit && planToLimit.itinerary && planToLimit.itinerary.length > 0) {
          const createLimitedPlan = (fullPlan: any) => {
            const limitedItinerary = [];
            
            console.log('[PlanGeneration] Creating limited plan from:', fullPlan);
            
            // Day 1: Show all activities
            if (fullPlan.itinerary[0]) {
              limitedItinerary.push({
                ...fullPlan.itinerary[0],
                isFullDay: true
              });
              console.log('[PlanGeneration] Added Day 1 (full day):', fullPlan.itinerary[0]);
            }
            
            // Day 2: Show only morning activities (before 12:00)
            if (fullPlan.itinerary.length > 1 && fullPlan.itinerary[1]?.activities) {
              const day2 = fullPlan.itinerary[1];
              const morningActivities = day2.activities.filter((activity: any) => {
                const time = activity.time || '00:00';
                const hour = parseInt(time.split(':')[0]);
                const isMorning = hour < 12;
                console.log(`[PlanGeneration] Activity "${activity.name}" at ${time}: ${isMorning ? 'MORNING' : 'AFTERNOON'}`);
                return isMorning;
              });
              
              const afternoonActivities = day2.activities.filter((activity: any) => {
                const time = activity.time || '00:00';
                const hour = parseInt(time.split(':')[0]);
                return hour >= 12;
              });
              
              if (morningActivities.length > 0) {
                limitedItinerary.push({
                  ...day2,
                  activities: morningActivities,
                  hasAfternoonActivities: afternoonActivities.length > 0,
                  afternoonCount: afternoonActivities.length,
                  isPartialDay: true
                });
                console.log(`[PlanGeneration] Added Day 2 morning: ${morningActivities.length} activities, ${afternoonActivities.length} afternoon activities hidden`);
              }
            }
            
            // Count remaining days
            const remainingDays = fullPlan.itinerary.length - 2;
            
            const limitedPlan = {
              ...fullPlan,
              itinerary: limitedItinerary,
              isLimited: true,
              remainingDays: remainingDays > 0 ? remainingDays : 0,
              totalDays: fullPlan.itinerary.length
            };
            
            console.log('[PlanGeneration] Limited plan created:', {
              originalDays: fullPlan.itinerary.length,
              limitedDays: limitedItinerary.length,
              remainingDays: limitedPlan.remainingDays
            });
            
            return limitedPlan;
          };
          
          const limitedPlanData = createLimitedPlan(result.data);
          setLimitedPlan(limitedPlanData);
        }
        
        // Create trip in context
        const newTrip = {
          id: `trip_${Date.now()}`,
          title: tripData.basicInfo?.tripTitle || selectedPlan.destination,
          destination: selectedPlan.destination,
          startDate: tripData.basicInfo?.startDate,
          endDate: tripData.basicInfo?.endDate,
          itinerary: selectedPlan.itinerary,
          budget: parseInt(tripData.travelStyle?.budget || '0'),
          currency: tripData.travelStyle?.currency || 'JPY',
          travelers: tripData.basicInfo?.travelers || 1,
          interests: tripData.travelStyle?.interests || [],
          status: 'upcoming',
          image: 'https://images.pexels.com/photos/2070033/pexels-photo-2070033.jpeg',
          createdAt: new Date().toISOString(),
          updatedAt: new Date().toISOString()
        };
        
        logDebug('Creating trip in context', newTrip);
        const createdTrip = await createTrip(newTrip);
        logDebug('Trip created in context');
        
        // Store the recent trip for dashboard access
        localStorage.setItem('trippin-recent-trip', JSON.stringify(createdTrip));
        console.log('[PlanGeneration] Stored recent trip for dashboard access');
        
      } else {
        throw new Error(result.message || 'ãƒ—ãƒ©ãƒ³ç”Ÿæˆã«å¤±æ•—ã—ã¾ã—ãŸ');
      }
    } catch (error) {
      const apiError = error as APIError;
      
      // Log error with context
      globalErrorHandler.handleError(apiError, {
        page: 'PlanGeneration',
        action: 'generatePlan',
        userAgent: navigator.userAgent,
        url: window.location.href
      });
      
      logDebug('Error caught during plan generation', apiError);
      
      // Handle specific errors
      if (apiError.code === 'TIMEOUT' || apiError.status === 504) {
        const errorInfo = handleOpenAIError(apiError);
        setError(errorInfo.message);
        
        // Try to load template plan as fallback
        try {
          const fallbackPlan = await autoRecovery.handleServiceFailure('openai');
          if (fallbackPlan.data) {
            setGeneratedPlan(fallbackPlan.data);
            setShowBookingPrompt(true);
            return;
          }
        } catch (fallbackError) {
          console.error('Fallback plan failed:', fallbackError);
        }
      } else if (apiError.status === 429) {
        setError('AIå‡¦ç†ãŒæ··é›‘ã—ã¦ã„ã¾ã™ã€‚2-3åˆ†å¾…ã£ã¦ã‹ã‚‰ãŠè©¦ã—ãã ã•ã„ã€‚');
      } else if (apiError.status && apiError.status >= 500) {
        setError('ã‚µãƒ¼ãƒãƒ¼ã§å•é¡ŒãŒç™ºç”Ÿã—ã¦ã„ã¾ã™ã€‚ã—ã°ã‚‰ãå¾…ã£ã¦ã‹ã‚‰ãŠè©¦ã—ãã ã•ã„ã€‚');
      } else if (apiError.code === 'NETWORK_OFFLINE') {
        setError('ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆæ¥ç¶šãŒã‚ã‚Šã¾ã›ã‚“ã€‚æ¥ç¶šã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚');
      } else {
        const errorInfo = handleAWSError(apiError);
        setError(errorInfo.message);
      }
    } finally {
      clearInterval(progressInterval);
      setProgress(100);
      setIsLoading(false);
      logDebug('Plan generation process completed');
    }
  };

  const fetchActivityReviews = async (activity: any) => {
    setSelectedActivityForReview(activity);
    setIsLoadingReviews(true);
    
    try {
      const result = await apiCall('/tripadvisor', {
        method: 'POST',
        body: JSON.stringify({
          location: activity.name,
          language: currentLanguage
        })
      });
      
      if (result.success && result.data) {
        setActivityReviews(result.data);
        
        // Open TripAdvisor or Google Maps reviews
        if (result.data[0]?.web_url) {
          window.open(result.data[0].web_url, '_blank');
        } else {
          // Fallback to Google Maps reviews
          const googleMapsUrl = `https://www.google.com/maps/search/${encodeURIComponent(activity.name + ' ' + activity.location)}/`;
          window.open(googleMapsUrl, '_blank');
        }
      } else {
        throw new Error('ãƒ¬ãƒ“ãƒ¥ãƒ¼æƒ…å ±ã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸ');
      }
    } catch (error) {
      console.error('Failed to fetch reviews:', error);
      // Fallback to Google Maps
      const googleMapsUrl = `https://www.google.com/maps/search/${encodeURIComponent(activity.name + ' ' + activity.location)}/`;
      window.open(googleMapsUrl, '_blank');
    } finally {
      setIsLoadingReviews(false);
      setSelectedActivityForReview(null);
    }
  };

  const handleViewPlan = () => {
    logDebug('Navigating to dashboard');
    navigate('/dashboard');
  };

  const handleUpgrade = () => {
    navigate('/checkout');
  };

  if (error) {
    return (
      <div className="min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 flex items-center justify-center p-6">
        <div className="bg-white rounded-3xl shadow-xl p-8 max-w-md w-full text-center">
          <div className="text-red-500 text-6xl mb-6">âš ï¸</div>
          <h2 className="text-2xl font-bold text-gray-800 mb-4">{t('planGeneration.error')}</h2>
          <p className="text-gray-600 mb-6">{error}</p>
          <button
            onClick={() => navigate('/questionnaire/confirmation')}
            className="px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors"
          >
            {t('planGeneration.tryAgain')}
          </button>
        </div>
      </div>
    );
  }

  return (
    <div className="min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 pt-20">
      <div className="max-w-4xl mx-auto px-6 py-8">
        {/* Header */}
        <motion.div
          className="text-center mb-8"
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ duration: 0.8 }}
        >
          <h1 className="text-4xl font-bold text-gray-800 mb-4">
            {isLoading ? t('planGeneration.title') : t('planGeneration.complete')}
          </h1>
          <p className="text-lg text-gray-600">
            {isLoading ? t('planGeneration.subtitle') : t('planGeneration.completeSubtitle')}
          </p>
        </motion.div>
        
        {/* Mock Data Notice */}
        {showMockNotice && !isLoading && (
          <MockDataNotice 
            onRetry={() => setShowMockNotice(false)}
            className="max-w-4xl mx-auto mb-4"
          />
        )}

        {/* Loading State */}
        {isLoading && (
          <motion.div
            className="bg-white rounded-3xl shadow-lg p-8 text-center"
            initial={{ opacity: 0, y: 20 }}
            animate={{ opacity: 1, y: 0 }}
            transition={{ duration: 0.5 }}
          >
            <div className="relative w-32 h-32 mx-auto mb-6">
              <div className="absolute inset-0 rounded-full border-4 border-gray-200"></div>
              <div
                className="absolute inset-0 rounded-full border-4 border-t-purple-600 border-r-transparent border-b-transparent border-l-transparent"
                style={{ transform: `rotate(${progress * 3.6}deg)` }}
              ></div>
              <div className="absolute inset-0 flex items-center justify-center">
                <span className="text-2xl font-bold text-purple-600">{Math.round(progress)}%</span>
              </div>
            </div>
            
            <h2 className="text-2xl font-bold text-gray-800 mb-4">{t('planGeneration.generating')}</h2>
            
            <div className="space-y-4 max-w-md mx-auto">
              <div className="flex items-center space-x-3">
                <Sparkles className="w-6 h-6 text-purple-600" />
                <div className="text-left">
                  <div className="h-2 bg-purple-200 rounded-full w-full">
                    <div
                      className="h-2 bg-purple-600 rounded-full"
                      style={{ width: `${Math.min(progress * 1.5, 100)}%` }}
                    ></div>
                  </div>
                  <p className="text-sm text-gray-600 mt-1">{t('planGeneration.step1')}</p>
                </div>
              </div>
              
              <div className="flex items-center space-x-3">
                <MapPin className="w-6 h-6 text-blue-600" />
                <div className="text-left">
                  <div className="h-2 bg-blue-200 rounded-full w-full">
                    <div
                      className="h-2 bg-blue-600 rounded-full"
                      style={{ width: `${Math.max(0, Math.min((progress - 30) * 1.5, 100))}%` }}
                    ></div>
                  </div>
                  <p className="text-sm text-gray-600 mt-1">{t('planGeneration.step2')}</p>
                </div>
              </div>
              
              <div className="flex items-center space-x-3">
                <Calendar className="w-6 h-6 text-green-600" />
                <div className="text-left">
                  <div className="h-2 bg-green-200 rounded-full w-full">
                    <div
                      className="h-2 bg-green-600 rounded-full"
                      style={{ width: `${Math.max(0, Math.min((progress - 60) * 2.5, 100))}%` }}
                    ></div>
                  </div>
                  <p className="text-sm text-gray-600 mt-1">{t('planGeneration.step3')}</p>
                </div>
              </div>
            </div>
          </motion.div>
        )}

        {/* Success State */}
        {!isLoading && selectedPlan && (
          <>
            {/* Plan Selection */}
            {generatedPlans.length > 1 && (
              <motion.div
                className="bg-white rounded-3xl shadow-lg p-6 mb-6"
                initial={{ opacity: 0, y: 20 }}
                animate={{ opacity: 1, y: 0 }}
                transition={{ duration: 0.5 }}
              >
                <h3 className="text-xl font-bold text-gray-800 mb-4">ã‚ãªãŸã«ãŠã™ã™ã‚ã®3ã¤ã®ãƒ—ãƒ©ãƒ³</h3>
                <div className="grid md:grid-cols-3 gap-4">
                  {generatedPlans.map((plan, index) => (
                    <button
                      key={index}
                      onClick={() => setSelectedPlan(plan)}
                      className={`p-4 rounded-xl border-2 transition-all text-left ${
                        selectedPlan === plan
                          ? 'border-purple-500 bg-purple-50'
                          : 'border-gray-200 hover:border-purple-300 hover:bg-purple-50'
                      }`}
                    >
                      <h4 className="font-bold text-gray-800 mb-2">{plan.theme}</h4>
                      <p className="text-sm text-gray-600 mb-2">{plan.description}</p>
                      <div className="text-sm text-purple-600 font-medium">{plan.totalEstimatedCost}</div>
                    </button>
                  ))}
                </div>
              </motion.div>
            )}

          <motion.div
            className="bg-white rounded-3xl shadow-lg overflow-hidden relative"
            initial={{ opacity: 0, y: 20 }}
            animate={{ opacity: 1, y: 0 }}
            transition={{ duration: 0.5 }}
          >
            <div className="bg-gradient-to-r from-purple-600 to-pink-600 text-white p-6">
              <div className="flex items-center justify-between">
                <div>
                  <h2 className="text-2xl font-bold">{selectedPlan.destination}</h2>
                  <p className="text-purple-100">{selectedPlan.duration} â€¢ {selectedPlan.totalEstimatedCost}</p>
                </div>
                <div className="flex space-x-2">
                  <button className="p-2 bg-white/20 rounded-full hover:bg-white/30 transition-colors">
                    <Share2 className="w-5 h-5" />
                  </button>
                  <button className="p-2 bg-white/20 rounded-full hover:bg-white/30 transition-colors">
                    <Download className="w-5 h-5" />
                  </button>
                </div>
              </div>
            </div>
            
            <div className="p-6">
              <div className="grid md:grid-cols-2 gap-4 mb-6">
                <div className="flex items-center space-x-3">
                  <div className="w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center">
                    <Calendar className="w-5 h-5 text-blue-600" />
                  </div>
                  <div>
                    <p className="text-sm text-gray-500">{t('planGeneration.days')}</p>
                    <p className="font-semibold text-gray-800">{selectedPlan.itinerary.length} {t('planGeneration.daysCount')}</p>
                  </div>
                </div>
                
                <div className="flex items-center space-x-3">
                  <div className="w-10 h-10 bg-green-100 rounded-full flex items-center justify-center">
                    <DollarSign className="w-5 h-5 text-green-600" />
                  </div>
                  <div>
                    <p className="text-sm text-gray-500">{t('planGeneration.budget')}</p>
                    <p className="font-semibold text-gray-800">{selectedPlan.totalEstimatedCost}</p>
                  </div>
                </div>
              </div>
              
              <div className="border-t border-gray-200 pt-6">
                <h3 className="text-lg font-semibold text-gray-800 mb-4">{t('planGeneration.highlights')}</h3>
                
                <div className="space-y-3">
                  {(isPremium ? selectedPlan : limitedPlan)?.itinerary?.map((day: any, index: number) => (
                    <div key={index} className="flex items-start space-x-3">
                      <div className="w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center text-purple-600 font-medium">
                        {index + 1}
                      </div>
                      <div>
                        <div className="flex items-center space-x-2 mb-2">
                          <p className="font-medium text-gray-800">{day.title}</p>
                          {!isPremium && day.isPartialDay && (
                            <span className="px-2 py-1 bg-yellow-100 text-yellow-700 text-xs rounded-full">
                              åˆå‰ã®ã¿
                            </span>
                          )}
                        </div>
                        <div className="space-y-2 mt-2">
                          {day.activities?.map((activity: any, actIndex: number) => (
                            <div key={actIndex} className="flex items-start space-x-2">
                              <div className="text-sm font-medium text-purple-600 w-16 bg-purple-50 rounded-lg px-2 py-1">{activity.time}</div>
                              <div className="flex-1">
                                <p className="text-base font-semibold text-gray-800 mb-1">{activity.name}</p>
                                {activity.description && (
                                  <p className="text-sm text-gray-600 mb-2">{activity.description}</p>
                                )}
                                <div className="flex items-center flex-wrap gap-3 text-sm text-gray-600 mb-2">
                                  <MapPin className="w-3 h-3" />
                                  <span>{activity.location}</span>
                                  {activity.rating && (
                                    <div className="flex items-center space-x-1">
                                      <Star className="w-3 h-3 text-yellow-500" />
                                      <span>{activity.rating}</span>
                                    </div>
                                  )}
                                  {activity.duration && (
                                    <div className="flex items-center space-x-1">
                                      <Clock className="w-3 h-3" />
                                      <span>{activity.duration}åˆ†</span>
                                    </div>
                                  )}
                                  {activity.estimatedCost && (
                                    <div className="flex items-center space-x-1">
                                      <DollarSign className="w-3 h-3" />
                                      <span>{activity.estimatedCost}</span>
                                    </div>
                                  )}
                                  {/* Navigation Button */}
                                  {activity.coordinates && (
                                    <div className="flex space-x-2">
                                    <button
                                      onClick={() => {
                                        const googleMapsUrl = `https://www.google.com/maps/dir/?api=1&destination=${activity.coordinates.lat},${activity.coordinates.lng}&travelmode=transit`;
                                        window.open(googleMapsUrl, '_blank');
                                      }}
                                      className="flex items-center space-x-1 px-2 py-1 bg-blue-500 text-white rounded-full hover:bg-blue-600 transition-colors text-xs"
                                    >
                                      <MapPin className="w-3 h-3" />
                                      <span>å‘ã‹ã†</span>
                                    </button>
                                    <button
                                      onClick={() => fetchActivityReviews(activity)}
                                      disabled={isLoadingReviews && selectedActivityForReview?.name === activity.name}
                                      className="flex items-center space-x-1 px-2 py-1 bg-green-500 text-white rounded-full hover:bg-green-600 transition-colors text-xs disabled:opacity-50"
                                    >
                                      <Star className="w-3 h-3" />
                                      <span>
                                        {isLoadingReviews && selectedActivityForReview?.name === activity.name 
                                          ? 'èª­è¾¼ä¸­...' 
                                          : 'ãƒ¬ãƒ“ãƒ¥ãƒ¼'
                                        }
                                      </span>
                                    </button>
                                    </div>
                                  )}
                                </div>
                                
                                {/* Transport Details */}
                                {activity.transportDetails && (
                                  <div className="mt-2 p-3 bg-green-50 rounded-lg border-l-4 border-green-400">
                                    <div className="flex items-center space-x-4 text-xs text-green-700">
                                      <span>ğŸšƒ {activity.transportDetails.method}</span>
                                      <span>ğŸ“ {activity.transportDetails.distance || activity.transportDetails.line}</span>
                                      {activity.transportDetails.transfers !== undefined && (
                                        <span>ğŸ”„ ä¹—æ›{activity.transportDetails.transfers}å›</span>
                                      )}
                                      <span>ğŸš¶ å¾’æ­©{activity.transportDetails.walkingTime}</span>
                                    </div>
                                  </div>
                                )}
                                
                                {/* Reviews */}
                                {activity.reviews && activity.reviews.length > 0 && (
                                  <div className="mt-2 p-3 bg-yellow-50 rounded-lg border-l-4 border-yellow-400">
                                    <div className="flex items-start space-x-2">
                                      <Star className="w-4 h-4 text-yellow-500 mt-0.5" />
                                      <div>
                                        <p className="text-xs text-yellow-800 font-medium">"{activity.reviews[0].text}"</p>
                                        <p className="text-xs text-yellow-600 mt-1">- {activity.reviews[0].author}</p>
                                      </div>
                                    </div>
                                  </div>
                                )}
                                
                                {activity.tips && (
                                  <div className="mt-2 p-2 bg-blue-50 rounded-lg border-l-4 border-blue-400">
                                    <p className="text-xs text-blue-700">ğŸ’¡ {activity.tips}</p>
                                  </div>
                                )}
                              </div>
                            </div>
                          )) || []}
                          
                          {/* 2æ—¥ç›®ã®åˆå¾Œä»¥é™ã®ç°¡æ½”ãªæ¡ˆå†… */}
                          {!isPremium && day.isPartialDay && day.hasAfternoonActivities && (
                            <div className="mt-6 p-4 bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl border border-purple-200">
                              <div className="flex items-center justify-between">
                                <div className="flex items-center space-x-3">
                                  <Sparkles className="w-6 h-6 text-purple-600" />
                                  <div>
                                    <p className="text-sm font-medium text-purple-800">
                                      åˆå¾Œã‚‚{day.afternoonCount}ã¤ã®ç´ æ™´ã‚‰ã—ã„ã‚¹ãƒãƒƒãƒˆãŒã‚ã‚Šã¾ã™
                                    </p>
                                    <p className="text-xs text-purple-600">
                                      ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ã§å®Œå…¨ãª1æ—¥ã‚’ä½“é¨“
                                    </p>
                                  </div>
                                </div>
                                <button
                                  onClick={handleUpgrade}
                                  className="px-4 py-2 bg-purple-600 text-white text-sm rounded-lg hover:bg-purple-700 transition-colors"
                                >
                                  è©³ç´°ã‚’è¦‹ã‚‹
                                </button>
                              </div>
                            </div>
                          )}
                        </div>
                      </div>
                    </div>
                  )) || []}
                  
                  {/* æ®‹ã‚Šã®æ—¥ç¨‹åˆ¶é™ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ */}
                  {!isPremium && limitedPlan?.remainingDays > 0 && (
                    <div className="mt-6 p-6 bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl border border-blue-200">
                      <div className="text-center">
                        <div className="flex items-center justify-center space-x-2 mb-4">
                          <Calendar className="w-8 h-8 text-blue-600" />
                          <span className="text-xl font-bold text-gray-800">
                            ã•ã‚‰ã«{limitedPlan.remainingDays}æ—¥é–“ã®å†’é™ºãŒå¾…ã£ã¦ã„ã¾ã™
                          </span>
                        </div>
                        <p className="text-gray-700 mb-6">
                          ã“ã®{limitedPlan.totalDays}æ—¥é–“ã®æ—…ç¨‹ã«ã¯ã€ã¾ã ã¾ã ç´ æ™´ã‚‰ã—ã„ä½“é¨“ãŒè©°ã¾ã£ã¦ã„ã¾ã™ã€‚
                          äº¬éƒ½ã®ä¼çµ±æ–‡åŒ–ã€å¤§é˜ªã®ã‚°ãƒ«ãƒ¡ã€ãã—ã¦éš ã‚ŒãŸåæ‰€ã¾ã§...
                        </p>
                        <div className="grid grid-cols-3 gap-4 mb-6 text-sm">
                          <div className="text-center">
                            <div className="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-2">
                              <MapPin className="w-6 h-6 text-blue-600" />
                            </div>
                            <p className="font-medium text-gray-800">15+ã‚¹ãƒãƒƒãƒˆ</p>
                            <p className="text-gray-600">å³é¸ã•ã‚ŒãŸå ´æ‰€</p>
                          </div>
                          <div className="text-center">
                            <div className="w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-2">
                              <Star className="w-6 h-6 text-green-600" />
                            </div>
                            <p className="font-medium text-gray-800">4.8+è©•ä¾¡</p>
                            <p className="text-gray-600">é«˜è©•ä¾¡ã‚¹ãƒãƒƒãƒˆ</p>
                          </div>
                          <div className="text-center">
                            <div className="w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-2">
                              <Clock className="w-6 h-6 text-purple-600" />
                            </div>
                            <p className="font-medium text-gray-800">æœ€é©åŒ–æ¸ˆã¿</p>
                            <p className="text-gray-600">åŠ¹ç‡çš„ãªãƒ«ãƒ¼ãƒˆ</p>
                          </div>
                        </div>
                        <button
                          onClick={handleUpgrade}
                          className="bg-gradient-to-r from-blue-600 to-purple-600 text-white px-8 py-3 rounded-xl hover:from-blue-700 hover:to-purple-700 transition-all font-medium"
                        >
                          å®Œå…¨ãª{limitedPlan.totalDays}æ—¥é–“ã®å†’é™ºã‚’å§‹ã‚ã‚‹
                        </button>
                      </div>
                    </div>
                  )}
                </div>
              </div>

              {!isPremium && limitedPlan && (
                <div className="border-t border-gray-200 pt-4 mt-4">
                  <p className="text-sm text-gray-500 text-center mb-4">
                    ğŸŒ ç¾åœ¨ã€{limitedPlan.totalDays}æ—¥é–“ã®æ—…ç¨‹ã®ã†ã¡ã€æœ€åˆã®2æ—¥é–“ã‚’ãŠæ¥½ã—ã¿ã„ãŸã ã‘ã¾ã™ã€‚
                    {limitedPlan.remainingDays > 0 && `ã•ã‚‰ã«${limitedPlan.remainingDays}æ—¥é–“ã®ç‰¹åˆ¥ãªä½“é¨“ãŒå¾…ã£ã¦ã„ã¾ã™ã€‚`}
                  </p>
                </div>
              )}
              
              <div className="mt-8">
                <button
                  onClick={handleViewPlan}
                  className="w-full flex items-center justify-center space-x-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white py-3 rounded-xl hover:from-purple-700 hover:to-pink-700 transition-all"
                >
                  <Check className="w-5 h-5" />
                  <span>{t('planGeneration.viewPlan')}</span>
                </button>
                
                <button
                  onClick={() => navigate('/dashboard')}
                  className="w-full mt-4 flex items-center justify-center space-x-2 bg-white border-2 border-purple-600 text-purple-600 py-3 rounded-xl hover:bg-purple-50 transition-all"
                >
                  <span>ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã«æˆ»ã‚‹</span>
                </button>
              </div>
            </div>
          </motion.div>
            </>
        )}
      </div>
    </div>
  );
};

export default PlanGeneration;
</file>

<file path="src/pages/PrivacyPolicy.tsx">
import React from 'react';
import { motion } from 'framer-motion';
import { ArrowLeft, FileText } from 'lucide-react';
import { useNavigate } from 'react-router-dom';
import { useLanguage } from '../contexts/LanguageContext';

const PrivacyPolicy: React.FC = () => {
  const navigate = useNavigate();
  const { t } = useLanguage();

  return (
    <div className="min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 pt-24">
      <div className="max-w-4xl mx-auto px-6 py-8">
        {/* Header */}
        <motion.div
          className="flex items-center space-x-4 mb-8"
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ duration: 0.8 }}
        >
          <button
            onClick={() => navigate(-1)}
            className="flex items-center space-x-2 text-gray-600 hover:text-gray-800 transition-colors"
          >
            <ArrowLeft className="w-5 h-5" />
            <span>{t('common.back')}</span>
          </button>
          <div className="flex items-center space-x-3">
            <FileText className="w-8 h-8 text-purple-600" />
            <h1 className="text-3xl font-bold text-gray-800">{t('legal.privacy.title')}</h1>
          </div>
        </motion.div>

        {/* Privacy Policy Content */}
        <motion.div
          className="bg-white rounded-3xl shadow-lg p-8"
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ duration: 0.5, delay: 0.1 }}
        >
          <div className="prose max-w-none">
            <p className="text-sm text-gray-500 mb-6">{t('legal.lastUpdated')}: 2024å¹´1æœˆ1æ—¥</p>

            <h2 className="text-2xl font-bold text-gray-800 mb-4">{t('legal.privacy.article1.title')}</h2>
            <p className="mb-4">
              {t('legal.privacy.article1.content')}
            </p>

            <h2 className="text-2xl font-bold text-gray-800 mb-4">ç¬¬2æ¡ï¼ˆå€‹äººæƒ…å ±ã®åé›†æ–¹æ³•ï¼‰</h2>
            <p className="mb-4">
              å½“ç¤¾ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒåˆ©ç”¨ç™»éŒ²ã‚’ã™ã‚‹éš›ã«æ°åã€ç”Ÿå¹´æœˆæ—¥ã€ä½æ‰€ã€é›»è©±ç•ªå·ã€ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã€éŠ€è¡Œå£åº§ç•ªå·ã€ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰ç•ªå·ã€é‹è»¢å…è¨±è¨¼ç•ªå·ãªã©ã®å€‹äººæƒ…å ±ã‚’ãŠå°‹ã­ã™ã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚ã¾ãŸã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨ææºå…ˆãªã©ã¨ã®é–“ã§ãªã•ã‚ŒãŸãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å€‹äººæƒ…å ±ã‚’å«ã‚€å–å¼•è¨˜éŒ²ã‚„æ±ºæ¸ˆã«é–¢ã™ã‚‹æƒ…å ±ã‚’ã€å½“ç¤¾ã®ææºå…ˆï¼ˆæƒ…å ±æä¾›å…ƒã€åºƒå‘Šä¸»ã€åºƒå‘Šé…ä¿¡å…ˆãªã©ã‚’å«ã¿ã¾ã™ã€‚ä»¥ä¸‹ã€ã€Œææºå…ˆã€ã¨ã„ã„ã¾ã™ã€‚ï¼‰ãªã©ã‹ã‚‰åé›†ã™ã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚
            </p>

            <h2 className="text-2xl font-bold text-gray-800 mb-4">ç¬¬3æ¡ï¼ˆå€‹äººæƒ…å ±ã‚’åé›†ãƒ»åˆ©ç”¨ã™ã‚‹ç›®çš„ï¼‰</h2>
            <p className="mb-4">å½“ç¤¾ãŒå€‹äººæƒ…å ±ã‚’åé›†ãƒ»åˆ©ç”¨ã™ã‚‹ç›®çš„ã¯ã€ä»¥ä¸‹ã®ã¨ãŠã‚Šã§ã™ã€‚</p>
            <ul className="list-disc pl-6 mb-4">
              <li>å½“ç¤¾ã‚µãƒ¼ãƒ“ã‚¹ã®æä¾›ãƒ»é‹å–¶ã®ãŸã‚</li>
              <li>ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰ã®ãŠå•ã„åˆã‚ã›ã«å›ç­”ã™ã‚‹ãŸã‚ï¼ˆæœ¬äººç¢ºèªã‚’è¡Œã†ã“ã¨ã‚’å«ã‚€ï¼‰</li>
              <li>ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒåˆ©ç”¨ä¸­ã®ã‚µãƒ¼ãƒ“ã‚¹ã®æ–°æ©Ÿèƒ½ã€æ›´æ–°æƒ…å ±ã€ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ç­‰åŠã³å½“ç¤¾ãŒæä¾›ã™ã‚‹ä»–ã®ã‚µãƒ¼ãƒ“ã‚¹ã®æ¡ˆå†…ã®ãƒ¡ãƒ¼ãƒ«ã‚’é€ä»˜ã™ã‚‹ãŸã‚</li>
              <li>ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã€é‡è¦ãªãŠçŸ¥ã‚‰ã›ãªã©å¿…è¦ã«å¿œã˜ãŸã”é€£çµ¡ã®ãŸã‚</li>
              <li>åˆ©ç”¨è¦ç´„ã«é•åã—ãŸãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚„ã€ä¸æ­£ãƒ»ä¸å½“ãªç›®çš„ã§ã‚µãƒ¼ãƒ“ã‚¹ã‚’åˆ©ç”¨ã—ã‚ˆã†ã¨ã™ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ç‰¹å®šã‚’ã—ã€ã”åˆ©ç”¨ã‚’ãŠæ–­ã‚Šã™ã‚‹ãŸã‚</li>
              <li>ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã”è‡ªèº«ã®ç™»éŒ²æƒ…å ±ã®é–²è¦§ã‚„å¤‰æ›´ã€å‰Šé™¤ã€ã”åˆ©ç”¨çŠ¶æ³ã®é–²è¦§ã‚’è¡Œã£ã¦ã„ãŸã ããŸã‚</li>
              <li>æœ‰æ–™ã‚µãƒ¼ãƒ“ã‚¹ã«ãŠã„ã¦ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«åˆ©ç”¨æ–™é‡‘ã‚’è«‹æ±‚ã™ã‚‹ãŸã‚</li>
              <li>ä¸Šè¨˜ã®åˆ©ç”¨ç›®çš„ã«ä»˜éšã™ã‚‹ç›®çš„</li>
            </ul>

            <h2 className="text-2xl font-bold text-gray-800 mb-4">ç¬¬4æ¡ï¼ˆåˆ©ç”¨ç›®çš„ã®å¤‰æ›´ï¼‰</h2>
            <p className="mb-4">
              å½“ç¤¾ã¯ã€åˆ©ç”¨ç›®çš„ãŒå¤‰æ›´å‰ã¨é–¢é€£æ€§ã‚’æœ‰ã™ã‚‹ã¨åˆç†çš„ã«èªã‚ã‚‰ã‚Œã‚‹å ´åˆã«é™ã‚Šã€å€‹äººæƒ…å ±ã®åˆ©ç”¨ç›®çš„ã‚’å¤‰æ›´ã™ã‚‹ã‚‚ã®ã¨ã—ã¾ã™ã€‚
            </p>
            <p className="mb-4">
              åˆ©ç”¨ç›®çš„ã®å¤‰æ›´ã‚’è¡Œã£ãŸå ´åˆã«ã¯ã€å¤‰æ›´å¾Œã®ç›®çš„ã«ã¤ã„ã¦ã€å½“ç¤¾æ‰€å®šã®æ–¹æ³•ã«ã‚ˆã‚Šã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«é€šçŸ¥ã—ã€ã¾ãŸã¯æœ¬ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆä¸Šã«å…¬è¡¨ã™ã‚‹ã‚‚ã®ã¨ã—ã¾ã™ã€‚
            </p>

            <h2 className="text-2xl font-bold text-gray-800 mb-4">ç¬¬5æ¡ï¼ˆå€‹äººæƒ…å ±ã®ç¬¬ä¸‰è€…æä¾›ï¼‰</h2>
            <p className="mb-4">
              å½“ç¤¾ã¯ã€æ¬¡ã«æ²ã’ã‚‹å ´åˆã‚’é™¤ã„ã¦ã€ã‚ã‚‰ã‹ã˜ã‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®åŒæ„ã‚’å¾—ã‚‹ã“ã¨ãªãã€ç¬¬ä¸‰è€…ã«å€‹äººæƒ…å ±ã‚’æä¾›ã™ã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ãŸã ã—ã€å€‹äººæƒ…å ±ä¿è­·æ³•ãã®ä»–ã®æ³•ä»¤ã§èªã‚ã‚‰ã‚Œã‚‹å ´åˆã‚’é™¤ãã¾ã™ã€‚
            </p>
            <ul className="list-disc pl-6 mb-4">
              <li>äººã®ç”Ÿå‘½ã€èº«ä½“ã¾ãŸã¯è²¡ç”£ã®ä¿è­·ã®ãŸã‚ã«å¿…è¦ãŒã‚ã‚‹å ´åˆã§ã‚ã£ã¦ã€æœ¬äººã®åŒæ„ã‚’å¾—ã‚‹ã“ã¨ãŒå›°é›£ã§ã‚ã‚‹ã¨ã</li>
              <li>å…¬è¡†è¡›ç”Ÿã®å‘ä¸Šã¾ãŸã¯å…ç«¥ã®å¥å…¨ãªè‚²æˆã®æ¨é€²ã®ãŸã‚ã«ç‰¹ã«å¿…è¦ãŒã‚ã‚‹å ´åˆã§ã‚ã£ã¦ã€æœ¬äººã®åŒæ„ã‚’å¾—ã‚‹ã“ã¨ãŒå›°é›£ã§ã‚ã‚‹ã¨ã</li>
              <li>å›½ã®æ©Ÿé–¢ã‚‚ã—ãã¯åœ°æ–¹å…¬å…±å›£ä½“ã¾ãŸã¯ãã®å§”è¨—ã‚’å—ã‘ãŸè€…ãŒæ³•ä»¤ã®å®šã‚ã‚‹äº‹å‹™ã‚’é‚è¡Œã™ã‚‹ã“ã¨ã«å¯¾ã—ã¦å”åŠ›ã™ã‚‹å¿…è¦ãŒã‚ã‚‹å ´åˆã§ã‚ã£ã¦ã€æœ¬äººã®åŒæ„ã‚’å¾—ã‚‹ã“ã¨ã«ã‚ˆã‚Šå½“è©²äº‹å‹™ã®é‚è¡Œã«æ”¯éšœã‚’åŠã¼ã™ãŠãã‚ŒãŒã‚ã‚‹ã¨ã</li>
              <li>äºˆã‚æ¬¡ã®äº‹é …ã‚’å‘ŠçŸ¥ã‚ã‚‹ã„ã¯å…¬è¡¨ã—ã€ã‹ã¤å½“ç¤¾ãŒå€‹äººæƒ…å ±ä¿è­·å§”å“¡ä¼šã«å±Šå‡ºã‚’ã—ãŸã¨ã</li>
            </ul>

            <h2 className="text-2xl font-bold text-gray-800 mb-4">ç¬¬6æ¡ï¼ˆå€‹äººæƒ…å ±ã®é–‹ç¤ºï¼‰</h2>
            <p className="mb-4">
              å½“ç¤¾ã¯ã€æœ¬äººã‹ã‚‰å€‹äººæƒ…å ±ã®é–‹ç¤ºã‚’æ±‚ã‚ã‚‰ã‚ŒãŸã¨ãã¯ã€æœ¬äººã«å¯¾ã—ã€é…æ»ãªãã“ã‚Œã‚’é–‹ç¤ºã—ã¾ã™ã€‚ãŸã ã—ã€é–‹ç¤ºã™ã‚‹ã“ã¨ã«ã‚ˆã‚Šæ¬¡ã®ã„ãšã‚Œã‹ã«è©²å½“ã™ã‚‹å ´åˆã¯ã€ãã®å…¨éƒ¨ã¾ãŸã¯ä¸€éƒ¨ã‚’é–‹ç¤ºã—ãªã„ã“ã¨ã‚‚ã‚ã‚Šã€é–‹ç¤ºã—ãªã„æ±ºå®šã‚’ã—ãŸå ´åˆã«ã¯ã€ãã®æ—¨ã‚’é…æ»ãªãé€šçŸ¥ã—ã¾ã™ã€‚ãªãŠã€å€‹äººæƒ…å ±ã®é–‹ç¤ºã«éš›ã—ã¦ã¯ã€1ä»¶ã‚ãŸã‚Š1,000å††ã®æ‰‹æ•°æ–™ã‚’ç”³ã—å—ã‘ã¾ã™ã€‚
            </p>

            <h2 className="text-2xl font-bold text-gray-800 mb-4">ç¬¬7æ¡ï¼ˆå€‹äººæƒ…å ±ã®è¨‚æ­£ãŠã‚ˆã³å‰Šé™¤ï¼‰</h2>
            <p className="mb-4">
              ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ã€å½“ç¤¾ã®ä¿æœ‰ã™ã‚‹è‡ªå·±ã®å€‹äººæƒ…å ±ãŒèª¤ã£ãŸæƒ…å ±ã§ã‚ã‚‹å ´åˆã«ã¯ã€å½“ç¤¾ãŒå®šã‚ã‚‹æ‰‹ç¶šãã«ã‚ˆã‚Šã€å½“ç¤¾ã«å¯¾ã—ã¦å€‹äººæƒ…å ±ã®è¨‚æ­£ã€è¿½åŠ ã¾ãŸã¯å‰Šé™¤ï¼ˆä»¥ä¸‹ã€ã€Œè¨‚æ­£ç­‰ã€ã¨ã„ã„ã¾ã™ã€‚ï¼‰ã‚’è«‹æ±‚ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
            </p>
            <p className="mb-4">
              å½“ç¤¾ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰å‰é …ã®è«‹æ±‚ã‚’å—ã‘ã¦ãã®è«‹æ±‚ã«ç†ç”±ãŒã‚ã‚‹ã¨åˆ¤æ–­ã—ãŸå ´åˆã«ã¯ã€é…æ»ãªãã€å½“è©²å€‹äººæƒ…å ±ã®è¨‚æ­£ç­‰ã‚’è¡Œã†ã‚‚ã®ã¨ã—ã¾ã™ã€‚
            </p>

            <h2 className="text-2xl font-bold text-gray-800 mb-4">ç¬¬8æ¡ï¼ˆå€‹äººæƒ…å ±ã®åˆ©ç”¨åœæ­¢ç­‰ï¼‰</h2>
            <p className="mb-4">
              å½“ç¤¾ã¯ã€æœ¬äººã‹ã‚‰ã€å€‹äººæƒ…å ±ãŒã€åˆ©ç”¨ç›®çš„ã®ç¯„å›²ã‚’è¶…ãˆã¦å–ã‚Šæ‰±ã‚ã‚Œã¦ã„ã‚‹ã¨ã„ã†ç†ç”±ã€ã¾ãŸã¯ä¸æ­£ã®æ‰‹æ®µã«ã‚ˆã‚Šå–å¾—ã•ã‚ŒãŸã‚‚ã®ã§ã‚ã‚‹ã¨ã„ã†ç†ç”±ã«ã‚ˆã‚Šã€ãã®åˆ©ç”¨ã®åœæ­¢ã¾ãŸã¯æ¶ˆå»ï¼ˆä»¥ä¸‹ã€ã€Œåˆ©ç”¨åœæ­¢ç­‰ã€ã¨ã„ã„ã¾ã™ã€‚ï¼‰ã‚’æ±‚ã‚ã‚‰ã‚ŒãŸå ´åˆã«ã¯ã€é…æ»ãªãå¿…è¦ãªèª¿æŸ»ã‚’è¡Œã„ã¾ã™ã€‚
            </p>

            <h2 className="text-2xl font-bold text-gray-800 mb-4">ç¬¬9æ¡ï¼ˆãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ã®å¤‰æ›´ï¼‰</h2>
            <p className="mb-4">
              æœ¬ãƒãƒªã‚·ãƒ¼ã®å†…å®¹ã¯ã€æ³•ä»¤ãã®ä»–æœ¬ãƒãƒªã‚·ãƒ¼ã«åˆ¥æ®µã®å®šã‚ã®ã‚ã‚‹äº‹é …ã‚’é™¤ã„ã¦ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«é€šçŸ¥ã™ã‚‹ã“ã¨ãªãã€å¤‰æ›´ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã‚‚ã®ã¨ã—ã¾ã™ã€‚
            </p>
            <p className="mb-4">
              å½“ç¤¾ãŒåˆ¥é€”å®šã‚ã‚‹å ´åˆã‚’é™¤ã„ã¦ã€å¤‰æ›´å¾Œã®ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ã¯ã€æœ¬ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã«æ²è¼‰ã—ãŸã¨ãã‹ã‚‰åŠ¹åŠ›ã‚’ç”Ÿã˜ã‚‹ã‚‚ã®ã¨ã—ã¾ã™ã€‚
            </p>

            <h2 className="text-2xl font-bold text-gray-800 mb-4">ç¬¬10æ¡ï¼ˆãŠå•ã„åˆã‚ã›çª“å£ï¼‰</h2>
            <p className="mb-4">
              æœ¬ãƒãƒªã‚·ãƒ¼ã«é–¢ã™ã‚‹ãŠå•ã„åˆã‚ã›ã¯ã€ä¸‹è¨˜ã®çª“å£ã¾ã§ãŠé¡˜ã„ã„ãŸã—ã¾ã™ã€‚
            </p>
            <div className="bg-gray-50 p-4 rounded-lg">
              <p className="font-semibold">TRIPPINæ ªå¼ä¼šç¤¾</p>
              <p>ä½æ‰€ï¼šã€’100-0001 æ±äº¬éƒ½åƒä»£ç”°åŒºåƒä»£ç”°1-1-1</p>
              <p>ä»£è¡¨è€…ï¼šä»£è¡¨å–ç· å½¹ å±±ç”°å¤ªéƒ</p>
              <p>æ‹…å½“éƒ¨ç½²ï¼šå€‹äººæƒ…å ±ä¿è­·æ‹…å½“</p>
              <p>Eãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ï¼šprivacy@trippin.co.jp</p>
            </div>
          </div>
        </motion.div>
      </div>
    </div>
  );
};

export default PrivacyPolicy;
</file>

<file path="src/pages/ProfileSettings.tsx">
import React, { useState } from 'react';
import { motion } from 'framer-motion';
import { User, Mail, Phone, MapPin, Calendar, Camera, Save, Trash2 } from 'lucide-react';
import { useLanguage } from '../contexts/LanguageContext';
import { useAuth } from '../contexts/AuthContext';

const ProfileSettings: React.FC = () => {
  const { t } = useLanguage();
  const { user } = useAuth();
  const [isEditing, setIsEditing] = useState(false);
  const [profileData, setProfileData] = useState({
    name: user?.name || '',
    email: user?.email || '',
    phone: '',
    location: '',
    birthDate: '',
    bio: '',
    avatar: user?.avatar || '',
    preferences: {
      newsletter: true,
      notifications: true,
      marketing: false
    }
  });

  const handleSave = () => {
    // Save profile data
    setIsEditing(false);
  };

  const handleAvatarChange = (event: React.ChangeEvent<HTMLInputElement>) => {
    const file = event.target.files?.[0];
    if (file) {
      const reader = new FileReader();
      reader.onload = (e) => {
        setProfileData({ ...profileData, avatar: e.target?.result as string });
      };
      reader.readAsDataURL(file);
    }
  };

  return (
    <div className="min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 pt-20">
      <div className="max-w-4xl mx-auto px-6 py-8">
        {/* Header */}
        <motion.div
          className="text-center mb-8"
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ duration: 0.8 }}
        >
          <h1 className="text-4xl font-bold text-gray-800 mb-4">ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«è¨­å®š</h1>
          <p className="text-lg text-gray-600">ã‚ãªãŸã®æƒ…å ±ã‚’ç®¡ç†ã—ã¾ã—ã‚‡ã†</p>
        </motion.div>

        <div className="grid lg:grid-cols-3 gap-8">
          {/* Profile Card */}
          <motion.div
            className="bg-white rounded-3xl shadow-lg p-6"
            initial={{ opacity: 0, x: -20 }}
            animate={{ opacity: 1, x: 0 }}
            transition={{ duration: 0.5, delay: 0.1 }}
          >
            <div className="text-center">
              <div className="relative inline-block mb-4">
                <div className="w-24 h-24 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center text-white text-2xl font-bold">
                  {profileData.avatar ? (
                    <img
                      src={profileData.avatar}
                      alt="Avatar"
                      className="w-24 h-24 rounded-full object-cover"
                    />
                  ) : (
                    profileData.name.charAt(0).toUpperCase()
                  )}
                </div>
                {isEditing && (
                  <label className="absolute bottom-0 right-0 bg-purple-600 text-white p-2 rounded-full cursor-pointer hover:bg-purple-700 transition-colors">
                    <Camera className="w-4 h-4" />
                    <input
                      type="file"
                      accept="image/*"
                      onChange={handleAvatarChange}
                      className="hidden"
                    />
                  </label>
                )}
              </div>
              <h2 className="text-xl font-bold text-gray-800 mb-2">{profileData.name}</h2>
              <p className="text-gray-600 mb-4">{profileData.email}</p>
              <button
                onClick={() => setIsEditing(!isEditing)}
                className="px-6 py-2 bg-purple-600 text-white rounded-xl hover:bg-purple-700 transition-colors"
              >
                {isEditing ? 'ã‚­ãƒ£ãƒ³ã‚»ãƒ«' : 'ç·¨é›†'}
              </button>
            </div>
          </motion.div>

          {/* Profile Form */}
          <div className="lg:col-span-2 space-y-6">
            <motion.div
              className="bg-white rounded-3xl shadow-lg p-6"
              initial={{ opacity: 0, x: 20 }}
              animate={{ opacity: 1, x: 0 }}
              transition={{ duration: 0.5, delay: 0.2 }}
            >
              <h3 className="text-xl font-bold text-gray-800 mb-6">åŸºæœ¬æƒ…å ±</h3>
              
              <div className="grid md:grid-cols-2 gap-6">
                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-2">
                    <User className="w-4 h-4 inline mr-2" />
                    ãŠåå‰
                  </label>
                  <input
                    type="text"
                    value={profileData.name}
                    onChange={(e) => setProfileData({ ...profileData, name: e.target.value })}
                    disabled={!isEditing}
                    className="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:bg-gray-50"
                  />
                </div>

                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-2">
                    <Mail className="w-4 h-4 inline mr-2" />
                    ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹
                  </label>
                  <input
                    type="email"
                    value={profileData.email}
                    onChange={(e) => setProfileData({ ...profileData, email: e.target.value })}
                    disabled={!isEditing}
                    className="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:bg-gray-50"
                  />
                </div>

                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-2">
                    <Phone className="w-4 h-4 inline mr-2" />
                    é›»è©±ç•ªå·
                  </label>
                  <input
                    type="tel"
                    value={profileData.phone}
                    onChange={(e) => setProfileData({ ...profileData, phone: e.target.value })}
                    disabled={!isEditing}
                    className="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:bg-gray-50"
                  />
                </div>

                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-2">
                    <MapPin className="w-4 h-4 inline mr-2" />
                    å±…ä½åœ°
                  </label>
                  <input
                    type="text"
                    value={profileData.location}
                    onChange={(e) => setProfileData({ ...profileData, location: e.target.value })}
                    disabled={!isEditing}
                    className="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:bg-gray-50"
                  />
                </div>

                <div className="md:col-span-2">
                  <label className="block text-sm font-medium text-gray-700 mb-2">
                    <Calendar className="w-4 h-4 inline mr-2" />
                    ç”Ÿå¹´æœˆæ—¥
                  </label>
                  <input
                    type="date"
                    value={profileData.birthDate}
                    onChange={(e) => setProfileData({ ...profileData, birthDate: e.target.value })}
                    disabled={!isEditing}
                    className="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:bg-gray-50"
                  />
                </div>

                <div className="md:col-span-2">
                  <label className="block text-sm font-medium text-gray-700 mb-2">
                    è‡ªå·±ç´¹ä»‹
                  </label>
                  <textarea
                    value={profileData.bio}
                    onChange={(e) => setProfileData({ ...profileData, bio: e.target.value })}
                    disabled={!isEditing}
                    rows={4}
                    className="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:bg-gray-50 resize-none"
                    placeholder="ã‚ãªãŸã«ã¤ã„ã¦æ•™ãˆã¦ãã ã•ã„..."
                  />
                </div>
              </div>
            </motion.div>

            {/* Preferences */}
            <motion.div
              className="bg-white rounded-3xl shadow-lg p-6"
              initial={{ opacity: 0, x: 20 }}
              animate={{ opacity: 1, x: 0 }}
              transition={{ duration: 0.5, delay: 0.3 }}
            >
              <h3 className="text-xl font-bold text-gray-800 mb-6">è¨­å®š</h3>
              
              <div className="space-y-4">
                <label className="flex items-center space-x-3">
                  <input
                    type="checkbox"
                    checked={profileData.preferences.newsletter}
                    onChange={(e) => setProfileData({
                      ...profileData,
                      preferences: { ...profileData.preferences, newsletter: e.target.checked }
                    })}
                    disabled={!isEditing}
                    className="w-5 h-5 text-purple-600 rounded focus:ring-purple-500"
                  />
                  <span className="text-gray-700">ãƒ‹ãƒ¥ãƒ¼ã‚¹ãƒ¬ã‚¿ãƒ¼ã‚’å—ä¿¡ã™ã‚‹</span>
                </label>

                <label className="flex items-center space-x-3">
                  <input
                    type="checkbox"
                    checked={profileData.preferences.notifications}
                    onChange={(e) => setProfileData({
                      ...profileData,
                      preferences: { ...profileData.preferences, notifications: e.target.checked }
                    })}
                    disabled={!isEditing}
                    className="w-5 h-5 text-purple-600 rounded focus:ring-purple-500"
                  />
                  <span className="text-gray-700">ãƒ—ãƒƒã‚·ãƒ¥é€šçŸ¥ã‚’å—ä¿¡ã™ã‚‹</span>
                </label>

                <label className="flex items-center space-x-3">
                  <input
                    type="checkbox"
                    checked={profileData.preferences.marketing}
                    onChange={(e) => setProfileData({
                      ...profileData,
                      preferences: { ...profileData.preferences, marketing: e.target.checked }
                    })}
                    disabled={!isEditing}
                    className="w-5 h-5 text-purple-600 rounded focus:ring-purple-500"
                  />
                  <span className="text-gray-700">ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°ãƒ¡ãƒ¼ãƒ«ã‚’å—ä¿¡ã™ã‚‹</span>
                </label>
              </div>
            </motion.div>

            {/* Action Buttons */}
            {isEditing && (
              <motion.div
                className="flex space-x-4"
                initial={{ opacity: 0, y: 20 }}
                animate={{ opacity: 1, y: 0 }}
                transition={{ duration: 0.3 }}
              >
                <button
                  onClick={handleSave}
                  className="flex-1 flex items-center justify-center space-x-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white py-3 rounded-xl hover:from-purple-700 hover:to-pink-700 transition-all"
                >
                  <Save className="w-5 h-5" />
                  <span>ä¿å­˜</span>
                </button>
                <button className="flex items-center justify-center space-x-2 bg-red-100 text-red-700 px-6 py-3 rounded-xl hover:bg-red-200 transition-colors">
                  <Trash2 className="w-5 h-5" />
                  <span>ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå‰Šé™¤</span>
                </button>
              </motion.div>
            )}
          </div>
        </div>
      </div>
    </div>
  );
};

export default ProfileSettings;
</file>

<file path="src/pages/QuestionnaireFlow.tsx">
import React from 'react';
import { Routes, Route } from 'react-router-dom';
import LanguageSelection from '../components/questionnaire/LanguageSelection';
import BasicInfo from '../components/questionnaire/BasicInfo';
import TravelStyle from '../components/questionnaire/TravelStyle';
import DetailedPreferences from '../components/questionnaire/DetailedPreferences';
import Confirmation from '../components/questionnaire/Confirmation';

const QuestionnaireFlow: React.FC = () => {
  return (
    <div className="min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50">
      <Routes>
        <Route path="/language" element={<LanguageSelection />} />
        <Route path="/basic" element={<BasicInfo />} />
        <Route path="/style" element={<TravelStyle />} />
        <Route path="/details" element={<DetailedPreferences />} />
        <Route path="/confirmation" element={<Confirmation />} />
      </Routes>
    </div>
  );
};

export default QuestionnaireFlow;
</file>

<file path="src/pages/ReviewsRatings.tsx">
import React, { useState, useEffect } from 'react';
import { motion } from 'framer-motion';
import { Star, ThumbsUp, MessageCircle, Camera, Filter, Search } from 'lucide-react';
import { useLanguage } from '../contexts/LanguageContext';

interface Review {
  id: string;
  tripId: string;
  tripTitle: string;
  rating: number;
  title: string;
  content: string;
  author: string;
  date: string;
  likes: number;
  comments: number;
  images: string[];
  tags: string[];
}

const ReviewsRatings: React.FC = () => {
  const { t } = useLanguage();
  const [reviews, setReviews] = useState<Review[]>([]);
  const [filteredReviews, setFilteredReviews] = useState<Review[]>([]);
  const [searchQuery, setSearchQuery] = useState('');
  const [ratingFilter, setRatingFilter] = useState('all');
  const [isLoading, setIsLoading] = useState(true);
  const [showWriteReview, setShowWriteReview] = useState(false);

  useEffect(() => {
    loadReviews();
  }, []);

  useEffect(() => {
    filterReviews();
  }, [searchQuery, ratingFilter, reviews]);

  const loadReviews = async () => {
    try {
      // Mock review data
      const mockReviews: Review[] = [
        {
          id: 'review_1',
          tripId: 'trip_1',
          tripTitle: t('dashboard.springCherryTrip'),
          rating: 5,
          title: t('reviews.sampleReview1.title') || 'æœ€é«˜ã®æ¡œä½“é¨“ã§ã—ãŸï¼',
          content: t('reviews.sampleReview1.content') || 'æµ…è‰å¯ºã‹ã‚‰ä¸Šé‡å…¬åœ’ã¾ã§ã€æ¡œãŒæº€é–‹ã§æœ¬å½“ã«ç¾ã—ã‹ã£ãŸã§ã™ã€‚ç‰¹ã«å¤œæ¡œã®ãƒ©ã‚¤ãƒˆã‚¢ãƒƒãƒ—ã¯æ„Ÿå‹•çš„ã§ã—ãŸã€‚',
          author: t('reviews.sampleReview1.author') || 'ã•ãã‚‰æ„›å¥½å®¶',
          date: '2024-04-15',
          likes: 24,
          comments: 8,
          images: [
            'https://images.pexels.com/photos/2070033/pexels-photo-2070033.jpeg',
            'https://images.pexels.com/photos/161251/senso-ji-temple-asakusa-tokyo-japan-161251.jpeg'
          ],
          tags: [t('reviews.tags.cherry'), t('reviews.tags.spring'), t('reviews.tags.tokyo')]
        },
        {
          id: 'review_2',
          tripId: 'trip_2',
          tripTitle: t('dashboard.osakaGourmetTour'),
          rating: 4,
          title: t('reviews.sampleReview2.title') || 'ãŸã“ç„¼ããŒçµ¶å“ï¼',
          content: t('reviews.sampleReview2.content') || 'é“é “å €ã®ãŸã“ç„¼ãå±‹ã•ã‚“ã‚’å·¡ã‚Šã¾ã—ãŸã€‚ã©ã“ã‚‚ç¾å‘³ã—ãã¦ã€å¤§é˜ªã®é£Ÿæ–‡åŒ–ã‚’æº€å–«ã§ãã¾ã—ãŸã€‚',
          author: t('reviews.sampleReview2.author') || 'ã‚°ãƒ«ãƒ¡æ¢æ¤œå®¶',
          date: '2024-04-10',
          likes: 18,
          comments: 5,
          images: [
            'https://images.pexels.com/photos/2506923/pexels-photo-2506923.jpeg'
          ],
          tags: [t('reviews.tags.gourmet'), t('reviews.tags.osaka'), t('reviews.tags.takoyaki')]
        },
        {
          id: 'review_3',
          tripId: 'trip_3',
          tripTitle: t('reviews.sampleReview3.tripTitle') || 'äº¬éƒ½æ–‡åŒ–ä½“é¨“',
          rating: 5,
          title: t('reviews.sampleReview3.title') || 'ä¼çµ±æ–‡åŒ–ã«è§¦ã‚Œã‚‹ç´ æ™´ã‚‰ã—ã„æ—…',
          content: t('reviews.sampleReview3.content') || 'æ¸…æ°´å¯ºã§ã®æœã®å‚æ‹ã€èŒ¶é“ä½“é¨“ã€ç€ç‰©ãƒ¬ãƒ³ã‚¿ãƒ«ãªã©ã€äº¬éƒ½ã®ä¼çµ±æ–‡åŒ–ã‚’æ·±ãä½“é¨“ã§ãã¾ã—ãŸã€‚',
          author: t('reviews.sampleReview3.author') || 'æ–‡åŒ–æ„›å¥½è€…',
          date: '2024-04-05',
          likes: 32,
          comments: 12,
          images: [],
          tags: [t('reviews.tags.culture'), t('reviews.tags.kyoto'), t('reviews.tags.tradition')]
        }
      ];
      
      setReviews(mockReviews);
    } catch (error) {
      console.error('Failed to load reviews:', error);
    } finally {
      setIsLoading(false);
    }
  };

  const filterReviews = () => {
    let filtered = reviews;

    if (searchQuery) {
      filtered = filtered.filter(review =>
        review.title.toLowerCase().includes(searchQuery.toLowerCase()) ||
        review.content.toLowerCase().includes(searchQuery.toLowerCase()) ||
        review.tripTitle.toLowerCase().includes(searchQuery.toLowerCase())
      );
    }

    if (ratingFilter !== 'all') {
      const rating = parseInt(ratingFilter);
      filtered = filtered.filter(review => review.rating === rating);
    }

    setFilteredReviews(filtered);
  };

  const renderStars = (rating: number) => {
    return Array.from({ length: 5 }, (_, index) => (
      <Star
        key={index}
        className={`w-4 h-4 ${
          index < rating ? 'text-yellow-500 fill-current' : 'text-gray-300'
        }`}
      />
    ));
  };

  const WriteReviewModal = () => (
    <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
      <motion.div
        className="bg-white rounded-3xl p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto"
        initial={{ opacity: 0, scale: 0.9 }}
        animate={{ opacity: 1, scale: 1 }}
        transition={{ duration: 0.3 }}
      >
        <h2 className="text-2xl font-bold text-gray-800 mb-6">{t('reviews.writeReviewModal.title')}</h2>
        
        <div className="space-y-6">
          <div>
            <label className="block text-sm font-medium text-gray-700 mb-2">{t('reviews.writeReviewModal.tripTitle')}</label>
            <input
              type="text"
              placeholder={t('reviews.writeReviewModal.tripTitlePlaceholder')}
              className="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent"
            />
          </div>

          <div>
            <label className="block text-sm font-medium text-gray-700 mb-2">{t('reviews.writeReviewModal.rating')}</label>
            <div className="flex space-x-2">
              {[1, 2, 3, 4, 5].map((star) => (
                <button key={star} className="p-1">
                  <Star className="w-8 h-8 text-gray-300 hover:text-yellow-500 transition-colors" />
                </button>
              ))}
            </div>
          </div>

          <div>
            <label className="block text-sm font-medium text-gray-700 mb-2">{t('reviews.writeReviewModal.reviewTitle')}</label>
            <input
              type="text"
              placeholder={t('reviews.writeReviewModal.reviewTitlePlaceholder')}
              className="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent"
            />
          </div>

          <div>
            <label className="block text-sm font-medium text-gray-700 mb-2">{t('reviews.writeReviewModal.content')}</label>
            <textarea
              rows={6}
              placeholder={t('reviews.writeReviewModal.contentPlaceholder')}
              className="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-none"
            />
          </div>

          <div>
            <label className="block text-sm font-medium text-gray-700 mb-2">{t('reviews.writeReviewModal.addPhotos')}</label>
            <div className="border-2 border-dashed border-gray-300 rounded-xl p-8 text-center">
              <Camera className="w-12 h-12 text-gray-400 mx-auto mb-4" />
              <p className="text-gray-600">{t('reviews.writeReviewModal.addPhotosDescription')}</p>
            </div>
          </div>

          <div className="flex space-x-4">
            <button
              onClick={() => setShowWriteReview(false)}
              className="flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors"
            >
              {t('reviews.writeReviewModal.cancel')}
            </button>
            <button className="flex-1 px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl hover:from-purple-700 hover:to-pink-700 transition-all">
              {t('reviews.writeReviewModal.submit')}
            </button>
          </div>
        </div>
      </motion.div>
    </div>
  );

  if (isLoading) {
    return (
      <div className="min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 pt-20 flex items-center justify-center">
        <div className="text-center">
          <div className="w-16 h-16 border-4 border-purple-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"></div>
          <p className="text-gray-600">{t('loading')}</p>
        </div>
      </div>
    );
  }

  return (
    <div className="min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 pt-20">
      <div className="max-w-4xl mx-auto px-6 py-8">
        {/* Header */}
        <motion.div
          className="text-center mb-8"
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ duration: 0.8 }}
        >
          <h1 className="text-4xl font-bold text-gray-800 mb-4">{t('reviews.title')}</h1>
          <p className="text-lg text-gray-600">{t('reviews.subtitle')}</p>
        </motion.div>

        {/* Search and Filter */}
        <motion.div
          className="bg-white rounded-3xl shadow-lg p-6 mb-8"
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ duration: 0.5, delay: 0.1 }}
        >
          <div className="flex flex-col md:flex-row gap-4">
            <div className="flex-1 relative">
              <Search className="absolute left-3 top-3 w-5 h-5 text-gray-400" />
              <input
                type="text"
                value={searchQuery}
                onChange={(e) => setSearchQuery(e.target.value)}
                placeholder={t('reviews.searchPlaceholder')}
                className="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent"
              />
            </div>
            <select
              value={ratingFilter}
              onChange={(e) => setRatingFilter(e.target.value)}
              className="px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent"
            >
              <option value="all">{t('reviews.allRatings')}</option>
              <option value="5">â˜…â˜…â˜…â˜…â˜… (5)</option>
              <option value="4">â˜…â˜…â˜…â˜…â˜† (4)</option>
              <option value="3">â˜…â˜…â˜…â˜†â˜† (3)</option>
              <option value="2">â˜…â˜…â˜†â˜†â˜† (2)</option>
              <option value="1">â˜…â˜†â˜†â˜†â˜† (1)</option>
            </select>
            <button
              onClick={() => setShowWriteReview(true)}
              className="px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl hover:from-purple-700 hover:to-pink-700 transition-all"
            >
              {t('reviews.writeReview')}
            </button>
          </div>
        </motion.div>

        {/* Reviews List */}
        <div className="space-y-6">
          {filteredReviews.map((review, index) => (
            <motion.div
              key={review.id}
              className="bg-white rounded-3xl shadow-lg p-6"
              initial={{ opacity: 0, y: 20 }}
              animate={{ opacity: 1, y: 0 }}
              transition={{ duration: 0.5, delay: index * 0.1 }}
            >
              <div className="flex items-start justify-between mb-4">
                <div>
                  <h3 className="text-xl font-bold text-gray-800 mb-1">{review.title}</h3>
                  <p className="text-sm text-gray-600 mb-2">{t('reviews.trip')}: {review.tripTitle}</p>
                  <div className="flex items-center space-x-2">
                    <div className="flex">{renderStars(review.rating)}</div>
                    <span className="text-sm text-gray-600">{t('reviews.by')} {review.author}</span>
                    <span className="text-sm text-gray-500">â€¢</span>
                    <span className="text-sm text-gray-500">
                      {new Date(review.date).toLocaleDateString('ja-JP')}
                    </span>
                  </div>
                </div>
              </div>

              <p className="text-gray-700 mb-4 leading-relaxed">{review.content}</p>

              {review.images.length > 0 && (
                <div className="grid grid-cols-2 md:grid-cols-3 gap-4 mb-4">
                  {review.images.map((image, imageIndex) => (
                    <div
                      key={imageIndex}
                      className="h-32 bg-cover bg-center rounded-xl"
                      style={{ backgroundImage: `url(${image})` }}
                    />
                  ))}
                </div>
              )}

              <div className="flex flex-wrap gap-2 mb-4">
                {review.tags.map((tag, tagIndex) => (
                  <span
                    key={tagIndex}
                    className="px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm"
                  >
                    {tag}
                  </span>
                ))}
              </div>

              <div className="flex items-center justify-between">
                <div className="flex items-center space-x-4">
                  <button className="flex items-center space-x-1 text-gray-600 hover:text-purple-600 transition-colors">
                    <ThumbsUp className="w-4 h-4" />
                    <span className="text-sm">{review.likes} {t('reviews.likes')}</span>
                  </button>
                  <button className="flex items-center space-x-1 text-gray-600 hover:text-purple-600 transition-colors">
                    <MessageCircle className="w-4 h-4" />
                    <span className="text-sm">{review.comments} {t('reviews.comments')}</span>
                  </button>
                </div>
              </div>
            </motion.div>
          ))}
        </div>

        {filteredReviews.length === 0 && (
          <motion.div
            className="text-center py-12"
            initial={{ opacity: 0 }}
            animate={{ opacity: 1 }}
            transition={{ duration: 0.5 }}
          >
            <div className="text-6xl mb-4">ğŸ“</div>
            <h3 className="text-xl font-semibold text-gray-800 mb-2">{t('reviews.noResults')}</h3>
            <p className="text-gray-600">{t('reviews.noResultsDescription')}</p>
          </motion.div>
        )}

        {showWriteReview && <WriteReviewModal />}
      </div>
    </div>
  );
};

export default ReviewsRatings;
</file>

<file path="src/pages/TermsOfService.tsx">
import React from 'react';
import { motion } from 'framer-motion';
import { ArrowLeft, FileText } from 'lucide-react';
import { useNavigate } from 'react-router-dom';
import { useLanguage } from '../contexts/LanguageContext';

const TermsOfService: React.FC = () => {
  const navigate = useNavigate();
  const { t } = useLanguage();

  return (
    <div className="min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 pt-20">
      <div className="max-w-4xl mx-auto px-6 py-8">
        {/* Header */}
        <motion.div
          className="flex items-center space-x-4 mb-8"
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ duration: 0.8 }}
        >
          <button
            onClick={() => navigate(-1)}
            className="flex items-center space-x-2 text-gray-600 hover:text-gray-800 transition-colors"
          >
            <ArrowLeft className="w-5 h-5" />
            <span>æˆ»ã‚‹</span>
          </button>
          <div className="flex items-center space-x-3">
            <FileText className="w-8 h-8 text-purple-600" />
            <h1 className="text-3xl font-bold text-gray-800">{t('legal.terms.title')}</h1>
          </div>
        </motion.div>

        {/* Terms Content */}
        <motion.div
          className="bg-white rounded-3xl shadow-lg p-8"
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ duration: 0.5, delay: 0.1 }}
        >
          <div className="prose max-w-none">
            <p className="text-sm text-gray-500 mb-6">{t('legal.lastUpdated')}: 2024å¹´1æœˆ1æ—¥</p>

            <h2 className="text-2xl font-bold text-gray-800 mb-4">{t('legal.terms.article1.title')}</h2>
            <p className="mb-4">
              {t('legal.terms.article1.content')}
            </p>

            <h2 className="text-2xl font-bold text-gray-800 mb-4">ç¬¬2æ¡ï¼ˆåˆ©ç”¨ç™»éŒ²ï¼‰</h2>
            <p className="mb-4">
              æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã«ãŠã„ã¦ã¯ã€ç™»éŒ²å¸Œæœ›è€…ãŒæœ¬è¦ç´„ã«åŒæ„ã®ä¸Šã€å½“ç¤¾ã®å®šã‚ã‚‹æ–¹æ³•ã«ã‚ˆã£ã¦åˆ©ç”¨ç™»éŒ²ã‚’ç”³è«‹ã—ã€å½“ç¤¾ãŒã“ã‚Œã‚’æ‰¿èªã™ã‚‹ã“ã¨ã«ã‚ˆã£ã¦ã€åˆ©ç”¨ç™»éŒ²ãŒå®Œäº†ã™ã‚‹ã‚‚ã®ã¨ã—ã¾ã™ã€‚
            </p>
            <p className="mb-4">
              å½“ç¤¾ã¯ã€åˆ©ç”¨ç™»éŒ²ã®ç”³è«‹è€…ã«ä»¥ä¸‹ã®äº‹ç”±ãŒã‚ã‚‹ã¨åˆ¤æ–­ã—ãŸå ´åˆã€åˆ©ç”¨ç™»éŒ²ã®ç”³è«‹ã‚’æ‰¿èªã—ãªã„ã“ã¨ãŒã‚ã‚Šã€ãã®ç†ç”±ã«ã¤ã„ã¦ã¯ä¸€åˆ‡ã®é–‹ç¤ºç¾©å‹™ã‚’è² ã‚ãªã„ã‚‚ã®ã¨ã—ã¾ã™ã€‚
            </p>
            <ul className="list-disc pl-6 mb-4">
              <li>åˆ©ç”¨ç™»éŒ²ã®ç”³è«‹ã«éš›ã—ã¦è™šå½ã®äº‹é …ã‚’å±Šã‘å‡ºãŸå ´åˆ</li>
              <li>æœ¬è¦ç´„ã«é•åã—ãŸã“ã¨ãŒã‚ã‚‹è€…ã‹ã‚‰ã®ç”³è«‹ã§ã‚ã‚‹å ´åˆ</li>
              <li>ãã®ä»–ã€å½“ç¤¾ãŒåˆ©ç”¨ç™»éŒ²ã‚’ç›¸å½“ã§ãªã„ã¨åˆ¤æ–­ã—ãŸå ´åˆ</li>
            </ul>

            <h2 className="text-2xl font-bold text-gray-800 mb-4">ç¬¬3æ¡ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼IDãŠã‚ˆã³ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã®ç®¡ç†ï¼‰</h2>
            <p className="mb-4">
              ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ã€è‡ªå·±ã®è²¬ä»»ã«ãŠã„ã¦ã€æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼IDãŠã‚ˆã³ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’é©åˆ‡ã«ç®¡ç†ã™ã‚‹ã‚‚ã®ã¨ã—ã¾ã™ã€‚
            </p>
            <p className="mb-4">
              ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ã€ã„ã‹ãªã‚‹å ´åˆã«ã‚‚ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼IDãŠã‚ˆã³ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’ç¬¬ä¸‰è€…ã«è­²æ¸¡ã¾ãŸã¯è²¸ä¸ã—ã€ã‚‚ã—ãã¯ç¬¬ä¸‰è€…ã¨å…±ç”¨ã™ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚å½“ç¤¾ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼IDã¨ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã®çµ„ã¿åˆã‚ã›ãŒç™»éŒ²æƒ…å ±ã¨ä¸€è‡´ã—ã¦ãƒ­ã‚°ã‚¤ãƒ³ã•ã‚ŒãŸå ´åˆã«ã¯ã€ãã®ãƒ¦ãƒ¼ã‚¶ãƒ¼IDã‚’ç™»éŒ²ã—ã¦ã„ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼è‡ªèº«ã«ã‚ˆã‚‹åˆ©ç”¨ã¨ã¿ãªã—ã¾ã™ã€‚
            </p>

            <h2 className="text-2xl font-bold text-gray-800 mb-4">ç¬¬4æ¡ï¼ˆæ–™é‡‘ãŠã‚ˆã³æ”¯æ‰•æ–¹æ³•ï¼‰</h2>
            <p className="mb-4">
              ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ã€æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã®æœ‰æ–™éƒ¨åˆ†ã®å¯¾ä¾¡ã¨ã—ã¦ã€å½“ç¤¾ãŒåˆ¥é€”å®šã‚ã€æœ¬ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã«è¡¨ç¤ºã™ã‚‹åˆ©ç”¨æ–™é‡‘ã‚’ã€å½“ç¤¾ãŒæŒ‡å®šã™ã‚‹æ–¹æ³•ã«ã‚ˆã‚Šæ”¯æ‰•ã†ã‚‚ã®ã¨ã—ã¾ã™ã€‚
            </p>
            <p className="mb-4">
              ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒåˆ©ç”¨æ–™é‡‘ã®æ”¯æ‰•ã‚’é…æ»ã—ãŸå ´åˆã«ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯å¹´14.6ï¼…ã®å‰²åˆã«ã‚ˆã‚‹é…å»¶æå®³é‡‘ã‚’æ”¯æ‰•ã†ã‚‚ã®ã¨ã—ã¾ã™ã€‚
            </p>

            <h2 className="text-2xl font-bold text-gray-800 mb-4">ç¬¬5æ¡ï¼ˆç¦æ­¢äº‹é …ï¼‰</h2>
            <p className="mb-4">
              ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ã€æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã®åˆ©ç”¨ã«ã‚ãŸã‚Šã€ä»¥ä¸‹ã®è¡Œç‚ºã‚’ã—ã¦ã¯ãªã‚Šã¾ã›ã‚“ã€‚
            </p>
            <ul className="list-disc pl-6 mb-4">
              <li>æ³•ä»¤ã¾ãŸã¯å…¬åºè‰¯ä¿—ã«é•åã™ã‚‹è¡Œç‚º</li>
              <li>çŠ¯ç½ªè¡Œç‚ºã«é–¢é€£ã™ã‚‹è¡Œç‚º</li>
              <li>æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã®å†…å®¹ç­‰ã€æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã«å«ã¾ã‚Œã‚‹è‘—ä½œæ¨©ã€å•†æ¨™æ¨©ã»ã‹çŸ¥çš„è²¡ç”£æ¨©ã‚’ä¾µå®³ã™ã‚‹è¡Œç‚º</li>
              <li>å½“ç¤¾ã€ã»ã‹ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã€ã¾ãŸã¯ãã®ä»–ç¬¬ä¸‰è€…ã®ã‚µãƒ¼ãƒãƒ¼ã¾ãŸã¯ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã®æ©Ÿèƒ½ã‚’ç ´å£Šã—ãŸã‚Šã€å¦¨å®³ã—ãŸã‚Šã™ã‚‹è¡Œç‚º</li>
              <li>æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã«ã‚ˆã£ã¦å¾—ã‚‰ã‚ŒãŸæƒ…å ±ã‚’å•†æ¥­çš„ã«åˆ©ç”¨ã™ã‚‹è¡Œç‚º</li>
              <li>å½“ç¤¾ã®ã‚µãƒ¼ãƒ“ã‚¹ã®é‹å–¶ã‚’å¦¨å®³ã™ã‚‹ãŠãã‚Œã®ã‚ã‚‹è¡Œç‚º</li>
              <li>ä¸æ­£ã‚¢ã‚¯ã‚»ã‚¹ã‚’ã—ã€ã¾ãŸã¯ã“ã‚Œã‚’è©¦ã¿ã‚‹è¡Œç‚º</li>
              <li>ä»–ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«é–¢ã™ã‚‹å€‹äººæƒ…å ±ç­‰ã‚’åé›†ã¾ãŸã¯è“„ç©ã™ã‚‹è¡Œç‚º</li>
              <li>ä¸æ­£ãªç›®çš„ã‚’æŒã£ã¦æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã‚’åˆ©ç”¨ã™ã‚‹è¡Œç‚º</li>
              <li>æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã®ä»–ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¾ãŸã¯ãã®ä»–ã®ç¬¬ä¸‰è€…ã«ä¸åˆ©ç›Šã€æå®³ã€ä¸å¿«æ„Ÿã‚’ä¸ãˆã‚‹è¡Œç‚º</li>
              <li>ä»–ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«æˆã‚Šã™ã¾ã™è¡Œç‚º</li>
              <li>å½“ç¤¾ãŒè¨±è«¾ã—ãªã„æœ¬ã‚µãƒ¼ãƒ“ã‚¹ä¸Šã§ã®å®£ä¼ã€åºƒå‘Šã€å‹§èª˜ã€ã¾ãŸã¯å–¶æ¥­è¡Œç‚º</li>
              <li>é¢è­˜ã®ãªã„ç•°æ€§ã¨ã®å‡ºä¼šã„ã‚’ç›®çš„ã¨ã—ãŸè¡Œç‚º</li>
              <li>å½“ç¤¾ã®ã‚µãƒ¼ãƒ“ã‚¹ã«é–¢é€£ã—ã¦ã€åç¤¾ä¼šçš„å‹¢åŠ›ã«å¯¾ã—ã¦ç›´æ¥ã¾ãŸã¯é–“æ¥ã«åˆ©ç›Šã‚’ä¾›ä¸ã™ã‚‹è¡Œç‚º</li>
              <li>ãã®ä»–ã€å½“ç¤¾ãŒä¸é©åˆ‡ã¨åˆ¤æ–­ã™ã‚‹è¡Œç‚º</li>
            </ul>

            <h2 className="text-2xl font-bold text-gray-800 mb-4">ç¬¬6æ¡ï¼ˆæœ¬ã‚µãƒ¼ãƒ“ã‚¹ã®æä¾›ã®åœæ­¢ç­‰ï¼‰</h2>
            <p className="mb-4">
              å½“ç¤¾ã¯ã€ä»¥ä¸‹ã®ã„ãšã‚Œã‹ã®äº‹ç”±ãŒã‚ã‚‹ã¨åˆ¤æ–­ã—ãŸå ´åˆã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«äº‹å‰ã«é€šçŸ¥ã™ã‚‹ã“ã¨ãªãæœ¬ã‚µãƒ¼ãƒ“ã‚¹ã®å…¨éƒ¨ã¾ãŸã¯ä¸€éƒ¨ã®æä¾›ã‚’åœæ­¢ã¾ãŸã¯ä¸­æ–­ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã‚‚ã®ã¨ã—ã¾ã™ã€‚
            </p>
            <ul className="list-disc pl-6 mb-4">
              <li>æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã«ã‹ã‹ã‚‹ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã‚·ã‚¹ãƒ†ãƒ ã®ä¿å®ˆç‚¹æ¤œã¾ãŸã¯æ›´æ–°ã‚’è¡Œã†å ´åˆ</li>
              <li>åœ°éœ‡ã€è½é›·ã€ç«ç½ã€åœé›»ã¾ãŸã¯å¤©ç½ãªã©ã®ä¸å¯æŠ—åŠ›ã«ã‚ˆã‚Šã€æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã®æä¾›ãŒå›°é›£ã¨ãªã£ãŸå ´åˆ</li>
              <li>ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã¾ãŸã¯é€šä¿¡å›ç·šç­‰ãŒäº‹æ•…ã«ã‚ˆã‚Šåœæ­¢ã—ãŸå ´åˆ</li>
              <li>ãã®ä»–ã€å½“ç¤¾ãŒæœ¬ã‚µãƒ¼ãƒ“ã‚¹ã®æä¾›ãŒå›°é›£ã¨åˆ¤æ–­ã—ãŸå ´åˆ</li>
            </ul>

            <h2 className="text-2xl font-bold text-gray-800 mb-4">ç¬¬7æ¡ï¼ˆåˆ©ç”¨åˆ¶é™ãŠã‚ˆã³ç™»éŒ²æŠ¹æ¶ˆï¼‰</h2>
            <p className="mb-4">
              å½“ç¤¾ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒä»¥ä¸‹ã®ã„ãšã‚Œã‹ã«è©²å½“ã™ã‚‹å ´åˆã«ã¯ã€äº‹å‰ã®é€šçŸ¥ãªãã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«å¯¾ã—ã¦ã€æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã®å…¨éƒ¨ã‚‚ã—ãã¯ä¸€éƒ¨ã®åˆ©ç”¨ã‚’åˆ¶é™ã—ã€ã¾ãŸã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨ã—ã¦ã®ç™»éŒ²ã‚’æŠ¹æ¶ˆã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã‚‚ã®ã¨ã—ã¾ã™ã€‚
            </p>
            <ul className="list-disc pl-6 mb-4">
              <li>æœ¬è¦ç´„ã®ã„ãšã‚Œã‹ã®æ¡é …ã«é•åã—ãŸå ´åˆ</li>
              <li>ç™»éŒ²äº‹é …ã«è™šå½ã®äº‹å®ŸãŒã‚ã‚‹ã“ã¨ãŒåˆ¤æ˜ã—ãŸå ´åˆ</li>
              <li>æ–™é‡‘ç­‰ã®æ”¯æ‰•å‚µå‹™ã®ä¸å±¥è¡ŒãŒã‚ã£ãŸå ´åˆ</li>
              <li>å½“ç¤¾ã‹ã‚‰ã®é€£çµ¡ã«å¯¾ã—ã€ä¸€å®šæœŸé–“è¿”ç­”ãŒãªã„å ´åˆ</li>
              <li>æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã«ã¤ã„ã¦ã€æœ€çµ‚ã®åˆ©ç”¨ã‹ã‚‰ä¸€å®šæœŸé–“åˆ©ç”¨ãŒãªã„å ´åˆ</li>
              <li>ãã®ä»–ã€å½“ç¤¾ãŒæœ¬ã‚µãƒ¼ãƒ“ã‚¹ã®åˆ©ç”¨ã‚’é©å½“ã§ãªã„ã¨åˆ¤æ–­ã—ãŸå ´åˆ</li>
            </ul>

            <h2 className="text-2xl font-bold text-gray-800 mb-4">ç¬¬8æ¡ï¼ˆé€€ä¼šï¼‰</h2>
            <p className="mb-4">
              ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ã€å½“ç¤¾ã®å®šã‚ã‚‹é€€ä¼šæ‰‹ç¶šã«ã‚ˆã‚Šã€æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã‹ã‚‰é€€ä¼šã§ãã‚‹ã‚‚ã®ã¨ã—ã¾ã™ã€‚
            </p>

            <h2 className="text-2xl font-bold text-gray-800 mb-4">ç¬¬9æ¡ï¼ˆä¿è¨¼ã®å¦èªãŠã‚ˆã³å…è²¬äº‹é …ï¼‰</h2>
            <p className="mb-4">
              å½“ç¤¾ã¯ã€æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã«äº‹å®Ÿä¸Šã¾ãŸã¯æ³•å¾‹ä¸Šã®ç‘•ç–µï¼ˆå®‰å…¨æ€§ã€ä¿¡é ¼æ€§ã€æ­£ç¢ºæ€§ã€å®Œå…¨æ€§ã€æœ‰åŠ¹æ€§ã€ç‰¹å®šã®ç›®çš„ã¸ã®é©åˆæ€§ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãªã©ã«é–¢ã™ã‚‹æ¬ é™¥ã€ã‚¨ãƒ©ãƒ¼ã‚„ãƒã‚°ã€æ¨©åˆ©ä¾µå®³ãªã©ã‚’å«ã¿ã¾ã™ã€‚ï¼‰ãŒãªã„ã“ã¨ã‚’æ˜ç¤ºçš„ã«ã‚‚é»™ç¤ºçš„ã«ã‚‚ä¿è¨¼ã—ã¦ãŠã‚Šã¾ã›ã‚“ã€‚
            </p>
            <p className="mb-4">
              å½“ç¤¾ã¯ã€æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã«èµ·å› ã—ã¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ç”Ÿã˜ãŸã‚ã‚‰ã‚†ã‚‹æå®³ã«ã¤ã„ã¦ä¸€åˆ‡ã®è²¬ä»»ã‚’è² ã„ã¾ã›ã‚“ã€‚ãŸã ã—ã€æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã«é–¢ã™ã‚‹å½“ç¤¾ã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨ã®é–“ã®å¥‘ç´„ï¼ˆæœ¬è¦ç´„ã‚’å«ã¿ã¾ã™ã€‚ï¼‰ãŒæ¶ˆè²»è€…å¥‘ç´„æ³•ã«å®šã‚ã‚‹æ¶ˆè²»è€…å¥‘ç´„ã¨ãªã‚‹å ´åˆã€ã“ã®å…è²¬è¦å®šã¯é©ç”¨ã•ã‚Œã¾ã›ã‚“ã€‚
            </p>

            <h2 className="text-2xl font-bold text-gray-800 mb-4">ç¬¬10æ¡ï¼ˆã‚µãƒ¼ãƒ“ã‚¹å†…å®¹ã®å¤‰æ›´ç­‰ï¼‰</h2>
            <p className="mb-4">
              å½“ç¤¾ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«é€šçŸ¥ã™ã‚‹ã“ã¨ãªãã€æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã®å†…å®¹ã‚’å¤‰æ›´ã—ã¾ãŸã¯æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã®æä¾›ã‚’ä¸­æ­¢ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã‚‚ã®ã¨ã—ã€ã“ã‚Œã«ã‚ˆã£ã¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ç”Ÿã˜ãŸæå®³ã«ã¤ã„ã¦ä¸€åˆ‡ã®è²¬ä»»ã‚’è² ã„ã¾ã›ã‚“ã€‚
            </p>

            <h2 className="text-2xl font-bold text-gray-800 mb-4">ç¬¬11æ¡ï¼ˆåˆ©ç”¨è¦ç´„ã®å¤‰æ›´ï¼‰</h2>
            <p className="mb-4">
              å½“ç¤¾ã¯ã€å¿…è¦ã¨åˆ¤æ–­ã—ãŸå ´åˆã«ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«é€šçŸ¥ã™ã‚‹ã“ã¨ãªãã„ã¤ã§ã‚‚æœ¬è¦ç´„ã‚’å¤‰æ›´ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã‚‚ã®ã¨ã—ã¾ã™ã€‚ãªãŠã€æœ¬è¦ç´„ã®å¤‰æ›´å¾Œã€æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã®åˆ©ç”¨ã‚’é–‹å§‹ã—ãŸå ´åˆã«ã¯ã€å½“è©²ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯å¤‰æ›´å¾Œã®è¦ç´„ã«åŒæ„ã—ãŸã‚‚ã®ã¨ã¿ãªã—ã¾ã™ã€‚
            </p>

            <h2 className="text-2xl font-bold text-gray-800 mb-4">ç¬¬12æ¡ï¼ˆå€‹äººæƒ…å ±ã®å–æ‰±ã„ï¼‰</h2>
            <p className="mb-4">
              å½“ç¤¾ã¯ã€æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã®åˆ©ç”¨ã«ã‚ˆã£ã¦å–å¾—ã™ã‚‹å€‹äººæƒ…å ±ã«ã¤ã„ã¦ã¯ã€å½“ç¤¾ã€Œãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ã€ã«å¾“ã„é©åˆ‡ã«å–ã‚Šæ‰±ã†ã‚‚ã®ã¨ã—ã¾ã™ã€‚
            </p>

            <h2 className="text-2xl font-bold text-gray-800 mb-4">ç¬¬13æ¡ï¼ˆé€šçŸ¥ã¾ãŸã¯é€£çµ¡ï¼‰</h2>
            <p className="mb-4">
              ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨å½“ç¤¾ã¨ã®é–“ã®é€šçŸ¥ã¾ãŸã¯é€£çµ¡ã¯ã€å½“ç¤¾ã®å®šã‚ã‚‹æ–¹æ³•ã«ã‚ˆã£ã¦è¡Œã†ã‚‚ã®ã¨ã—ã¾ã™ã€‚å½“ç¤¾ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰ã€å½“ç¤¾ãŒåˆ¥é€”å®šã‚ã‚‹æ–¹å¼ã«å¾“ã£ãŸå¤‰æ›´å±Šã‘å‡ºãŒãªã„é™ã‚Šã€ç¾åœ¨ç™»éŒ²ã•ã‚Œã¦ã„ã‚‹é€£çµ¡å…ˆãŒæœ‰åŠ¹ãªã‚‚ã®ã¨ã¿ãªã—ã¦å½“è©²é€£çµ¡å…ˆã¸é€šçŸ¥ã¾ãŸã¯é€£çµ¡ã‚’è¡Œã„ã€ã“ã‚Œã‚‰ã¯ã€ç™ºä¿¡æ™‚ã«ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¸åˆ°é”ã—ãŸã‚‚ã®ã¨ã¿ãªã—ã¾ã™ã€‚
            </p>

            <h2 className="text-2xl font-bold text-gray-800 mb-4">ç¬¬14æ¡ï¼ˆæ¨©åˆ©ç¾©å‹™ã®è­²æ¸¡ã®ç¦æ­¢ï¼‰</h2>
            <p className="mb-4">
              ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ã€å½“ç¤¾ã®æ›¸é¢ã«ã‚ˆã‚‹äº‹å‰ã®æ‰¿è«¾ãªãã€åˆ©ç”¨å¥‘ç´„ä¸Šã®åœ°ä½ã¾ãŸã¯æœ¬è¦ç´„ã«åŸºã¥ãæ¨©åˆ©ã‚‚ã—ãã¯ç¾©å‹™ã‚’ç¬¬ä¸‰è€…ã«è­²æ¸¡ã—ã€ã¾ãŸã¯æ‹…ä¿ã«ä¾›ã™ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚
            </p>

            <h2 className="text-2xl font-bold text-gray-800 mb-4">ç¬¬15æ¡ï¼ˆæº–æ‹ æ³•ãƒ»è£åˆ¤ç®¡è½„ï¼‰</h2>
            <p className="mb-4">
              æœ¬è¦ç´„ã®è§£é‡ˆã«ã‚ãŸã£ã¦ã¯ã€æ—¥æœ¬æ³•ã‚’æº–æ‹ æ³•ã¨ã—ã¾ã™ã€‚
            </p>
            <p className="mb-4">
              æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã«é–¢ã—ã¦ç´›äº‰ãŒç”Ÿã˜ãŸå ´åˆã«ã¯ã€å½“ç¤¾ã®æœ¬åº—æ‰€åœ¨åœ°ã‚’ç®¡è½„ã™ã‚‹è£åˆ¤æ‰€ã‚’å°‚å±çš„åˆæ„ç®¡è½„ã¨ã—ã¾ã™ã€‚
            </p>

            <div className="mt-8 p-4 bg-gray-50 rounded-lg">
              <p className="text-sm text-gray-600">
                ä»¥ä¸Š
              </p>
              <p className="text-sm text-gray-600 mt-2">
                TRIPPINæ ªå¼ä¼šç¤¾<br />
                åˆ¶å®šæ—¥ï¼š2024å¹´1æœˆ1æ—¥
              </p>
            </div>
          </div>
        </motion.div>
      </div>
    </div>
  );
};

export default TermsOfService;
</file>

<file path="src/pages/TranslationTool.tsx">
import React, { useState, useRef } from 'react';
import { motion, AnimatePresence } from 'framer-motion';
import { Languages, Camera, Upload, Mic, Volume2, Copy, X, Loader, ArrowRight } from 'lucide-react';
import { useLanguage } from '../contexts/LanguageContext';
import { apiCall, API_CONFIG, APIError } from '../config/api';
import { handleAWSError, globalErrorHandler } from '../utils/errorHandler';
import MockDataNotice from '../components/MockDataNotice';

const TranslationTool: React.FC = () => {
  const { t, currentLanguage } = useLanguage();
  const [mode, setMode] = useState<'text' | 'voice' | 'camera'>('text');
  const [inputText, setInputText] = useState('');
  const [translatedText, setTranslatedText] = useState('');
  const [sourceLanguage, setSourceLanguage] = useState('ja');
  const [targetLanguage, setTargetLanguage] = useState('en');
  const [isTranslating, setIsTranslating] = useState(false);
  const [imageFile, setImageFile] = useState<File | null>(null);
  const [imagePreview, setImagePreview] = useState<string | null>(null);
  const [isRecording, setIsRecording] = useState(false);
  const [showMockNotice, setShowMockNotice] = useState(false);
  const fileInputRef = useRef<HTMLInputElement>(null);

  const languages = [
    { code: 'ja', name: 'æ—¥æœ¬èª', flag: 'ğŸ‡¯ğŸ‡µ' },
    { code: 'en', name: 'English', flag: 'ğŸ‡ºğŸ‡¸' },
    { code: 'zh', name: 'ä¸­æ–‡', flag: 'ğŸ‡¨ğŸ‡³' },
    { code: 'ko', name: 'í•œêµ­ì–´', flag: 'ğŸ‡°ğŸ‡·' },
    { code: 'es', name: 'EspaÃ±ol', flag: 'ğŸ‡ªğŸ‡¸' },
    { code: 'fr', name: 'FranÃ§ais', flag: 'ğŸ‡«ğŸ‡·' },
    { code: 'hi', name: 'à¤¹à¤¿à¤¨à¥à¤¦à¥€', flag: 'ğŸ‡®ğŸ‡³' },
    { code: 'ru', name: 'Ğ ÑƒÑÑĞºĞ¸Ğ¹', flag: 'ğŸ‡·ğŸ‡º' },
    { code: 'ar', name: 'Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©', flag: 'ğŸ‡¸ğŸ‡¦' },
    { code: 'id', name: 'Bahasa Indonesia', flag: 'ğŸ‡®ğŸ‡©' },
    { code: 'pt', name: 'PortuguÃªs', flag: 'ğŸ‡µğŸ‡¹' },
    { code: 'th', name: 'à¹„à¸—à¸¢', flag: 'ğŸ‡¹ğŸ‡­' },
    { code: 'vi', name: 'Tiáº¿ng Viá»‡t', flag: 'ğŸ‡»ğŸ‡³' },
    { code: 'it', name: 'Italiano', flag: 'ğŸ‡®ğŸ‡¹' }
  ];

  const handleTextTranslate = async () => {
    if (!inputText.trim()) return;
    
    setIsTranslating(true);
    try {
      const result = await apiCall('/openai-chat', {
        method: 'POST',
        body: JSON.stringify({
          message: `Translate this text from ${sourceLanguage} to ${targetLanguage}: ${inputText}`,
          language: targetLanguage,
          context: 'translation'
        })
      });

      if (result.success && result.response) {
        if (result.isMockData) {
          setShowMockNotice(true);
        }
        setTranslatedText(result.response);
      } else {
        throw new Error(result.message || 'ç¿»è¨³ã«å¤±æ•—ã—ã¾ã—ãŸ');
      }
    } catch (error) {
      const apiError = error as APIError;
      globalErrorHandler.handleError(apiError, {
        page: 'TranslationTool',
        action: 'textTranslate',
        userAgent: navigator.userAgent,
        url: window.location.href
      });
      
      console.error('Translation error:', apiError);
      setTranslatedText('ç¿»è¨³ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„ã€‚');
    } finally {
      setIsTranslating(false);
    }
  };

  const handleImageUpload = (event: React.ChangeEvent<HTMLInputElement>) => {
    const file = event.target.files?.[0];
    if (file) {
      setImageFile(file);
      
      const reader = new FileReader();
      reader.onload = (e) => {
        setImagePreview(e.target?.result as string);
      };
      reader.readAsDataURL(file);
    }
  };

  const handleImageTranslate = async () => {
    if (!imageFile) return;
    
    setIsTranslating(true);
    try {
      const base64Image = await fileToBase64(imageFile);
      
      const result = await apiCall('/openai-vision', {
        method: 'POST',
        body: JSON.stringify({
          image: base64Image,
          sourceLanguage,
          targetLanguage
        })
      });
      
      if (result.success && result.translation) {
        if (result.isMockData) {
          setShowMockNotice(true);
        }
        setTranslatedText(result.translation);
      } else {
        throw new Error(result.message || 'ç”»åƒç¿»è¨³ã«å¤±æ•—ã—ã¾ã—ãŸ');
      }
    } catch (error) {
      const apiError = error as APIError;
      globalErrorHandler.handleError(apiError, {
        page: 'TranslationTool',
        action: 'imageTranslate',
        userAgent: navigator.userAgent,
        url: window.location.href
      });
      
      console.error('Image translation error:', apiError);
      setTranslatedText('ç”»åƒç¿»è¨³ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„ã€‚');
    } finally {
      setIsTranslating(false);
    }
  };

  const fileToBase64 = (file: File): Promise<string> => {
    return new Promise((resolve, reject) => {
      const reader = new FileReader();
      reader.readAsDataURL(file);
      reader.onload = () => {
        const base64String = reader.result as string;
        const base64Content = base64String.split(',')[1];
        resolve(base64Content);
      };
      reader.onerror = error => reject(error);
    });
  };

  const copyToClipboard = () => {
    navigator.clipboard.writeText(translatedText);
  };

  const swapLanguages = () => {
    setSourceLanguage(targetLanguage);
    setTargetLanguage(sourceLanguage);
    setInputText(translatedText);
    setTranslatedText(inputText);
  };

  return (
    <div className="min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 pt-20">
      <div className="max-w-4xl mx-auto px-6 py-8">
        {/* Header */}
        <motion.div
          className="text-center mb-8"
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ duration: 0.8 }}
        >
          <h1 className="text-4xl font-bold text-gray-800 mb-4">{t('translation.title')}</h1>
          <p className="text-lg text-gray-600">{t('translation.subtitle')}</p>
        </motion.div>

        {/* Mock Data Notice */}
        {showMockNotice && (
          <MockDataNotice 
            onRetry={() => setShowMockNotice(false)}
            className="max-w-4xl mx-auto mb-4"
          />
        )}

        {/* Mode Selection */}
        <motion.div
          className="bg-white rounded-3xl shadow-lg p-6 mb-8"
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ duration: 0.5, delay: 0.1 }}
        >
          <div className="flex justify-center space-x-4">
            <button
              onClick={() => setMode('text')}
              className={`flex items-center space-x-2 px-6 py-3 rounded-xl font-medium transition-all ${
                mode === 'text'
                  ? 'bg-purple-600 text-white'
                  : 'bg-gray-100 text-gray-600 hover:bg-purple-100'
              }`}
            >
              <Languages className="w-5 h-5" />
              <span>ãƒ†ã‚­ã‚¹ãƒˆç¿»è¨³</span>
            </button>
            <button
              onClick={() => setMode('voice')}
              className={`flex items-center space-x-2 px-6 py-3 rounded-xl font-medium transition-all ${
                mode === 'voice'
                  ? 'bg-purple-600 text-white'
                  : 'bg-gray-100 text-gray-600 hover:bg-purple-100'
              }`}
            >
              <Mic className="w-5 h-5" />
              <span>éŸ³å£°ç¿»è¨³</span>
            </button>
            <button
              onClick={() => setMode('camera')}
              className={`flex items-center space-x-2 px-6 py-3 rounded-xl font-medium transition-all ${
                mode === 'camera'
                  ? 'bg-purple-600 text-white'
                  : 'bg-gray-100 text-gray-600 hover:bg-purple-100'
              }`}
            >
              <Camera className="w-5 h-5" />
              <span>ç”»åƒç¿»è¨³</span>
            </button>
          </div>
        </motion.div>

        {/* Language Selection */}
        <motion.div
          className="bg-white rounded-3xl shadow-lg p-6 mb-8"
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ duration: 0.5, delay: 0.2 }}
        >
          <div className="grid md:grid-cols-3 gap-4 items-center">
            <div>
              <label className="block text-sm font-medium text-gray-700 mb-2">ç¿»è¨³å…ƒ</label>
              <label className="block text-sm font-medium text-gray-700 mb-2">{t('translation.sourceLanguage')}</label>
              <select
                value={sourceLanguage}
                onChange={(e) => setSourceLanguage(e.target.value)}
                className="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent"
              >
                {languages.map((lang) => (
                  <option key={lang.code} value={lang.code}>
                    {lang.flag} {lang.name}
                  </option>
                ))}
              </select>
            </div>
            
            <div className="flex justify-center">
              <button
                onClick={swapLanguages}
                className="p-3 bg-purple-100 text-purple-600 rounded-full hover:bg-purple-200 transition-colors"
              >
                <span>{t('translation.imageTranslation')}</span>
              </button>
            </div>
            
            <div>
              <label className="block text-sm font-medium text-gray-700 mb-2">{t('translation.targetLanguage')}</label>
              <select
                value={targetLanguage}
                onChange={(e) => setTargetLanguage(e.target.value)}
                className="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent"
              >
                {languages.map((lang) => (
                  <option key={lang.code} value={lang.code}>
                    {lang.flag} {lang.name}
                  </option>
                ))}
              </select>
            </div>
          </div>
        </motion.div>

        {/* Translation Interface */}
        <motion.div
          className="bg-white rounded-3xl shadow-lg overflow-hidden"
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ duration: 0.5, delay: 0.3 }}
        >
          {mode === 'text' && (
            <div className="grid md:grid-cols-2 gap-0">
              <div className="p-6 border-r border-gray-200">
                <h3 className="text-lg font-semibold text-gray-800 mb-4">{t('translation.inputText')}</h3>
                <textarea
                  value={inputText}
                  onChange={(e) => setInputText(e.target.value)}
                  placeholder={t('translation.inputPlaceholder')}
                  className="w-full h-40 px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-none"
                />
                <button
                  onClick={handleTextTranslate}
                  disabled={!inputText.trim() || isTranslating}
                  className="mt-4 w-full flex items-center justify-center space-x-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white py-3 rounded-xl hover:from-purple-700 hover:to-pink-700 transition-all disabled:opacity-50"
                >
                  {isTranslating ? (
                    <>
                      <Loader className="w-5 h-5 animate-spin" />
                      <span>{t('translation.translating')}</span>
                    </>
                  ) : (
                    <>
                      <Languages className="w-5 h-5" />
                      <span>{t('translation.translate')}</span>
                    </>
                  )}
                </button>
              </div>
              
              <div className="p-6">
                <div className="flex items-center justify-between mb-4">
                  <h3 className="text-lg font-semibold text-gray-800">{t('translation.translationResult')}</h3>
                  {translatedText && (
                    <button
                      onClick={copyToClipboard}
                      className="p-2 text-gray-500 hover:text-purple-600 transition-colors"
                    >
                      <Copy className="w-4 h-4" />
                    </button>
                  )}
                </div>
                <div className="h-40 px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl overflow-y-auto">
                  {translatedText ? (
                    <p className="whitespace-pre-wrap">{translatedText}</p>
                  ) : (
                    <p className="text-gray-500">{t('translation.resultPlaceholder')}</p>
                  )}
                </div>
              </div>
            </div>
          )}

          {mode === 'camera' && (
            <div className="p-6">
              <h3 className="text-lg font-semibold text-gray-800 mb-4">{t('translation.imageTranslation')}</h3>
              
              {!imagePreview ? (
                <div
                  onClick={() => fileInputRef.current?.click()}
                  className="border-2 border-dashed border-gray-300 rounded-xl p-8 text-center cursor-pointer hover:border-purple-300 transition-colors"
                >
                  <Upload className="w-12 h-12 text-gray-400 mx-auto mb-4" />
                  <p className="text-gray-600 mb-2">{t('translation.uploadAndTranslate')}</p>
                  <p className="text-sm text-gray-500">{t('translation.orClickToUpload')}</p>
                  <input
                    type="file"
                    ref={fileInputRef}
                    onChange={handleImageUpload}
                    accept="image/*"
                    className="hidden"
                  />
                </div>
              ) : (
                <div className="space-y-4">
                  <div className="relative">
                    <img
                      src={imagePreview}
                      alt="Uploaded"
                      className="w-full h-auto rounded-xl border border-gray-300"
                    />
                    <button
                      onClick={() => {
                        setImageFile(null);
                        setImagePreview(null);
                        setTranslatedText('');
                      }}
                      className="absolute top-2 right-2 p-1 bg-white rounded-full shadow-md"
                    >
                      <X className="w-4 h-4 text-gray-600" />
                    </button>
                  </div>
                  
                  <button
                    onClick={handleImageTranslate}
                    disabled={isTranslating}
                    className="w-full flex items-center justify-center space-x-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white py-3 rounded-xl hover:from-purple-700 hover:to-pink-700 transition-all disabled:opacity-70"
                  >
                    {isTranslating ? (
                      <>
                        <Loader className="w-5 h-5 animate-spin" />
                        <span>{t('translation.translating')}</span>
                      </>
                    ) : (
                      <>
                        <Camera className="w-5 h-5" />
                        <span>{t('translation.translate')}</span>
                      </>
                    )}
                  </button>
                  
                  {translatedText && (
                    <div className="mt-4">
                      <h4 className="text-lg font-semibold text-gray-800 mb-2">{t('translation.result')}</h4>
                      <div className="p-4 bg-gray-50 rounded-xl border border-gray-200">
                        <p className="whitespace-pre-wrap">{translatedText}</p>
                      </div>
                    </div>
                  )}
                </div>
              )}
            </div>
          )}

          {mode === 'voice' && (
            <div className="p-6 text-center">
              <h3 className="text-lg font-semibold text-gray-800 mb-4">{t('translation.voiceTranslation')}</h3>
              <div className="space-y-6">
                <div className="w-32 h-32 bg-gradient-to-br from-purple-100 to-pink-100 rounded-full flex items-center justify-center mx-auto">
                  <Mic className={`w-16 h-16 ${isRecording ? 'text-red-500' : 'text-purple-600'}`} />
                </div>
                
                <button
                  onClick={() => setIsRecording(!isRecording)}
                  className={`px-8 py-4 rounded-xl font-medium transition-all ${
                    isRecording
                      ? 'bg-red-500 text-white hover:bg-red-600'
                      : 'bg-purple-600 text-white hover:bg-purple-700'
                  }`}
                >
                  {isRecording ? t('translation.recordingStop') : t('translation.recordingStart')}
                </button>
                
                <p className="text-gray-600">
                  {isRecording ? t('translation.recording') : t('translation.recordingInstruction')}
                </p>
              </div>
            </div>
          )}
        </motion.div>
      </div>
    </div>
  );
};

export default TranslationTool;
</file>

<file path="src/pages/TripEdit.tsx">
import React, { useState, useEffect } from 'react';
import { motion } from 'framer-motion';
import { useParams, useNavigate } from 'react-router-dom';
import { Edit, Trash2, Plus, Save, ArrowLeft, MapPin, Clock, Star } from 'lucide-react';
import { useTrip } from '../contexts/TripContext';
import { useLanguage } from '../contexts/LanguageContext';

const TripEdit: React.FC = () => {
  const { tripId } = useParams();
  const navigate = useNavigate();
  const { trips, updateTrip } = useTrip();
  const { t } = useLanguage();
  const [trip, setTrip] = useState<any>(null);
  const [isLoading, setIsLoading] = useState(false);

  useEffect(() => {
    const foundTrip = trips.find(t => t.id === tripId);
    if (foundTrip) {
      setTrip(foundTrip);
    }
  }, [tripId, trips]);

  const moveActivity = (dayIndex: number, fromIndex: number, toIndex: number) => {
    const newItinerary = [...trip.itinerary];
    const dayActivities = [...newItinerary[dayIndex].activities];

    const [reorderedItem] = dayActivities.splice(fromIndex, 1);
    dayActivities.splice(toIndex, 0, reorderedItem);

    newItinerary[dayIndex].activities = dayActivities;
    setTrip({ ...trip, itinerary: newItinerary });
  };

  const addActivity = async (dayIndex: number) => {
    const newActivity = {
      id: `activity_${Date.now()}`,
      time: '09:00',
      name: 'æ–°ã—ã„ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£',
      location: 'å ´æ‰€ã‚’å…¥åŠ›',
      type: 'sightseeing',
      description: 'èª¬æ˜ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„',
      estimatedCost: '0 JPY',
      duration: '60',
      tips: ''
    };

    const newItinerary = [...trip.itinerary];
    newItinerary[dayIndex].activities.push(newActivity);
    setTrip({ ...trip, itinerary: newItinerary });
  };

  const removeActivity = (dayIndex: number, activityIndex: number) => {
    const newItinerary = [...trip.itinerary];
    newItinerary[dayIndex].activities.splice(activityIndex, 1);
    setTrip({ ...trip, itinerary: newItinerary });
  };

  const updateActivity = (dayIndex: number, activityIndex: number, field: string, value: string) => {
    const newItinerary = [...trip.itinerary];
    newItinerary[dayIndex].activities[activityIndex][field] = value;
    setTrip({ ...trip, itinerary: newItinerary });
  };

  const saveTrip = async () => {
    setIsLoading(true);
    try {
      await updateTrip(trip.id, trip);
      navigate(`/trip/${trip.id}`);
    } catch (error) {
      console.error('Failed to save trip:', error);
    } finally {
      setIsLoading(false);
    }
  };

  const getActivityIcon = (type: string) => {
    switch (type) {
      case 'culture': return 'â›©ï¸';
      case 'food': return 'ğŸœ';
      case 'shopping': return 'ğŸ›ï¸';
      case 'transport': return 'âœˆï¸';
      case 'sightseeing': return 'ğŸ™ï¸';
      default: return 'ğŸ“';
    }
  };

  if (!trip) {
    return (
      <div className="min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 flex items-center justify-center">
        <div className="text-center">
          <div className="w-16 h-16 border-4 border-purple-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"></div>
          <p className="text-gray-600">æ—…ç¨‹ã‚’èª­ã¿è¾¼ã¿ä¸­...</p>
        </div>
      </div>
    );
  }

  return (
    <div className="min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 pt-20">
      <div className="max-w-6xl mx-auto px-6 py-8">
        {/* Header */}
        <div className="flex items-center justify-between mb-8">
          <div className="flex items-center space-x-4">
            <button
              onClick={() => navigate(`/trip/${trip.id}`)}
              className="flex items-center space-x-2 text-gray-600 hover:text-gray-800 transition-colors"
            >
              <ArrowLeft className="w-5 h-5" />
              <span>æˆ»ã‚‹</span>
            </button>
            <h1 className="text-3xl font-bold text-gray-800">{trip.title} - ç·¨é›†</h1>
          </div>
          
          <button
            onClick={saveTrip}
            disabled={isLoading}
            className="flex items-center space-x-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white px-6 py-3 rounded-xl font-medium hover:from-purple-700 hover:to-pink-700 transition-all disabled:opacity-50"
          >
            <Save className="w-5 h-5" />
            <span>{isLoading ? 'ä¿å­˜ä¸­...' : 'ä¿å­˜'}</span>
          </button>
        </div>

        {/* Itinerary Editor */}
        <div className="space-y-6">
          {trip.itinerary?.map((day: any, dayIndex: number) => (
            <motion.div
              key={day.day}
              className="bg-white rounded-3xl shadow-lg overflow-hidden"
              initial={{ opacity: 0, y: 20 }}
              animate={{ opacity: 1, y: 0 }}
              transition={{ duration: 0.5, delay: dayIndex * 0.1 }}
            >
              <div className="bg-gradient-to-r from-blue-500 to-purple-600 text-white p-6">
                <div className="flex items-center justify-between">
                  <div>
                    <h2 className="text-2xl font-bold">Day {day.day}</h2>
                    <p className="text-blue-100">{day.title}</p>
                  </div>
                  <button
                    onClick={() => addActivity(dayIndex)}
                    className="flex items-center space-x-2 bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg transition-colors"
                  >
                    <Plus className="w-4 h-4" />
                    <span>è¿½åŠ </span>
                  </button>
                </div>
              </div>

              <div className="p-6">
                {day.activities?.map((activity: any, activityIndex: number) => (
                  <div
                    key={activity.id || activityIndex}
                    className="mb-4 p-4 border border-gray-200 rounded-xl transition-all hover:shadow-md"
                  >
                              <div className="flex items-start space-x-4">
                                <div className="flex-shrink-0">
                                  <div className="w-12 h-12 bg-gradient-to-br from-purple-100 to-blue-100 rounded-full flex items-center justify-center text-xl">
                                    {getActivityIcon(activity.type)}
                                  </div>
                                </div>
                                
                                <div className="flex-1 space-y-3">
                                  <div className="grid md:grid-cols-2 gap-4">
                                    <input
                                      type="time"
                                      value={activity.time}
                                      onChange={(e) => updateActivity(dayIndex, activityIndex, 'time', e.target.value)}
                                      className="px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"
                                    />
                                    <select
                                      value={activity.type}
                                      onChange={(e) => updateActivity(dayIndex, activityIndex, 'type', e.target.value)}
                                      className="px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"
                                    >
                                      <option value="culture">æ–‡åŒ–ãƒ»æ­´å²</option>
                                      <option value="food">ã‚°ãƒ«ãƒ¡</option>
                                      <option value="shopping">ã‚·ãƒ§ãƒƒãƒ”ãƒ³ã‚°</option>
                                      <option value="transport">ç§»å‹•</option>
                                      <option value="sightseeing">è¦³å…‰</option>
                                    </select>
                                  </div>
                                  
                                  <input
                                    type="text"
                                    value={activity.name}
                                    onChange={(e) => updateActivity(dayIndex, activityIndex, 'name', e.target.value)}
                                    className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent font-semibold"
                                    placeholder="ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£å"
                                  />
                                  
                                  <input
                                    type="text"
                                    value={activity.location}
                                    onChange={(e) => updateActivity(dayIndex, activityIndex, 'location', e.target.value)}
                                    className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"
                                    placeholder="å ´æ‰€"
                                  />
                                  
                                  <textarea
                                    value={activity.description}
                                    onChange={(e) => updateActivity(dayIndex, activityIndex, 'description', e.target.value)}
                                    className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"
                                    rows={2}
                                    placeholder="èª¬æ˜"
                                  />
                                  
                                  <div className="grid md:grid-cols-2 gap-4">
                                    <input
                                      type="text"
                                      value={activity.estimatedCost}
                                      onChange={(e) => updateActivity(dayIndex, activityIndex, 'estimatedCost', e.target.value)}
                                      className="px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"
                                      placeholder="äºˆç®—"
                                    />
                                    <input
                                      type="text"
                                      value={activity.duration}
                                      onChange={(e) => updateActivity(dayIndex, activityIndex, 'duration', e.target.value)}
                                      className="px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"
                                      placeholder="æ‰€è¦æ™‚é–“ï¼ˆåˆ†ï¼‰"
                                    />
                                  </div>
                                </div>

                                <button
                                  onClick={() => removeActivity(dayIndex, activityIndex)}
                                  className="p-2 text-red-500 hover:text-red-700 hover:bg-red-50 rounded-lg transition-colors"
                                >
                                  <Trash2 className="w-4 h-4" />
                                </button>
                              </div>
                            </div>
                      ))}
                    </div>
                  </motion.div>
                ))}
              </div>
      </div>
    </div>
  );
};

export default TripEdit;
</file>

<file path="src/pages/TripShare.tsx">
import React, { useState } from 'react';
import { motion } from 'framer-motion';
import { Share2, Copy, Download, Facebook, Twitter, Instagram, Link, QrCode } from 'lucide-react';
import { useLanguage } from '../contexts/LanguageContext';

const TripShare: React.FC = () => {
  const { t } = useLanguage();
  const [shareUrl, setShareUrl] = useState('https://trippin.app/share/spring-sakura-2024');
  const [isSharing, setIsSharing] = useState(false);

  const mockTrip = {
    id: 'spring-sakura-2024',
    title: 'æ˜¥ã®æ¡œæ—…',
    destination: 'æ±äº¬ãƒ»äº¬éƒ½',
    duration: '5æ—¥é–“',
    budget: 'Â¥150,000',
    highlights: ['æµ…è‰å¯º', 'æ¸…æ°´å¯º', 'åµå±±', 'æ±äº¬ã‚¹ã‚«ã‚¤ãƒ„ãƒªãƒ¼'],
    image: 'https://images.pexels.com/photos/2070033/pexels-photo-2070033.jpeg'
  };

  const shareOptions = [
    { name: 'Facebook', icon: Facebook, color: 'bg-blue-600', url: `https://facebook.com/sharer/sharer.php?u=${shareUrl}` },
    { name: 'Twitter', icon: Twitter, color: 'bg-sky-500', url: `https://twitter.com/intent/tweet?url=${shareUrl}&text=${mockTrip.title}` },
    { name: 'Instagram', icon: Instagram, color: 'bg-pink-600', url: '#' },
    { name: 'LINE', icon: Share2, color: 'bg-green-500', url: `https://line.me/R/msg/text/?${shareUrl}` }
  ];

  const copyToClipboard = () => {
    navigator.clipboard.writeText(shareUrl);
    // Show success message
  };

  const generateQRCode = () => {
    // Generate QR code for the share URL
    return `https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(shareUrl)}`;
  };

  const downloadItinerary = () => {
    // Generate and download PDF
    setIsSharing(true);
    setTimeout(() => {
      setIsSharing(false);
      // Simulate download
    }, 2000);
  };

  return (
    <div className="min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 pt-20">
      <div className="max-w-4xl mx-auto px-6 py-8">
        {/* Header */}
        <motion.div
          className="text-center mb-8"
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ duration: 0.8 }}
        >
          <h1 className="text-4xl font-bold text-gray-800 mb-4">æ—…ç¨‹ã‚·ã‚§ã‚¢</h1>
          <p className="text-lg text-gray-600">ã‚ãªãŸã®ç´ æ™´ã‚‰ã—ã„æ—…ç¨‹ã‚’å‹é”ã¨å…±æœ‰ã—ã‚ˆã†</p>
        </motion.div>

        <div className="grid lg:grid-cols-2 gap-8">
          {/* Trip Preview */}
          <motion.div
            className="bg-white rounded-3xl shadow-lg overflow-hidden"
            initial={{ opacity: 0, y: 20 }}
            animate={{ opacity: 1, y: 0 }}
            transition={{ duration: 0.5, delay: 0.1 }}
          >
            <div
              className="h-48 bg-cover bg-center relative"
              style={{ backgroundImage: `url(${mockTrip.image})` }}
            >
              <div className="absolute inset-0 bg-black bg-opacity-40" />
              <div className="absolute bottom-4 left-4 text-white">
                <h2 className="text-2xl font-bold">{mockTrip.title}</h2>
                <p className="text-lg">{mockTrip.destination}</p>
              </div>
            </div>

            <div className="p-6">
              <div className="grid grid-cols-2 gap-4 mb-6">
                <div className="text-center">
                  <div className="text-2xl font-bold text-purple-600">{mockTrip.duration}</div>
                  <div className="text-sm text-gray-600">æœŸé–“</div>
                </div>
                <div className="text-center">
                  <div className="text-2xl font-bold text-green-600">{mockTrip.budget}</div>
                  <div className="text-sm text-gray-600">äºˆç®—</div>
                </div>
              </div>

              <div className="mb-6">
                <h3 className="font-semibold text-gray-800 mb-3">ãƒã‚¤ãƒ©ã‚¤ãƒˆ</h3>
                <div className="flex flex-wrap gap-2">
                  {mockTrip.highlights.map((highlight, index) => (
                    <span
                      key={index}
                      className="px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm"
                    >
                      {highlight}
                    </span>
                  ))}
                </div>
              </div>

              <button
                onClick={downloadItinerary}
                disabled={isSharing}
                className="w-full flex items-center justify-center space-x-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white py-3 rounded-xl hover:from-purple-700 hover:to-pink-700 transition-all disabled:opacity-50"
              >
                <Download className="w-5 h-5" />
                <span>{isSharing ? 'ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ä¸­...' : 'PDFãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰'}</span>
              </button>
            </div>
          </motion.div>

          {/* Share Options */}
          <div className="space-y-6">
            {/* Share URL */}
            <motion.div
              className="bg-white rounded-3xl shadow-lg p-6"
              initial={{ opacity: 0, x: 20 }}
              animate={{ opacity: 1, x: 0 }}
              transition={{ duration: 0.5, delay: 0.2 }}
            >
              <h3 className="text-xl font-bold text-gray-800 mb-4">ã‚·ã‚§ã‚¢ãƒªãƒ³ã‚¯</h3>
              <div className="flex space-x-3">
                <input
                  type="text"
                  value={shareUrl}
                  readOnly
                  className="flex-1 px-4 py-3 border border-gray-300 rounded-xl bg-gray-50"
                />
                <button
                  onClick={copyToClipboard}
                  className="px-6 py-3 bg-purple-600 text-white rounded-xl hover:bg-purple-700 transition-colors"
                >
                  <Copy className="w-5 h-5" />
                </button>
              </div>
            </motion.div>

            {/* Social Media Share */}
            <motion.div
              className="bg-white rounded-3xl shadow-lg p-6"
              initial={{ opacity: 0, x: 20 }}
              animate={{ opacity: 1, x: 0 }}
              transition={{ duration: 0.5, delay: 0.3 }}
            >
              <h3 className="text-xl font-bold text-gray-800 mb-4">SNSã§ã‚·ã‚§ã‚¢</h3>
              <div className="grid grid-cols-2 gap-4">
                {shareOptions.map((option, index) => (
                  <motion.a
                    key={option.name}
                    href={option.url}
                    target="_blank"
                    rel="noopener noreferrer"
                    className={`flex items-center justify-center space-x-2 ${option.color} text-white py-3 rounded-xl hover:opacity-90 transition-opacity`}
                    whileHover={{ scale: 1.02 }}
                    whileTap={{ scale: 0.98 }}
                  >
                    <option.icon className="w-5 h-5" />
                    <span>{option.name}</span>
                  </motion.a>
                ))}
              </div>
            </motion.div>

            {/* QR Code */}
            <motion.div
              className="bg-white rounded-3xl shadow-lg p-6"
              initial={{ opacity: 0, x: 20 }}
              animate={{ opacity: 1, x: 0 }}
              transition={{ duration: 0.5, delay: 0.4 }}
            >
              <h3 className="text-xl font-bold text-gray-800 mb-4">QRã‚³ãƒ¼ãƒ‰</h3>
              <div className="text-center">
                <div className="inline-block p-4 bg-white border-2 border-gray-200 rounded-xl">
                  <img
                    src={generateQRCode()}
                    alt="QR Code"
                    className="w-32 h-32"
                  />
                </div>
                <p className="text-sm text-gray-600 mt-3">
                  QRã‚³ãƒ¼ãƒ‰ã‚’ã‚¹ã‚­ãƒ£ãƒ³ã—ã¦æ—…ç¨‹ã‚’è¡¨ç¤º
                </p>
              </div>
            </motion.div>

            {/* Privacy Settings */}
            <motion.div
              className="bg-white rounded-3xl shadow-lg p-6"
              initial={{ opacity: 0, x: 20 }}
              animate={{ opacity: 1, x: 0 }}
              transition={{ duration: 0.5, delay: 0.5 }}
            >
              <h3 className="text-xl font-bold text-gray-800 mb-4">ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼è¨­å®š</h3>
              <div className="space-y-3">
                <label className="flex items-center space-x-3">
                  <input type="radio" name="privacy" value="public" defaultChecked className="text-purple-600" />
                  <span>å…¬é–‹ - èª°ã§ã‚‚é–²è¦§å¯èƒ½</span>
                </label>
                <label className="flex items-center space-x-3">
                  <input type="radio" name="privacy" value="friends" className="text-purple-600" />
                  <span>å‹é”ã®ã¿ - æ‹›å¾…ã—ãŸäººã®ã¿</span>
                </label>
                <label className="flex items-center space-x-3">
                  <input type="radio" name="privacy" value="private" className="text-purple-600" />
                  <span>éå…¬é–‹ - è‡ªåˆ†ã®ã¿</span>
                </label>
              </div>
            </motion.div>
          </div>
        </div>
      </div>
    </div>
  );
};

export default TripShare;
</file>

<file path="src/pages/TripTemplates.tsx">
import React, { useState, useEffect } from 'react';
import { motion } from 'framer-motion';
import { useNavigate } from 'react-router-dom';
import { Search, Star, Clock, MapPin, Users, Heart, Copy } from 'lucide-react';
import { useLanguage } from '../contexts/LanguageContext';
import { useTrip } from '../contexts/TripContext';

interface Template {
  id: string;
  title: string;
  description: string;
  duration: string;
  budget: string;
  destinations: string[];
  rating: number;
  reviews: number;
  likes: number;
  author: string;
  image: string;
  tags: string[];
  difficulty: 'easy' | 'medium' | 'hard';
}

const TripTemplates: React.FC = () => {
  const { t } = useLanguage();
  const navigate = useNavigate();
  const { createTrip } = useTrip();
  const [templates, setTemplates] = useState<Template[]>([]);
  const [filteredTemplates, setFilteredTemplates] = useState<Template[]>([]);
  const [searchQuery, setSearchQuery] = useState('');
  const [selectedCategory, setSelectedCategory] = useState('all');
  const [isLoading, setIsLoading] = useState(true);

  useEffect(() => {
    loadTemplates();
  }, []);

  useEffect(() => {
    filterTemplates();
  }, [searchQuery, selectedCategory, templates]);

  const loadTemplates = async () => {
    try {
      // Mock template data
      const mockTemplates: Template[] = [
        {
          id: 'template_1',
          title: 'åˆå¿ƒè€…å‘ã‘æ±äº¬3æ—¥é–“',
          description: 'æ±äº¬ã®å®šç•ªã‚¹ãƒãƒƒãƒˆã‚’åŠ¹ç‡ã‚ˆãå›ã‚‹åˆå¿ƒè€…ã«ãŠã™ã™ã‚ã®ãƒ—ãƒ©ãƒ³',
          duration: '3æ—¥é–“',
          budget: 'Â¥80,000',
          destinations: ['æµ…è‰', 'æ¸‹è°·', 'æ–°å®¿', 'éŠ€åº§'],
          rating: 4.8,
          reviews: 245,
          likes: 1250,
          author: 'TokyoExplorer',
          image: 'https://images.pexels.com/photos/2070033/pexels-photo-2070033.jpeg',
          tags: ['åˆå¿ƒè€…', 'å®šç•ª', 'éƒ½å¸‚'],
          difficulty: 'easy'
        },
        {
          id: 'template_2',
          title: 'äº¬éƒ½ã®æ­´å²ã¨æ–‡åŒ–5æ—¥é–“',
          description: 'å¤éƒ½äº¬éƒ½ã®å¯ºé™¢ã¨ä¼çµ±æ–‡åŒ–ã‚’æ·±ãä½“é¨“ã™ã‚‹æ–‡åŒ–çš„ãªæ—…',
          duration: '5æ—¥é–“',
          budget: 'Â¥120,000',
          destinations: ['æ¸…æ°´å¯º', 'é‡‘é–£å¯º', 'åµå±±', 'ç¥‡åœ’'],
          rating: 4.9,
          reviews: 189,
          likes: 980,
          author: 'KyotoLover',
          image: 'https://images.pexels.com/photos/161251/senso-ji-temple-asakusa-tokyo-japan-161251.jpeg',
          tags: ['æ–‡åŒ–', 'æ­´å²', 'å¯ºé™¢'],
          difficulty: 'medium'
        },
        {
          id: 'template_3',
          title: 'å¤§é˜ªã‚°ãƒ«ãƒ¡ãƒ„ã‚¢ãƒ¼2æ—¥é–“',
          description: 'å¤§é˜ªã®åç‰©ã‚°ãƒ«ãƒ¡ã‚’é£Ÿã¹æ­©ãç¾é£Ÿã®æ—…',
          duration: '2æ—¥é–“',
          budget: 'Â¥50,000',
          destinations: ['é“é “å €', 'æ–°ä¸–ç•Œ', 'é»’é–€å¸‚å ´', 'æ¢…ç”°'],
          rating: 4.7,
          reviews: 156,
          likes: 750,
          author: 'OsakaFoodie',
          image: 'https://images.pexels.com/photos/2506923/pexels-photo-2506923.jpeg',
          tags: ['ã‚°ãƒ«ãƒ¡', 'é£Ÿã¹æ­©ã', 'çŸ­æœŸ'],
          difficulty: 'easy'
        },
        {
          id: 'template_4',
          title: 'åŒ—æµ·é“è‡ªç„¶æº€å–«7æ—¥é–“',
          description: 'åŒ—æµ·é“ã®é›„å¤§ãªè‡ªç„¶ã¨æ¸©æ³‰ã‚’æ¥½ã—ã‚€ãƒªãƒ©ãƒƒã‚¯ã‚¹æ—…è¡Œ',
          duration: '7æ—¥é–“',
          budget: 'Â¥200,000',
          destinations: ['æœ­å¹Œ', 'å‡½é¤¨', 'å°æ¨½', 'ç™»åˆ¥'],
          rating: 4.6,
          reviews: 98,
          likes: 520,
          author: 'HokkaidoNature',
          image: 'https://images.pexels.com/photos/1440476/pexels-photo-1440476.jpeg',
          tags: ['è‡ªç„¶', 'æ¸©æ³‰', 'é•·æœŸ'],
          difficulty: 'medium'
        }
      ];
      
      setTemplates(mockTemplates);
    } catch (error) {
      console.error('Failed to load templates:', error);
    } finally {
      setIsLoading(false);
    }
  };

  const filterTemplates = () => {
    let filtered = templates;

    if (searchQuery) {
      filtered = filtered.filter(template =>
        template.title.toLowerCase().includes(searchQuery.toLowerCase()) ||
        template.description.toLowerCase().includes(searchQuery.toLowerCase()) ||
        template.tags.some(tag => tag.toLowerCase().includes(searchQuery.toLowerCase()))
      );
    }

    if (selectedCategory !== 'all') {
      filtered = filtered.filter(template =>
        template.tags.includes(selectedCategory) ||
        template.difficulty === selectedCategory
      );
    }

    setFilteredTemplates(filtered);
  };

  const categories = [
    { key: 'all', label: 'ã™ã¹ã¦' },
    { key: 'åˆå¿ƒè€…', label: 'åˆå¿ƒè€…å‘ã‘' },
    { key: 'ã‚°ãƒ«ãƒ¡', label: 'ã‚°ãƒ«ãƒ¡' },
    { key: 'æ–‡åŒ–', label: 'æ–‡åŒ–ãƒ»æ­´å²' },
    { key: 'è‡ªç„¶', label: 'è‡ªç„¶' },
    { key: 'easy', label: 'ç°¡å˜' },
    { key: 'medium', label: 'ä¸­ç´š' },
    { key: 'hard', label: 'ä¸Šç´š' }
  ];

  const getDifficultyColor = (difficulty: string) => {
    switch (difficulty) {
      case 'easy': return 'text-green-600 bg-green-100';
      case 'medium': return 'text-yellow-600 bg-yellow-100';
      case 'hard': return 'text-red-600 bg-red-100';
      default: return 'text-gray-600 bg-gray-100';
    }
  };

  const getDifficultyText = (difficulty: string) => {
    switch (difficulty) {
      case 'easy': return 'ç°¡å˜';
      case 'medium': return 'ä¸­ç´š';
      case 'hard': return 'ä¸Šç´š';
      default: return 'ä¸æ˜';
    }
  };

  const useTemplate = (template: Template) => {
    // Create trip from template
    const templateTrip = {
      title: template.title,
      destination: template.destinations.join('ãƒ»'),
      startDate: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000).toISOString().split('T')[0], // 1 week from now
      endDate: new Date(Date.now() + (7 + parseInt(template.duration)) * 24 * 60 * 60 * 1000).toISOString().split('T')[0],
      status: 'planning' as const,
      budget: parseInt(template.budget.replace(/[Â¥,]/g, '')),
      currency: 'JPY',
      travelers: 2,
      interests: template.tags,
      image: template.image,
      itinerary: [
        {
          day: 1,
          date: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000).toISOString().split('T')[0],
          title: `${template.destinations[0]}æ¢ç´¢`,
          activities: [
            {
              time: '10:00',
              name: `${template.destinations[0]}è¦³å…‰`,
              location: template.destinations[0],
              type: 'sightseeing',
              description: template.description,
              estimatedCost: '3000 JPY',
              duration: '120',
              rating: template.rating
            }
          ]
        }
      ]
    };

    // Create the trip and navigate to dashboard
    createTrip(templateTrip).then((newTrip) => {
      console.log('Template trip created:', newTrip);
      navigate('/dashboard');
    }).catch((error) => {
      console.error('Failed to create trip from template:', error);
    });
  };

  if (isLoading) {
    return (
      <div className="min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 pt-20 flex items-center justify-center">
        <div className="text-center">
          <div className="w-16 h-16 border-4 border-purple-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"></div>
          <p className="text-gray-600">ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’èª­ã¿è¾¼ã¿ä¸­...</p>
        </div>
      </div>
    );
  }

  return (
    <div className="min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 pt-20">
      <div className="max-w-6xl mx-auto px-6 py-8">
        {/* Header */}
        <motion.div
          className="text-center mb-8"
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ duration: 0.8 }}
        >
          <h1 className="text-4xl font-bold text-gray-800 mb-4">{t('templates.title')}</h1>
          <p className="text-lg text-gray-600">{t('templates.subtitle')}</p>
        </motion.div>

        {/* Search and Filter */}
        <motion.div
          className="bg-white rounded-3xl shadow-lg p-6 mb-8"
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ duration: 0.5, delay: 0.1 }}
        >
          <div className="flex flex-col md:flex-row gap-4">
            <div className="flex-1 relative">
              <Search className="absolute left-3 top-3 w-5 h-5 text-gray-400" />
              <input
                type="text"
                value={searchQuery}
                onChange={(e) => setSearchQuery(e.target.value)}
                placeholder={t('templates.searchPlaceholder')}
                className="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent"
              />
            </div>
            <select
              value={selectedCategory}
              onChange={(e) => setSelectedCategory(e.target.value)}
              className="px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent"
            >
              {categories.map((category) => (
                <option key={category.key} value={category.key}>
                  {category.key === 'all' ? t('templates.allCategories') :
                   category.key === 'åˆå¿ƒè€…' ? t('templates.beginner') :
                   category.key === 'ã‚°ãƒ«ãƒ¡' ? t('templates.gourmet') :
                   category.key === 'æ–‡åŒ–' ? t('templates.culture') :
                   category.key === 'è‡ªç„¶' ? t('templates.nature') :
                   category.key === 'easy' ? t('templates.easy') :
                   category.key === 'medium' ? t('templates.medium') :
                   category.key === 'hard' ? t('templates.hard') : category.label}
                </option>
              ))}
            </select>
          </div>
        </motion.div>

        {/* Templates Grid */}
        <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
          {filteredTemplates.map((template, index) => (
            <motion.div
              key={template.id}
              className="bg-white rounded-3xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow"
              initial={{ opacity: 0, y: 20 }}
              animate={{ opacity: 1, y: 0 }}
              transition={{ duration: 0.5, delay: index * 0.1 }}
            >
              <div
                className="h-48 bg-cover bg-center relative"
                style={{ backgroundImage: `url(${template.image})` }}
              >
                <div className="absolute top-4 right-4 bg-white rounded-full p-2 shadow-lg">
                  <Heart className="w-5 h-5 text-gray-400 hover:text-red-500 cursor-pointer transition-colors" />
                </div>
                <div className="absolute bottom-4 left-4">
                  <span className={`px-3 py-1 rounded-full text-sm font-medium ${getDifficultyColor(template.difficulty)}`}>
                    {getDifficultyText(template.difficulty)}
                  </span>
                </div>
              </div>

              <div className="p-6">
                <h3 className="text-xl font-bold text-gray-800 mb-2">{template.title}</h3>
                <p className="text-gray-600 text-sm mb-4 line-clamp-2">{template.description}</p>

                <div className="flex items-center justify-between mb-4">
                  <div className="flex items-center space-x-4 text-sm text-gray-600">
                    <div className="flex items-center space-x-1">
                      <Clock className="w-4 h-4" />
                      <span>{template.duration}</span>
                    </div>
                    <div className="flex items-center space-x-1">
                      <MapPin className="w-4 h-4" />
                      <span>{template.destinations.length}ç®‡æ‰€</span>
                    </div>
                  </div>
                  <div className="text-lg font-bold text-purple-600">{template.budget}</div>
                </div>

                <div className="flex items-center justify-between mb-4">
                  <div className="flex items-center space-x-2">
                    <div className="flex items-center space-x-1">
                      <Star className="w-4 h-4 text-yellow-500" />
                      <span className="text-sm font-medium">{template.rating}</span>
                    </div>
                    <span className="text-sm text-gray-500">({template.reviews})</span>
                  </div>
                  <div className="flex items-center space-x-1 text-sm text-gray-500">
                    <Heart className="w-4 h-4" />
                    <span>{template.likes}</span>
                  </div>
                </div>

                <div className="flex flex-wrap gap-2 mb-4">
                  {template.tags.slice(0, 3).map((tag, tagIndex) => (
                    <span
                      key={tagIndex}
                      className="px-2 py-1 bg-purple-100 text-purple-700 rounded-full text-xs"
                    >
                      {tag}
                    </span>
                  ))}
                </div>

                <div className="flex space-x-3">
                  <button
                    onClick={() => useTemplate(template)}
                    className="flex-1 bg-gradient-to-r from-purple-600 to-pink-600 text-white py-2 rounded-xl hover:from-purple-700 hover:to-pink-700 transition-all text-sm font-medium"
                  >
                    {t('templates.useTemplate')}
                  </button>
                  <button className="p-2 text-gray-500 hover:text-purple-600 transition-colors">
                    <Copy className="w-4 h-4" />
                  </button>
                </div>

                <div className="mt-3 text-xs text-gray-500">
                  {t('templates.author')}: {template.author}
                </div>
              </div>
            </motion.div>
          ))}
        </div>

        {filteredTemplates.length === 0 && (
          <motion.div
            className="text-center py-12"
            initial={{ opacity: 0 }}
            animate={{ opacity: 1 }}
            transition={{ duration: 0.5 }}
          >
            <div className="text-6xl mb-4">ğŸ”</div>
            <h3 className="text-xl font-semibold text-gray-800 mb-2">{t('templates.noResults')}</h3>
            <p className="text-gray-600">{t('templates.noResultsDescription')}</p>
          </motion.div>
        )}
      </div>
    </div>
  );
};

export default TripTemplates;
</file>

<file path="src/pages/LandingPage.tsx">
import React, { useState, useEffect, useRef } from 'react';
import { motion } from 'framer-motion';
import { useNavigate } from 'react-router-dom';
import { ArrowRight, Sparkles, Zap, Smartphone, Calendar, MapPin, Users, DollarSign, Star, Globe, Wifi, Shield, ChevronDown } from 'lucide-react';
import { useLanguage } from '../contexts/LanguageContext';
import { useAuth } from '../contexts/AuthContext';
import MagicBox from '../components/MagicBox';
import SEOHead from '../components/SEOHead';

const LandingPage: React.FC = () => {
Â  const { t } = useLanguage();
Â  const { isAuthenticated } = useAuth();
Â  const navigate = useNavigate();
Â  const mainVideoRef = useRef<HTMLVideoElement>(null);
Â  const [currentVideoIndex, setCurrentVideoIndex] = useState(0);

Â  const videos = [
Â  Â  Â '/social_u7584567376_become_an_egg_and_re-born_as_a_girl_--ar_11_--mot_9454ef9e-ef20-4d73-96e0-f981909c5d61_3.mp4',
Â  Â  Â '/social_u7584567376__--ar_11_--motion_high_--video_1_--end_httpss.mj._a47ee305-7dc3-4dc3-a338-594840c61672_3.mp4'
Â  ];

Â  useEffect(() => {
Â  Â  const video = mainVideoRef.current;
Â  Â  if (!video) return;

Â  Â  // Video transition logic
Â  Â  const handleVideoEnd = () => {
Â  Â  Â  // Get the next video index
Â  Â  Â  const nextIndex = (currentVideoIndex + 1) % videos.length;
Â  Â  Â Â 
Â  Â  Â  // Fade out the current video
Â  Â  Â  video.style.opacity = '0';
Â  Â  Â Â 
Â  Â  Â  // After the fade-out is complete, change the source and fade in the next video
Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  video.src = videos[nextIndex];
Â  Â  Â  Â  video.load();
Â  Â  Â  Â  video.play().catch(console.warn);
Â  Â  Â  Â  setCurrentVideoIndex(nextIndex);
Â  Â  Â  Â  video.style.opacity = '1';
Â  Â  Â  }, 300); // This delay should match your CSS transition duration

Â  Â  };

Â  Â  video.addEventListener('ended', handleVideoEnd);

Â  Â  // Initial video loading
Â  Â  video.src = videos[currentVideoIndex];
Â  Â  video.load();
Â  Â  video.play().catch(console.warn);
Â  Â Â 
Â  Â  return () => {
Â  Â  Â  video.removeEventListener('ended', handleVideoEnd);
Â  Â  };
Â  }, [currentVideoIndex, videos]);

Â  const handleGetStarted = () => {
Â  Â  if (isAuthenticated) {
Â  Â  Â  navigate('/dashboard');
Â  Â  } else {
Â  Â  Â  navigate('/questionnaire/language');
Â  Â  }
Â  };

Â  return (
Â  Â  <>
Â  Â  Â  <SEOHead
Â  Â  Â  Â  title={t('landing.seo.title')}
Â  Â  Â  Â  description={t('landing.seo.description')}
Â  Â  Â  />
Â  Â  Â Â 
Â  Â  Â  <div className="min-h-screen relative overflow-hidden" style={{ fontFamily: 'serif, "Noto Serif JP", "Yu Mincho", "YuMincho", "Hiragino Mincho Pro", "MS PMincho", serif' }}>
Â  Â  Â  Â  {/* é»’èƒŒæ™¯ã§ç™½ç”»é¢ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ã‚’é˜²ã */}
Â  Â  Â  Â  <div className="fixed inset-0 bg-black z-0"></div>
Â  Â  Â  Â Â 
Â  Â  Â  Â  {/* Main video */}
Â  Â  Â  Â  <video
Â  Â  Â  Â  Â  ref={mainVideoRef}
Â  Â  Â  Â  Â  className="fixed inset-0 w-full h-full object-cover opacity-5"
Â  Â  Â  Â  Â  autoPlay
Â  Â  Â  Â  Â  muted
Â  Â  Â  Â  Â  playsInline
Â  Â  Â  Â  Â  style={{
Â  Â  Â  Â  Â  Â  opacity: 1,
Â  Â  Â  Â  Â  Â  transition: 'opacity 0.3s cubic-bezier(0.4, 0, 0.2, 1)',
Â  Â  Â  Â  Â  Â  zIndex: 1
Â  Â  Â  Â  Â  }}
Â  Â  Â  Â  Â  preload="auto"
Â  Â  Â  Â  Â  onError={(e) => {
Â  Â  Â  Â  Â  Â  console.warn('Video load error:', e);
Â  Â  Â  Â  Â  }}
Â  Â  Â  Â  >
Â  Â  Â  Â  Â  {/* Source is set by useEffect */}
Â  Â  Â  Â  </video>

Â  Â  Â  Â  {/* No need for a second video element */}
Â  Â  Â  Â Â 
Â  Â  Â  Â  {/* Gradient overlay */}
Â  Â  Â  Â  <div className="fixed inset-0 bg-gradient-to-b from-black/50 via-transparent to-black/80 z-0" />

Â  Â  Â  Â  {/* Hero Section */}
Â  Â  Â  Â  <section className="relative z-10 min-h-screen flex items-center justify-center px-6">
Â  Â  Â  Â  Â  <motion.div
Â  Â  Â  Â  Â  Â  className="text-center max-w-6xl mx-auto"
Â  Â  Â  Â  Â  Â  initial={{ opacity: 0, y: 50 }}
Â  Â  Â  Â  Â  Â  animate={{ opacity: 1, y: 0 }}
Â  Â  Â  Â  Â  Â  transition={{ duration: 1.2, ease: "easeOut" }}
Â  Â  Â  Â  Â  >
Â  Â  Â  Â  Â  Â  {/* Main headline with advanced typography */}
Â  Â  Â  Â  Â  Â  <motion.h1
Â  Â  Â  Â  Â  Â  Â className="text-6xl md:text-8xl lg:text-9xl font-black text-transparent bg-clip-text bg-gradient-to-r from-white via-blue-100 to-purple-200 mb-8 leading-tight tracking-tight drop-shadow-2xl"
Â  Â  Â  Â  Â  Â  Â  style={{ fontFamily: 'serif, "Noto Serif JP", "Yu Mincho", "YuMincho", "Hiragino Mincho Pro", "MS PMincho", serif' }}
Â  Â  Â  Â  Â  Â  Â  initial={{ opacity: 0, scale: 0.8 }}
Â  Â  Â  Â  Â  Â  Â  animate={{ opacity: 1, scale: 1 }}
Â  Â  Â  Â  Â  Â  Â  transition={{ duration: 1.5, delay: 0.3 }}
Â  Â  Â  Â  Â  Â  >
Â  Â  Â  Â  Â  Â  Â  {t('landing.hero.title')}
Â  Â  Â  Â  Â  Â  </motion.h1>

Â  Â  Â  Â  Â  Â  <motion.div
Â  Â  Â  Â  Â  Â  Â  initial={{ opacity: 0, y: 30 }}
Â  Â  Â  Â  Â  Â  Â  animate={{ opacity: 1, y: 0 }}
Â  Â  Â  Â  Â  Â  Â  transition={{ duration: 1, delay: 0.6 }}
Â  Â  Â  Â  Â  Â  >
Â  Â  Â  Â  Â  Â  Â  <h2 className="text-2xl md:text-4xl font-bold text-white mb-4 leading-relaxed drop-shadow-lg" style={{ fontFamily: 'serif, "Noto Serif JP", "Yu Mincho", "YuMincho", "Hiragino Mincho Pro", "MS PMincho", serif' }}>
Â  Â  Â  Â  Â  Â  Â  Â  {t('landing.hero.subtitle')}
Â  Â  Â  Â  Â  Â  Â  Â  <br />
Â  Â  Â  Â  Â  Â  Â  Â  <span className="bg-gradient-to-r from-yellow-300 via-pink-300 to-purple-300 bg-clip-text text-transparent" style={{ fontFamily: 'serif, "Noto Serif JP", "Yu Mincho", "YuMincho", "Hiragino Mincho Pro", "MS PMincho", serif' }}>
Â  Â  Â  Â  Â  Â  Â  Â  Â  {t('landing.hero.subtitleHighlight')}
Â  Â  Â  Â  Â  Â  Â  Â  </span>
Â  Â  Â  Â  Â  Â  Â  </h2>
Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  <p className="text-lg md:text-xl text-white/90 leading-relaxed max-w-4xl mx-auto drop-shadow-lg" style={{ fontFamily: 'serif, "Noto Serif JP", "Yu Mincho", "YuMincho", "Hiragino Mincho Pro", "MS PMincho", serif' }}>
Â  Â  Â  Â  Â  Â  Â  Â  {t('landing.hero.description')}
Â  Â  Â  Â  Â  Â  Â  Â  <br />
Â  Â  Â  Â  Â  Â  Â  Â  {t('landing.hero.descriptionContinued')}
Â  Â  Â  Â  Â  Â  Â  </p>
Â  Â  Â  Â  Â  Â  </motion.div>

Â  Â  Â  Â  Â  Â  <motion.div
Â  Â  Â  Â  Â  Â  Â  initial={{ opacity: 0, scale: 0.5 }}
Â  Â  Â  Â  Â  Â  Â  animate={{ opacity: 1, scale: 1 }}
Â  Â  Â  Â  Â  Â  Â  transition={{ duration: 1, delay: 1 }}
Â  Â  Â  Â  Â  Â  Â  className="flex justify-center"
Â  Â  Â  Â  Â  Â  >
Â  Â  Â  Â  Â  Â  Â  <MagicBox onOpen={handleGetStarted} />
Â  Â  Â  Â  Â  Â  </motion.div>

Â  Â  Â  Â  Â  Â  {/* Scroll indicator */}
Â  Â  Â  Â  Â  Â  <motion.div
Â  Â  Â  Â  Â  Â  Â  className="absolute bottom-8 left-1/2 transform -translate-x-1/2"
Â  Â  Â  Â  Â  Â  Â  animate={{ y: [0, 10, 0] }}
Â  Â  Â  Â  Â  Â  Â  transition={{ duration: 2, repeat: Infinity }}
Â  Â  Â  Â  Â  Â  >
Â  Â  Â  Â  Â  Â  Â  <ChevronDown className="w-8 h-8 text-white/60" />
Â  Â  Â  Â  Â  Â  </motion.div>
Â  Â  Â  Â  Â  </motion.div>
Â  Â  Â  Â  </section>

Â  Â  Â  Â  {/* Features Section with advanced cards */}
Â  Â  Â  Â  <section className="relative z-10 py-32 px-6">
Â  Â  Â  Â  Â  <div className="max-w-7xl mx-auto">
Â  Â  Â  Â  Â  Â  <motion.div
Â  Â  Â  Â  Â  Â  Â  className="text-center mb-20"
Â  Â  Â  Â  Â  Â  Â  initial={{ opacity: 0, y: 50 }}
Â  Â  Â  Â  Â  Â  Â  whileInView={{ opacity: 1, y: 0 }}
Â  Â  Â  Â  Â  Â  Â  transition={{ duration: 1 }}
Â  Â  Â  Â  Â  Â  Â  viewport={{ once: true }}
Â  Â  Â  Â  Â  Â  >
Â  Â  Â  Â  Â  Â  Â  <h2 className="text-5xl md:text-6xl font-black text-white mb-6" style={{ fontFamily: 'serif, "Noto Serif JP", "Yu Mincho", "YuMincho", "Hiragino Mincho Pro", "MS PMincho", serif' }}>
Â  Â  Â  Â  Â  Â  Â  Â  {t('landing.features.title')}
Â  Â  Â  Â  Â  Â  Â  </h2>
Â  Â  Â  Â  Â  Â  Â  <div className="w-24 h-1 bg-gradient-to-r from-purple-500 to-pink-500 mx-auto rounded-full" />
Â  Â  Â  Â  Â  Â  </motion.div>

Â  Â  Â  Â  Â  Â  <div className="grid md:grid-cols-2 gap-8">
Â  Â  Â  Â  Â  Â  Â  {[
Â  Â  Â  Â  Â  Â  Â  Â  {
Â  Â  Â  Â  Â  Â  Â  Â  Â  icon: <Sparkles className="w-12 h-12" />,
Â  Â  Â  Â  Â  Â  Â  Â  Â  titleKey: 'landing.features.aiPlanning.title',
Â  Â  Â  Â  Â  Â  Â  Â  Â  descriptionKey: 'landing.features.aiPlanning.description',
Â  Â  Â  Â  Â  Â  Â  Â  Â  gradient: 'from-purple-500 to-pink-500'
Â  Â  Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  Â  Â  {
Â  Â  Â  Â  Â  Â  Â  Â  Â  icon: <Zap className="w-12 h-12" />,
Â  Â  Â  Â  Â  Â  Â  Â  Â  titleKey: 'landing.features.crowdAvoidance.title',
Â  Â  Â  Â  Â  Â  Â  Â  Â  descriptionKey: 'landing.features.crowdAvoidance.description',
Â  Â  Â  Â  Â  Â  Â  Â  Â  gradient: 'from-blue-500 to-cyan-500'
Â  Â  Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  Â  Â  {
Â  Â  Â  Â  Â  Â  Â  Â  Â  icon: <Smartphone className="w-12 h-12" />,
Â  Â  Â  Â  Â  Â  Â  Â  Â  titleKey: 'landing.features.esimSupport.title',
Â  Â  Â  Â  Â  Â  Â  Â  Â  descriptionKey: 'landing.features.esimSupport.description',
Â  Â  Â  Â  Â  Â  Â  Â  Â  gradient: 'from-green-500 to-emerald-500'
Â  Â  Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  Â  Â  {
Â  Â  Â  Â  Â  Â  Â  Â  Â  icon: <Calendar className="w-12 h-12" />,
Â  Â  Â  Â  Â  Â  Â  Â  Â  titleKey: 'landing.features.bookingSupport.title',
Â  Â  Â  Â  Â  Â  Â  Â  Â  descriptionKey: 'landing.features.bookingSupport.description',
Â  Â  Â  Â  Â  Â  Â  Â  Â  gradient: 'from-orange-500 to-red-500'
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  ].map((feature, index) => (
Â  Â  Â  Â  Â  Â  Â  Â  <motion.div
Â  Â  Â  Â  Â  Â  Â  Â  Â  key={index}
Â  Â  Â  Â  Â  Â  Â  Â  Â  className="group relative"
Â  Â  Â  Â  Â  Â  Â  Â  Â  initial={{ opacity: 0, y: 50 }}
Â  Â  Â  Â  Â  Â  Â  Â  Â  whileInView={{ opacity: 1, y: 0 }}
Â  Â  Â  Â  Â  Â  Â  Â  Â  transition={{ duration: 0.8, delay: index * 0.2 }}
Â  Â  Â  Â  Â  Â  Â  Â  Â  viewport={{ once: true }}
Â  Â  Â  Â  Â  Â  Â  Â  Â  whileHover={{ scale: 1.02 }}
Â  Â  Â  Â  Â  Â  Â  Â  >
Â  Â  Â  Â  Â  Â  Â  Â  Â  {/* Glowing background */}
Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className={`absolute inset-0 bg-gradient-to-r ${feature.gradient} opacity-5 rounded-3xl blur-xl group-hover:opacity-10 transition-opacity duration-500`} />
Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  {/* Card content - 5%ä¸é€é */}
Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="relative backdrop-blur-sm bg-white/5 rounded-3xl p-8 border border-white/10 shadow-lg hover:bg-white/8 transition-all duration-500">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className={`inline-flex p-4 rounded-2xl bg-gradient-to-r ${feature.gradient} text-white mb-6 shadow-lg`}>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {feature.icon}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3 className="text-2xl font-bold text-white mb-4" style={{ fontFamily: 'serif, "Noto Serif JP", "Yu Mincho", "YuMincho", "Hiragino Mincho Pro", "MS PMincho", serif' }}>{t(feature.titleKey)}</h3>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p className="text-white/80 text-lg leading-relaxed" style={{ fontFamily: 'serif, "Noto Serif JP", "Yu Mincho", "YuMincho", "Hiragino Mincho Pro", "MS PMincho", serif' }}>{t(feature.descriptionKey)}</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {/* Hover effect line */}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <motion.div
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className={`h-1 bg-gradient-to-r ${feature.gradient} rounded-full mt-6 origin-left`}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  initial={{ scaleX: 0 }}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  whileInView={{ scaleX: 1 }}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  transition={{ duration: 1, delay: index * 0.2 + 0.5 }}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  viewport={{ once: true }}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  />
Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  </motion.div>
Â  Â  Â  Â  Â  Â  Â  ))}
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </section>

Â  Â  Â  Â  {/* Interests Section with floating cards */}
Â  Â  Â  Â  <section className="relative z-10 py-32 px-6">
Â  Â  Â  Â  Â  <div className="max-w-7xl mx-auto">
Â  Â  Â  Â  Â  Â  <motion.div
Â  Â  Â  Â  Â  Â  Â  className="text-center mb-20"
Â  Â  Â  Â  Â  Â  Â  initial={{ opacity: 0, y: 50 }}
Â  Â  Â  Â  Â  Â  Â  whileInView={{ opacity: 1, y: 0 }}
Â  Â  Â  Â  Â  Â  Â  transition={{ duration: 1 }}
Â  Â  Â  Â  Â  Â  Â  viewport={{ once: true }}
Â  Â  Â  Â  Â  Â  >
Â  Â  Â  Â  Â  Â  Â  <h2 className="text-5xl md:text-6xl font-black text-white mb-6" style={{ fontFamily: 'serif, "Noto Serif JP", "Yu Mincho", "YuMincho", "Hiragino Mincho Pro", "MS PMincho", serif' }}>
Â  Â  Â  Â  Â  Â  Â  Â  {t('landing.interests.title')}
Â  Â  Â  Â  Â  Â  Â  Â  <br />
Â  Â  Â  Â  Â  Â  Â  Â  <span className="bg-gradient-to-r from-yellow-300 via-pink-300 to-purple-300 bg-clip-text text-transparent" style={{ fontFamily: 'serif, "Noto Serif JP", "Yu Mincho", "YuMincho", "Hiragino Mincho Pro", "MS PMincho", serif' }}>
Â  Â  Â  Â  Â  Â  Â  Â  Â  {t('landing.interests.titleHighlight')}
Â  Â  Â  Â  Â  Â  Â  Â  </span>
Â  Â  Â  Â  Â  Â  Â  </h2>
Â  Â  Â  Â  Â  Â  </motion.div>

Â  Â  Â  Â  Â  Â  <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
Â  Â  Â  Â  Â  Â  Â  {[
Â  Â  Â  Â  Â  Â  Â  Â  { id: 'culture', icon: 'ğŸ¯', titleKey: 'landing.interests.culture' },
Â  Â  Â  Â  Â  Â  Â  Â  { id: 'shopping', icon: 'ğŸ›ï¸', titleKey: 'landing.interests.shopping' },
Â  Â  Â  Â  Â  Â  Â  Â  { id: 'gourmet', icon: 'ğŸœ', titleKey: 'landing.interests.gourmet' },
Â  Â  Â  Â  Â  Â  Â  Â  { id: 'nature', icon: 'ğŸŒ¸', titleKey: 'landing.interests.nature' },
Â  Â  Â  Â  Â  Â  Â  Â  { id: 'wellness', icon: 'ğŸ’†â€â™€ï¸', titleKey: 'landing.interests.wellness' },
Â  Â  Â  Â  Â  Â  Â  Â  { id: 'events', icon: 'ğŸ†', titleKey: 'landing.interests.events' }
Â  Â  Â  Â  Â  Â  Â  ].map((interest, index) => (
Â  Â  Â  Â  Â  Â  Â  Â  <motion.div
Â  Â  Â  Â  Â  Â  Â  Â  Â  key={interest.id}
Â  Â  Â  Â  Â  Â  Â  Â  Â  className="group relative"
Â  Â  Â  Â  Â  Â  Â  Â  Â  initial={{ opacity: 0, y: 50, rotateY: -15 }}
Â  Â  Â  Â  Â  Â  Â  Â  Â  whileInView={{ opacity: 1, y: 0, rotateY: 0 }}
Â  Â  Â  Â  Â  Â  Â  Â  Â  transition={{ duration: 0.8, delay: index * 0.1 }}
Â  Â  Â  Â  Â  Â  Â  Â  Â  viewport={{ once: true }}
Â  Â  Â  Â  Â  Â  Â  Â  Â  whileHover={{Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  scale: 1.05,Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  rotateY: 5,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  z: 50
Â  Â  Â  Â  Â  Â  Â  Â  Â  }}
Â  Â  Â  Â  Â  Â  Â  Â  Â  style={{ transformStyle: 'preserve-3d' }}
Â  Â  Â  Â  Â  Â  Â  Â  >
Â  Â  Â  Â  Â  Â  Â  Â  Â  {/* Floating glow effect */}
Â  Â  Â  Â  Â  Â  Â  Â  Â  <motion.div
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className="absolute inset-0 bg-gradient-to-r from-purple-500/10 to-pink-500/10 rounded-3xl blur-xl"
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  animate={{
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  scale: [1, 1.1, 1],
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  opacity: [0.1, 0.3, 0.1]
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  transition={{
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  duration: 3,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  repeat: Infinity,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  delay: index * 0.5
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }}
Â  Â  Â  Â  Â  Â  Â  Â  Â  />
Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  {/* ã‚«ãƒ¼ãƒ‰èƒŒæ™¯ã‚’5%ä¸é€é */}
Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="relative backdrop-blur-sm bg-white/5 rounded-3xl p-8 text-center border border-white/10 shadow-lg hover:bg-white/8 transition-all duration-500">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <motion.divÂ 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className="text-6xl mb-4"
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  animate={{
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  rotateY: [0, 10, -10, 0],
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  scale: [1, 1.1, 1]
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  transition={{
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  duration: 4,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  repeat: Infinity,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  delay: index * 0.3
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  >
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {interest.icon}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </motion.div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3 className="text-xl font-bold text-white" style={{ fontFamily: 'serif, "Noto Serif JP", "Yu Mincho", "YuMincho", "Hiragino Mincho Pro", "MS PMincho", serif' }}>{t(interest.titleKey)}</h3>
Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  </motion.div>
Â  Â  Â  Â  Â  Â  Â  ))}
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </section>

Â  Â  Â  Â  {/* Premium Section */}
Â  Â  Â  Â  <section className="relative z-10 py-32 px-6">
Â  Â  Â  Â  Â  <div className="max-w-7xl mx-auto">
Â  Â  Â  Â  Â  Â  <motion.div
Â  Â  Â  Â  Â  Â  Â  className="relative"
Â  Â  Â  Â  Â  Â  Â  initial={{ opacity: 0, scale: 0.9 }}
Â  Â  Â  Â  Â  Â  Â  whileInView={{ opacity: 1, scale: 1 }}
Â  Â  Â  Â  Â  Â  Â  transition={{ duration: 1 }}
Â  Â  Â  Â  Â  Â  Â  viewport={{ once: true }}
Â  Â  Â  Â  Â  Â  >
Â  Â  Â  Â  Â  Â  Â  <div className="absolute inset-0 bg-gradient-to-r from-purple-500/5 via-pink-500/5 to-blue-500/5 rounded-3xl blur-3xl animate-pulse" />
Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  {/* ãƒ¡ã‚¤ãƒ³ãƒœãƒƒã‚¯ã‚¹ã‚’5%ä¸é€é */}
Â  Â  Â  Â  Â  Â  Â  <div className="relative backdrop-blur-sm bg-white/5 rounded-3xl p-12 border border-white/10 shadow-lg">
Â  Â  Â  Â  Â  Â  Â  Â  <div className="text-center mb-16">
Â  Â  Â  Â  Â  Â  Â  Â  Â  <motion.h2
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className="text-5xl md:text-6xl font-black text-white mb-6"
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  style={{ fontFamily: 'serif, "Noto Serif JP", "Yu Mincho", "YuMincho", "Hiragino Mincho Pro", "MS PMincho", serif' }}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  initial={{ opacity: 0, y: 30 }}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  whileInView={{ opacity: 1, y: 0 }}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  transition={{ duration: 0.8 }}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  viewport={{ once: true }}
Â  Â  Â  Â  Â  Â  Â  Â  Â  >
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {t('landing.premium.title')}
Â  Â  Â  Â  Â  Â  Â  Â  Â  </motion.h2>
Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  <motion.div
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className="text-3xl md:text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-yellow-300 via-pink-300 to-purple-300 mb-8"
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  style={{ fontFamily: 'serif, "Noto Serif JP", "Yu Mincho", "YuMincho", "Hiragino Mincho Pro", "MS PMincho", serif' }}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  initial={{ opacity: 0, scale: 0.8 }}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  whileInView={{ opacity: 1, scale: 1 }}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  transition={{ duration: 0.8, delay: 0.2 }}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  viewport={{ once: true }}
Â  Â  Â  Â  Â  Â  Â  Â  Â  >
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {t('landing.premium.price')}
Â  Â  Â  Â  Â  Â  Â  Â  Â  </motion.div>
Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  <p className="text-xl text-white/90 mb-8 max-w-3xl mx-auto" style={{ fontFamily: 'serif, "Noto Serif JP", "Yu Mincho", "YuMincho", "Hiragino Mincho Pro", "MS PMincho", serif' }}>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {t('landing.premium.subtitle')}
Â  Â  Â  Â  Â  Â  Â  Â  Â  </p>
Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12">
Â  Â  Â  Â  Â  Â  Â  Â  Â  {[
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  icon: <MapPin className="w-8 h-8" />,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  title: t('landing.premium.features.planning') || 'è©³ç´°ãƒ—ãƒ©ãƒ³ãƒ‹ãƒ³ã‚°',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  description: t('landing.premium.features.planningDesc') || 'å®Œå…¨ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½ãªæ—…ç¨‹ä½œæˆ'
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  icon: <Users className="w-8 h-8" />,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  title: t('landing.premium.features.crowdAvoidance') || 'æ··é›‘å›é¿ãƒ«ãƒ¼ãƒˆ',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  description: t('landing.premium.features.crowdAvoidanceDesc') || 'AIãŒæœ€é©ãªæ™‚é–“ã¨ãƒ«ãƒ¼ãƒˆã‚’ææ¡ˆ'
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  icon: <DollarSign className="w-8 h-8" />,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  title: t('landing.premium.features.budgetOptimization') || 'äºˆç®—æœ€é©åŒ–',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  description: t('landing.premium.features.budgetOptimizationDesc') || 'ã‚³ã‚¹ãƒˆãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€å¤§åŒ–'
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  icon: <Star className="w-8 h-8" />,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  title: t('landing.premium.features.premiumSupport') || 'ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ã‚µãƒãƒ¼ãƒˆ',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  description: t('landing.premium.features.premiumSupportDesc') || '24æ™‚é–“å°‚ç”¨ã‚µãƒãƒ¼ãƒˆ'
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  icon: <Globe className="w-8 h-8" />,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  title: t('landing.premium.features.globalAccess') || 'ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¢ã‚¯ã‚»ã‚¹',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  description: t('landing.premium.features.globalAccessDesc') || 'ä¸–ç•Œä¸­ã©ã“ã‹ã‚‰ã§ã‚‚ã‚¢ã‚¯ã‚»ã‚¹'
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  icon: <Wifi className="w-8 h-8" />,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  title: t('landing.premium.features.connectivity') || 'æ¥ç¶šæ€§',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  description: t('landing.premium.features.connectivityDesc') || 'é«˜é€Ÿãƒ‡ãƒ¼ã‚¿é€šä¿¡ä¿è¨¼'
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  ].map((feature, index) => (
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <motion.div
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  key={index}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className="backdrop-blur-sm bg-white/5 rounded-2xl p-6 border border-white/10 hover:bg-white/8 transition-all duration-300"
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  initial={{ opacity: 0, y: 30 }}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  whileInView={{ opacity: 1, y: 0 }}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  transition={{ duration: 0.6, delay: index * 0.1 }}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  viewport={{ once: true }}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  whileHover={{ scale: 1.05 }}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  >
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="text-white mb-4">{feature.icon}</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3 className="text-lg font-bold text-white mb-2" style={{ fontFamily: 'serif, "Noto Serif JP", "Yu Mincho", "YuMincho", "Hiragino Mincho Pro", "MS PMincho", serif' }}>{feature.title}</h3>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p className="text-white/80 text-sm" style={{ fontFamily: 'serif, "Noto Serif JP", "Yu Mincho", "YuMincho", "Hiragino Mincho Pro", "MS PMincho", serif' }}>{feature.description}</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </motion.div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  ))}
Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  <div className="text-center">
Â  Â  Â  Â  Â  Â  Â  Â  Â  <motion.div
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  initial={{ opacity: 0, scale: 0.8 }}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  whileInView={{ opacity: 1, scale: 1 }}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  transition={{ duration: 0.8, delay: 0.5 }}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  viewport={{ once: true }}
Â  Â  Â  Â  Â  Â  Â  Â  Â  >
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <MagicBox onOpen={() => navigate('/checkout')} />
Â  Â  Â  Â  Â  Â  Â  Â  Â  </motion.div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </motion.div>
Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </section>

Â  Â  Â  Â  {/* Final CTA Section */}
Â  Â  Â  Â  <section className="relative z-10 py-32 px-6">
Â  Â  Â  Â  Â  <div className="max-w-6xl mx-auto text-center">
Â  Â  Â  Â  Â  Â  <motion.div
Â  Â  Â  Â  Â  Â  Â  initial={{ opacity: 0, y: 50 }}
Â  Â  Â  Â  Â  Â  Â  whileInView={{ opacity: 1, y: 0 }}
Â  Â  Â  Â  Â  Â  Â  transition={{ duration: 1 }}
Â  Â  Â  Â  Â  Â  Â  viewport={{ once: true }}
Â  Â  Â  Â  Â  Â  >
Â  Â  Â  Â  Â  Â  Â  {/* Revolutionary text effect */}
Â  Â  Â  Â  Â  Â  Â  <motion.h2
Â  Â  Â  Â  Â  Â  Â  Â  className="text-4xl md:text-6xl font-black text-white mb-12 leading-tight"
Â  Â  Â  Â  Â  Â  Â  Â  style={{ fontFamily: 'serif, "Noto Serif JP", "Yu Mincho", "YuMincho", "Hiragino Mincho Pro", "MS PMincho", serif' }}
Â  Â  Â  Â  Â  Â  Â  Â  initial={{ opacity: 0 }}
Â  Â  Â  Â  Â  Â  Â  Â  whileInView={{ opacity: 1 }}
Â  Â  Â  Â  Â  Â  Â  Â  transition={{ duration: 1.5 }}
Â  Â  Â  Â  Â  Â  Â  Â  viewport={{ once: true }}
Â  Â  Â  Â  Â  Â  Â  >
Â  Â  Â  Â  Â  Â  Â  Â  <motion.span
Â  Â  Â  Â  Â  Â  Â  Â  Â  className="inline-block"
Â  Â  Â  Â  Â  Â  Â  Â  Â  animate={{
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  backgroundPosition: ['0% 50%', '100% 50%', '0% 50%'],
Â  Â  Â  Â  Â  Â  Â  Â  Â  }}
Â  Â  Â  Â  Â  Â  Â  Â  Â  transition={{
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  duration: 3,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  repeat: Infinity,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ease: "linear"
Â  Â  Â  Â  Â  Â  Â  Â  Â  }}
Â  Â  Â  Â  Â  Â  Â  Â  Â  style={{
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  background: 'linear-gradient(90deg, #fff, #fbbf24, #ec4899, #8b5cf6, #fff)',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  backgroundSize: '200% 100%',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  WebkitBackgroundClip: 'text',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  WebkitTextFillColor: 'transparent',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  backgroundClip: 'text',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  fontFamily: 'serif, "Noto Serif JP", "Yu Mincho", "YuMincho", "Hiragino Mincho Pro", "MS PMincho", serif'
Â  Â  Â  Â  Â  Â  Â  Â  Â  }}
Â  Â  Â  Â  Â  Â  Â  Â  >
Â  Â  Â  Â  Â  Â  Â  Â  Â  {t('landing.closing.line1')}
Â  Â  Â  Â  Â  Â  Â  Â  </motion.span>
Â  Â  Â  Â  Â  Â  Â  Â  <br />
Â  Â  Â  Â  Â  Â  Â  Â  <motion.span
Â  Â  Â  Â  Â  Â  Â  Â  Â  className="text-white/90"
Â  Â  Â  Â  Â  Â  Â  Â  Â  style={{ fontFamily: 'serif, "Noto Serif JP", "Yu Mincho", "YuMincho", "Hiragino Mincho Pro", "MS PMincho", serif' }}
Â  Â  Â  Â  Â  Â  Â  Â  Â  initial={{ opacity: 0 }}
Â  Â  Â  Â  Â  Â  Â  Â  Â  whileInView={{ opacity: 1 }}
Â  Â  Â  Â  Â  Â  Â  Â  Â  transition={{ duration: 1, delay: 0.5 }}
Â  Â  Â  Â  Â  Â  Â  Â  Â  viewport={{ once: true }}
Â  Â  Â  Â  Â  Â  Â  Â  >
Â  Â  Â  Â  Â  Â  Â  Â  Â  {t('landing.closing.line2')}
Â  Â  Â  Â  Â  Â  Â  Â  </motion.span>
Â  Â  Â  Â  Â  Â  Â  Â  <br />
Â  Â  Â  Â  Â  Â  Â  Â  <motion.span
Â  Â  Â  Â  Â  Â  Â  Â  Â  className="text-transparent bg-clip-text bg-gradient-to-r from-blue-300 to-purple-300"
Â  Â  Â  Â  Â  Â  Â  Â  Â  style={{ fontFamily: 'serif, "Noto Serif JP", "Yu Mincho", "YuMincho", "Hiragino Mincho Pro", "MS PMincho", serif' }}
Â  Â  Â  Â  Â  Â  Â  Â  Â  initial={{ opacity: 0 }}
Â  Â  Â  Â  Â  Â  Â  Â  Â  whileInView={{ opacity: 1 }}
Â  Â  Â  Â  Â  Â  Â  Â  Â  transition={{ duration: 1, delay: 1 }}
Â  Â  Â  Â  Â  Â  Â  Â  Â  viewport={{ once: true }}
Â  Â  Â  Â  Â  Â  Â  Â  >
Â  Â  Â  Â  Â  Â  Â  Â  Â  {t('landing.closing.line3')}
Â  Â  Â  Â  Â  Â  Â  Â  </motion.span>
Â  Â  Â  Â  Â  Â  Â  </motion.h2>
Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  {/* Final MagicBox */}
Â  Â  Â  Â  Â  Â  Â  <motion.div
Â  Â  Â  Â  Â  Â  Â  Â  initial={{ opacity: 0, scale: 0.5 }}
Â  Â  Â  Â  Â  Â  Â  Â  whileInView={{ opacity: 1, scale: 1 }}
Â  Â  Â  Â  Â  Â  Â  Â  transition={{ duration: 1, delay: 1.2 }}
Â  Â  Â  Â  Â  Â  Â  Â  viewport={{ once: true }}
Â  Â  Â  Â  Â  Â  Â  Â  className="relative"
Â  Â  Â  Â  Â  Â  Â  >
Â  Â  Â  Â  Â  Â  Â  Â  {/* Surrounding energy rings */}
Â  Â  Â  Â  Â  Â  Â  Â  {[...Array(3)].map((_, i) => (
Â  Â  Â  Â  Â  Â  Â  Â  Â  <motion.div
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  key={i}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className="absolute inset-0 border-2 border-white/20 rounded-full"
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  style={{
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  width: `${120 + i * 40}px`,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  height: `${120 + i * 40}px`,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  left: '50%',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  top: '50%',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  transform: 'translate(-50%, -50%)'
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  animate={{
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  scale: [1, 1.2, 1],
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  opacity: [0.3, 0.1, 0.3]
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  transition={{
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  duration: 3,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  repeat: Infinity,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  delay: i * 0.5
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }}
Â  Â  Â  Â  Â  Â  Â  Â  Â  />
Â  Â  Â  Â  Â  Â  Â  Â  ))}
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  <MagicBox onOpen={handleGetStarted} />
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  {/* Call to action text */}
Â  Â  Â  Â  Â  Â  Â  Â  <motion.p
Â  Â  Â  Â  Â  Â  Â  Â  Â  className="text-white/80 text-lg mt-8 font-medium"
Â  Â  Â  Â  Â  Â  Â  Â  Â  style={{ fontFamily: 'serif, "Noto Serif JP", "Yu Mincho", "YuMincho", "Hiragino Mincho Pro", "MS PMincho", serif' }}
Â  Â  Â  Â  Â  Â  Â  Â  Â  initial={{ opacity: 0 }}
Â  Â  Â  Â  Â  Â  Â  Â  Â  whileInView={{ opacity: 1 }}
Â  Â  Â  Â  Â  Â  Â  Â  Â  transition={{ duration: 1, delay: 1.5 }}
Â  Â  Â  Â  Â  Â  Â  Â  Â  viewport={{ once: true }}
Â  Â  Â  Â  Â  Â  Â  Â  >
Â  Â  Â  Â  Â  Â  Â  Â  Â  {t('landing.cta.startNow')}
Â  Â  Â  Â  Â  Â  Â  Â  </motion.p>
Â  Â  Â  Â  Â  Â  Â  </motion.div>
Â  Â  Â  Â  Â  Â  </motion.div>
Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </section>
Â  Â  Â  </div>
Â  Â  </>
Â  );
};

export default LandingPage;
</file>

</files>
